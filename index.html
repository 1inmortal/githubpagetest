<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Portafolio profesional con interfaz holográfica cyberpunk">
  <meta name="author" content="Ing. Espinosa Martínez José Armando">
  <meta name="copyright" content="© 2024 CyberLab. Based on design © 2025 Ing. Espinosa Martínez José Armando">
  
  <title>CyberLab Overdrive Dashboard – Interfaz Holográfica v2.0</title>

  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Share+Tech+Mono|VT323" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Share+Tech+Mono|VT323"></noscript>
  
  <!-- External CSS with async loading -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">

  <!-- GSAP Animation Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>

  <!-- ============================================================ -->
  <!-- CSS Styles (Enhanced Visual Details)                         -->
  <!-- ============================================================ -->
  <style>
    /* ============================================================
       CSS VARIABLES & THEMES
       ------------------------------------------------------------
       Optimized color system and design tokens
    ============================================================ */
    :root {
      /* Color System */
      --hue: 160;
      --saturation: 100%;
      --brightness-accent: 50%;
      --brightness-bg: 5%;
      --brightness-text: 95%;
      --brightness-muted: 70%;
      --brightness-feedback: 60%;

      /* Base Colors */
      --color-bg: hsla(var(--hue), var(--saturation), var(--brightness-bg), 1);
      --color-accent: hsla(var(--hue), var(--saturation), var(--brightness-accent), 1);
      --color-accent-glow: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) + 10%), 0.7);
      --color-accent-dark: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) - 15%), 1);
      --color-text: hsla(var(--hue), 10%, var(--brightness-text), 1);
      --color-muted: hsla(var(--hue), 10%, var(--brightness-muted), 1);
      --color-border: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) / 2), 0.3);
      --color-glass-bg: hsla(var(--hue), 30%, 15%, 0.15);
      --color-glass-hover: hsla(var(--hue), 40%, 20%, 0.25);
      --color-accent-rgb: 0, 255, 170;

      /* Feedback Colors */
      --color-feedback-success: hsla(120, 70%, var(--brightness-feedback), 1);
      --color-feedback-error: hsla(0, 100%, var(--brightness-feedback), 1);
      --color-feedback-warning: hsla(45, 100%, var(--brightness-feedback), 1);

      /* Timing */
      --transition-fast: 0.2s;
      --transition-medium: 0.4s;
      --transition-slow: 0.7s;

      /* Typography */
      --font-main: 'Share Tech Mono', monospace;
      --font-heading: 'VT323', monospace;

      /* HUD System */
      --hud-border-width: 2px;
      --hud-corner-size: 25px;
      --hud-line-thickness: 1px;
      --hud-glow: 0 0 6px var(--color-accent-glow), 0 0 12px var(--color-accent-glow);
      --hud-text-shadow: 0 0 4px var(--color-accent-glow);

      /* Animation Elements */
      --hud-dot-size: 2px;
      --hud-scan-speed: 1s;
      --hud-scan-width: 10px;
      --hud-dot-color: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) + 20%), 0.8);
      --hud-noise-color: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) + 30%), 0.5);
      --hud-data-streak-color: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) + 40%), 0.9);

      /* Responsive Breakpoints */
      --mobile-break: 768px;
      --tablet-break: 1024px;
    }

    /* Light Theme */
    [data-theme="light"] {
      --hue: 200;
      --saturation: 50%;
      --brightness-bg: 95%;
      --brightness-accent: 45%;
      --brightness-text: 10%;
      --brightness-muted: 40%;
      --brightness-feedback: 45%;

      /* Recalculate colors */
      --color-bg: hsla(var(--hue), 20%, var(--brightness-bg), 1);
      --color-accent: hsla(var(--hue), 80%, var(--brightness-accent), 1);
      --color-accent-glow: hsla(var(--hue), 80%, calc(var(--brightness-accent) + 10%), 0.6);
      --color-accent-dark: hsla(var(--hue), 80%, calc(var(--brightness-accent) - 15%), 1);
      --color-text: hsla(var(--hue), 10%, var(--brightness-text), 1);
      --color-muted: hsla(var(--hue), 10%, var(--brightness-muted), 1);
      --color-border: hsla(var(--hue), 50%, calc(var(--brightness-accent)), 0.3);
      --color-glass-bg: hsla(var(--hue), 30%, 85%, 0.25);
      --color-glass-hover: hsla(var(--hue), 40%, 75%, 0.35);
      --color-accent-rgb: 0, 170, 255;

      /* Feedback Colors */
      --color-feedback-success: hsla(120, 70%, var(--brightness-feedback), 1);
      --color-feedback-error: hsla(0, 100%, var(--brightness-feedback), 1);
      --color-feedback-warning: hsla(45, 100%, var(--brightness-feedback), 1);

      /* Animation Elements */
      --hud-dot-color: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) - 10%), 0.8);
      --hud-noise-color: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) - 20%), 0.5);
      --hud-data-streak-color: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) - 30%), 0.9);
    }

    /* ============================================================
       GSAP ANIMATION SYSTEM
       ------------------------------------------------------------
       Advanced cyberpunk animations and effects
    ============================================================ */
    
    /* Initial states for GSAP animations */
    .gsap-initial {
      opacity: 0;
      transform: translateY(30px);
    }
    
    .gsap-initial-scale {
      opacity: 0;
      transform: scale(0.8);
    }
    
    .gsap-initial-slide-left {
      opacity: 0;
      transform: translateX(-50px);
    }
    
    .gsap-initial-slide-right {
      opacity: 0;
      transform: translateX(50px);
    }
    

    
    /* Tilt effect for cards */
    .tilt-card {
      transform-style: preserve-3d;
      transition: transform 0.1s ease;
    }
    
    .tilt-card-inner {
      transform-style: preserve-3d;
      transition: transform 0.1s ease;
    }
    

    
    /* Glitch text effect */
    .glitch-text {
      position: relative;
      display: inline-block;
    }
    
    .glitch-text::before,
    .glitch-text::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.8;
    }
    
    .glitch-text::before {
      animation: glitch-1 0.3s infinite;
      color: #ff0000;
      z-index: -1;
    }
    
    .glitch-text::after {
      animation: glitch-2 0.3s infinite;
      color: #00ffff;
      z-index: -2;
    }
    
    @keyframes glitch-1 {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
    }
    
    @keyframes glitch-2 {
      0%, 100% { transform: translate(0); }
      20% { transform: translate(2px, -2px); }
      40% { transform: translate(2px, 2px); }
      60% { transform: translate(-2px, -2px); }
      80% { transform: translate(-2px, 2px); }
    }
    


    /* ============================================================
       RESET & BASE STYLES
       ------------------------------------------------------------
       Optimized reset and foundational styles
    ============================================================ */
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      font-size: 16px;
      overflow-y: scroll;
      scrollbar-color: var(--color-accent) rgba(var(--color-bg), 0.3);
      scrollbar-width: thin;
    }

    body {
      font-family: var(--font-main);
      background-color: var(--color-bg);
      color: var(--color-text);
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      cursor: url("IMG/CURSORS/cursor1.cur"), auto;
      transition: background-color var(--transition-medium), color var(--transition-medium);
    }

    /* Element Styles */
    ::selection {
      background-color: var(--color-accent);
      color: var(--color-bg);
      text-shadow: none;
    }

    a, button {
      text-decoration: none;
      color: inherit;
      cursor: pointer;
      background: none;
      border: none;
      font-family: inherit;
      outline: none;
    }
    
    a:focus, button:focus {
      outline: 1px dashed var(--color-accent);
    }

    img, video {
      max-width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    /* Lazy Loading */
    img[data-src] {
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }
    
    img.loaded { 
      opacity: 1; 
    }

    ul, li { 
      list-style: none; 
    }

    /* Initial State */
    #mainHeader, .main-content-wrapper, .hud-overlay {
      opacity: 0;
      transition: opacity var(--transition-slow) ease-in-out;
    }
    
    #mainHeader.visible, .main-content-wrapper.visible, .hud-overlay.visible {
      opacity: 1;
    }

    /* Background Layers */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      opacity: 0.15;
      filter: grayscale(50%) brightness(0.7);
      /* Performance optimizations */
      will-change: transform;
      transform: translateZ(0);
      backface-visibility: hidden;
      perspective: 1000px;
    }
    
    /* Video performance optimizations */
    @media (max-width: 768px) {
      #bg-video {
        opacity: 0.1; /* Reduce opacity on mobile for better performance */
      }
    }
    
    @media (prefers-reduced-motion: reduce) {
      #bg-video {
        opacity: 0.05; /* Minimal opacity for accessibility */
      }
    }
    
    /* Disable video on low-end devices */
    @media (max-width: 480px) {
      #bg-video {
        display: none; /* Hide video on very small screens */
      }
    }



    /* ============================================================
       CIRCUIT MESH LAYER
       ------------------------------------------------------------
       Optimized animated circuit pattern background
    ============================================================ */
    .circuit-mesh-layer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -0.5;
      pointer-events: none;
      opacity: 0.12;
      overflow: hidden;
    }

    .circuit-pattern {
      width: 100%;
      height: 100%;
      opacity: 1;
      filter: drop-shadow(0 0 2px var(--color-accent-glow));
    }

    .circuit-path {
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: opacity var(--transition-medium);
    }

    .circuit-node {
      filter: drop-shadow(0 0 3px var(--color-accent-glow));
      animation: node-pulse 3s infinite alternate ease-in-out;
    }

    .energy-pulse {
      stroke-linecap: round;
      stroke-linejoin: round;
      filter: drop-shadow(0 0 4px var(--color-accent-glow));
    }

    /* Pulse animations */
    .energy-pulse.pulse-1 { animation: pulse-travel-1 12s linear infinite; }
    .energy-pulse.pulse-2 { animation: pulse-travel-2 18s linear infinite 4s; }
    .energy-pulse.pulse-3 { animation: pulse-travel-3 15s linear infinite 8s; }

    /* Keyframes */
    @keyframes node-pulse {
      0%, 100% { opacity: 0.4; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.2); }
    }

    @keyframes pulse-travel-1 {
      0% { stroke-dashoffset: 600; }
      100% { stroke-dashoffset: -600; }
    }

    @keyframes pulse-travel-2 {
      0% { stroke-dashoffset: 450; }
      100% { stroke-dashoffset: -450; }
    }

    @keyframes pulse-travel-3 {
      0% { stroke-dashoffset: 550; }
      100% { stroke-dashoffset: -550; }
    }

    /* Responsive & Accessibility */
    @media (max-width: 768px) {
      .circuit-mesh-layer { opacity: 0.08; }
    }

    @media (prefers-reduced-motion: reduce) {
      .circuit-mesh-layer { opacity: 0.05; }
      .energy-pulse, .circuit-node { animation: none; }
    }

    /* ============================================================
       LOADER COREOGRAFIADO CON SINCRONIZACIÓN ABSOLUTA
       ------------------------------------------------------------
       GSAP Timeline orchestrated loading experience
    ============================================================ */
    .loader-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: var(--color-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 99999;
      opacity: 1;
      visibility: visible;
      transition: opacity var(--transition-slow) ease-in-out, visibility var(--transition-slow) step-end;
    }

    .loader-overlay:not(.active) {
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-slow) ease-in-out, visibility 0s var(--transition-slow);
    }

    .loader-hud-border {
      position: absolute;
      top: 20px; left: 20px; right: 20px; bottom: 20px;
      border: var(--hud-border-width) solid var(--color-border);
      pointer-events: none;
      box-shadow: inset 0 0 15px rgba(var(--color-accent-rgb), 0.1);
    }

    .loader-scanline {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 3px;
      background: repeating-linear-gradient(90deg, var(--color-accent) 0px, var(--color-accent) 2px, transparent 2px, transparent 4px);
      background-size: 10px 3px;
      box-shadow: var(--hud-glow);
      opacity: 0.7;
      z-index: 1;
      animation: scan 3s linear infinite, texture-scan 1s linear infinite;
    }

    /* Holographic Core Elements */
    .holographic-core {
      position: relative;
      width: 300px;
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
    }

    /* Central Nucleus */
    .core-nucleus {
      position: relative;
      width: 60px;
      height: 60px;
      transform-style: preserve-3d;
      opacity: 0;
      transform: scale(0);
    }

    .nucleus-geometry {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      animation: nucleus-rotate 4s linear infinite;
    }

    .nucleus-face {
      position: absolute;
      width: 60px;
      height: 60px;
      background: var(--color-accent);
      border: 2px solid var(--color-accent-glow);
      opacity: 0.8;
      box-shadow: 0 0 20px var(--color-accent-glow);
    }

    .nucleus-face.front { transform: translateZ(30px); }
    .nucleus-face.back { transform: translateZ(-30px); }
    .nucleus-face.left { transform: rotateY(-90deg) translateZ(30px); }
    .nucleus-face.right { transform: rotateY(90deg) translateZ(30px); }
    .nucleus-face.top { transform: rotateX(90deg) translateZ(30px); }
    .nucleus-face.bottom { transform: rotateX(-90deg) translateZ(30px); }

    .nucleus-glow {
      position: absolute;
      top: -20px;
      left: -20px;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%);
      border-radius: 50%;
      opacity: 0;
      filter: blur(10px);
    }

    /* Orbital Rings */
    .orbital-rings {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
    }

    .orbital-ring {
      position: absolute;
      border: 2px solid var(--color-accent);
      border-radius: 50%;
      opacity: 0;
      box-shadow: 0 0 15px var(--color-accent-glow);
    }

    .orbital-ring.ring-1 {
      width: 120px;
      height: 120px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .orbital-ring.ring-2 {
      width: 180px;
      height: 180px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .orbital-ring.ring-3 {
      width: 240px;
      height: 240px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    /* Progress Interface */
    .loader-progress-interface {
      position: absolute;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 3;
      width: 400px;
    }

    .status-text {
      font-family: var(--font-main);
      font-size: 1.2rem;
      color: var(--color-accent);
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 20px;
      min-height: 30px;
      position: relative;
    }

    .status-text::after {
      content: '|';
      color: var(--color-accent);
      display: inline-block;
      animation: cursor-blink 1s steps(1, start) infinite;
    }

    .progress-bar-container {
      width: 100%;
      height: 12px;
      background: rgba(var(--color-accent-rgb), 0.1);
      border: 2px solid var(--color-border);
      border-radius: 6px;
      overflow: hidden;
      margin: 15px auto;
      box-shadow: inset 0 0 8px rgba(0,0,0,0.5);
      position: relative;
    }

    .progress-bar {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, var(--color-accent) 0%, var(--color-accent-glow) 100%);
      box-shadow: var(--hud-glow);
      border-radius: 4px;
      transition: width 0.1s linear;
    }

    .percentage-counter {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      color: var(--color-accent);
      text-shadow: var(--hud-glow);
      margin-top: 10px;
    }

    /* Loader Animations */
    @keyframes scan {
      0% { transform: translateY(0); }
      50% { transform: translateY(calc(100vh - 3px)); }
      100% { transform: translateY(0); }
    }

    @keyframes texture-scan {
      0% { background-position: 0 0; }
      100% { background-position: 10px 0; }
    }

    @keyframes nucleus-rotate {
      0% { transform: rotateX(0deg) rotateY(0deg); }
      100% { transform: rotateX(360deg) rotateY(360deg); }
    }

    @keyframes cursor-blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .holographic-core {
        width: 250px;
        height: 250px;
      }
      
      .orbital-ring.ring-1 { width: 100px; height: 100px; }
      .orbital-ring.ring-2 { width: 150px; height: 150px; }
      .orbital-ring.ring-3 { width: 200px; height: 200px; }
      
      .loader-progress-interface {
        width: 300px;
      }
      
      .status-text {
        font-size: 1rem;
        letter-spacing: 1px;
      }
      
      .percentage-counter {
        font-size: 1.2rem;
      }
    }

    /* ============================================================
       NÚCLEO NEURONAL INTERACTIVO
       ------------------------------------------------------------
       El cerebro central de la interfaz con reactividad dinámica
    ============================================================ */
    .neural-core-container {
      position: fixed;
      bottom: 120px;
      right: 30px;
      width: 80px;
      height: 80px;
      z-index: 1000;
      pointer-events: none;
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .neural-core-container.visible {
      opacity: 1;
      transform: scale(1);
    }

    .neural-core-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(var(--color-accent-rgb), 0.1) 0%, transparent 70%);
      box-shadow: 
        0 0 20px rgba(var(--color-accent-rgb), 0.3),
        inset 0 0 20px rgba(var(--color-accent-rgb), 0.1);
    }

    /* Partículas energéticas */
    .particle-container {
      position: absolute;
      top: -20px;
      left: -20px;
      width: 120px;
      height: 120px;
      pointer-events: none;
    }

    .energy-particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--color-accent);
      border-radius: 50%;
      box-shadow: 0 0 4px var(--color-accent-glow);
      opacity: 0;
      animation: particle-float 3s infinite ease-in-out;
    }

    @keyframes particle-float {
      0% {
        opacity: 0;
        transform: translate(40px, 40px) scale(0);
      }
      20% {
        opacity: 1;
        transform: translate(40px, 40px) scale(1);
      }
      80% {
        opacity: 1;
        transform: translate(var(--particle-x), var(--particle-y)) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(var(--particle-x), var(--particle-y)) scale(0);
      }
    }

    /* Trazadores de luz para interacciones */
    .light-tracers {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 999;
    }

    .light-tracer {
      position: absolute;
      height: 1px;
      background: linear-gradient(90deg, var(--color-accent) 0%, transparent 100%);
      box-shadow: 0 0 4px var(--color-accent-glow);
      opacity: 0;
      transform-origin: left center;
      animation: tracer-pulse 0.6s ease-out;
    }

    @keyframes tracer-pulse {
      0% {
        opacity: 0;
        transform: scaleX(0);
      }
      50% {
        opacity: 1;
        transform: scaleX(1);
      }
      100% {
        opacity: 0;
        transform: scaleX(1);
      }
    }

    /* Indicadores de estado */
    .neural-status-indicators {
      position: absolute;
      top: -10px;
      right: -10px;
      display: flex;
      gap: 2px;
    }

    .status-indicator {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--color-accent);
      opacity: 0.3;
      transition: opacity 0.3s ease, background-color 0.3s ease;
    }

    .status-indicator.active {
      opacity: 1;
      animation: status-pulse 1s infinite alternate;
    }

    @keyframes status-pulse {
      0% { opacity: 0.3; }
      100% { opacity: 1; }
    }

    /* Estados específicos del núcleo */
    .neural-core-container.scroll-fast {
      animation: neural-excite 0.5s ease-out;
    }

    .neural-core-container.interaction-active {
      animation: neural-focus 0.3s ease-out;
    }

    .neural-core-container.content-aware {
      animation: neural-analyze 2s infinite ease-in-out;
    }

    .neural-core-container.system-active {
      animation: neural-operate 1s infinite ease-in-out;
    }

    @keyframes neural-excite {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    @keyframes neural-focus {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    @keyframes neural-analyze {
      0%, 100% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(1.05) rotate(180deg); }
    }

    @keyframes neural-operate {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }

    /* Responsive para el núcleo neuronal */
    @media (max-width: 768px) {
      .neural-core-container {
        bottom: 140px;
        right: 20px;
        width: 60px;
        height: 60px;
      }
      
      .neural-core-canvas {
        width: 60px;
        height: 60px;
      }
      
      .particle-container {
        width: 100px;
        height: 100px;
        top: -20px;
        left: -20px;
      }
    }


    /* ============================================================
       HUD OVERLAY STYLES
       ------------------------------------------------------------
       Includes new corner dot and scan animations
    ============================================================ */
    .hud-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; /* Crucial: allows clicks to pass through */
      z-index: 1000;
      overflow: visible;
    }

    /* Decorative Corners */
    .hud-corner {
      position: absolute;
      width: var(--hud-corner-size); height: var(--hud-corner-size);
      border-style: solid;
      border-color: var(--color-accent);
      opacity: 0.7;
      pointer-events: none; /* Ensure corners don't block events */
      /* Subtle animation */
      animation: corner-pulse 4s infinite alternate ease-in-out;
      overflow: hidden; /* Clip pseudo-element scans */
    }
    .hud-corner.top-left { top: 15px; left: 15px; border-width: var(--hud-border-width) 0 0 var(--hud-border-width); }
    .hud-corner.top-right { top: 15px; right: 15px; border-width: var(--hud-border-width) var(--hud-border-width) 0 0; animation-delay: 0.5s; }
    .hud-corner.bottom-left { bottom: 15px; left: 15px; border-width: 0 0 var(--hud-border-width) var(--hud-border-width); animation-delay: 1s; }
    .hud-corner.bottom-right { bottom: 15px; right: 15px; border-width: 0 var(--hud-border-width) var(--hud-border-width) 0; animation-delay: 1.5s; }

    @keyframes corner-pulse {
        0%, 100% { opacity: 0.7; transform: scale(1); }
        50% { opacity: 0.9; transform: scale(1.05); }
    }

    /* [HUD_CORNER_SCAN] Barridos de Puntos en las Esquinas - CSS Implementation */
    .hud-corner::before {
        content: '';
        position: absolute;
        background: repeating-linear-gradient(
          to right,
          var(--hud-dot-color) 0 2px,
          transparent 2px 4px
        );
        width: var(--hud-scan-width);
        height: var(--hud-line-thickness);
        animation: corner-scan var(--hud-scan-speed) ease-in-out infinite;
    }
     /* Specific positioning and animation for each corner's pseudo-element */
    .hud-corner.top-left::before {
        width: var(--hud-scan-width); height: var(--hud-line-thickness);
        top: calc(var(--hud-border-width) / -2); left: calc(var(--hud-border-width) / -2);
        transform-origin: top left;
        animation-name: corner-scan-tl;
    }
     .hud-corner.top-right::before {
        width: var(--hud-scan-width); height: var(--hud-line-thickness);
        top: calc(var(--hud-border-width) / -2); right: calc(var(--hud-border-width) / -2);
        transform-origin: top right;
        animation-name: corner-scan-tr; animation-delay: calc(var(--hud-scan-speed) * 0.25);
    }
     .hud-corner.bottom-left::before {
         width: var(--hud-line-thickness); height: var(--hud-scan-width);
         bottom: calc(var(--hud-border-width) / -2); left: calc(var(--hud-border-width) / -2);
         transform-origin: bottom left;
         animation-name: corner-scan-bl; animation-delay: calc(var(--hud-scan-speed) * 0.5);
     }
     .hud-corner.bottom-right::before {
         width: var(--hud-line-thickness); height: var(--hud-scan-width);
         bottom: calc(var(--hud-border-width) / -2); right: calc(var(--hud-border-width) / -2);
         transform-origin: bottom right;
         animation-name: corner-scan-br; animation-delay: calc(var(--hud-scan-speed) * 0.75);
     }

     @keyframes corner-scan-tl {
         0% { transform: translateX(0); }
         100% { transform: translateX(calc(var(--hud-corner-size) + var(--hud-border-width))); }
     }
      @keyframes corner-scan-tr {
          0% { transform: translateX(0); }
          100% { transform: translateX(calc(-1 * (var(--hud-corner-size) + var(--hud-border-width)))); }
      }
      @keyframes corner-scan-bl {
          0% { transform: translateY(0); }
          100% { transform: translateY(calc(-1 * (var(--hud-corner-size) + var(--hud-border-width)))); }
      }
      @keyframes corner-scan-br {
          0% { transform: translateY(0); }
          100% { transform: translateY(calc(var(--hud-corner-size) + var(--hud-border-width))); }
      }


    /* [HUD_PIXEL_DRIFT] & [NOISE_FIELD] & [INTERACTION_BURST] & [SYSTEM_GLITCH_PIXELS] - CSS for the dynamically generated elements */
    .hud-dynamic-bit {
        position: absolute;
        background-color: var(--hud-dot-color);
        pointer-events: none; /* Do not block clicks */
        opacity: 0; /* Starts hidden */
        /* Size, shape, and animation handled by JS for variations */
    }
     /* Specific style for noise blocks */
     .hud-dynamic-bit.noise {
         background-color: var(--hud-noise-color);
         width: 3px; /* Example size */
         height: 3px;
         border-radius: 0; /* Square */
     }
      /* Specific style for small dots */
     .hud-dynamic-bit.dot {
         width: var(--hud-dot-size);
         height: var(--hud-dot-size);
         border-radius: 50%; /* Circle */
     }
      /* Specific style for data streaks */
     .hud-dynamic-bit.streak {
         background-color: var(--hud-data-streak-color);
         width: 1px; /* Thin line */
         height: 5px;
         border-radius: 0;
     }
      /* Specific style for glitch pixels */
      .hud-dynamic-bit.glitch {
          width: 1px;
          height: 1px;
          background-color: var(--color-feedback-error); /* Red/Error color */
          opacity: 0.7;
          animation: glitch-pixel-fade 0.1s ease-out forwards; /* Very short animation */
      }


    /* Decorative Lines */
    .hud-line {
      position: absolute;
      background-color: var(--color-border);
      box-shadow: 0 0 3px var(--color-border);
      opacity: 0.5;
      pointer-events: none;
        /* [DATA_STREAK] Ráfagas de Datos Emergentes - CSS Implementation for lines */
        overflow: hidden; /* To hide pseudo-element movement */
    }
    .hud-line.top { top: 25px; left: calc(15px + var(--hud-corner-size)); right: calc(15px + var(--hud-corner-size)); height: var(--hud-line-thickness); }
    .hud-line.bottom { bottom: 25px; left: calc(15px + var(--hud-corner-size)); right: calc(15px + var(--hud-corner-size)); height: var(--hud-line-thickness); }
    .hud-line.left { left: 25px; top: calc(15px + var(--hud-corner-size)); bottom: calc(15px + var(--hud-corner-size)); width: var(--hud-line-thickness); }
    .hud-line.right { right: 25px; top: calc(15px + var(--hud-corner-size)); bottom: calc(15px + var(--hud-corner-size)); width: var(--hud-line-thickness); }

    /* Data streak pseudo-elements on lines */
    .hud-line::before {
        content: '';
        position: absolute;
        background: linear-gradient(
          to right,
          transparent 0%,
          var(--color-accent-glow) 50%,
          transparent 100%
        );
        opacity: 0.6;
        animation: line-burst 1.5s ease-in-out infinite;
    }
    @keyframes line-burst {
      0%   { transform: translateX(-100%); opacity: 0; }
      50%  { opacity: 1; }
      100% { transform: translateX(100%); opacity: 0; }
    }
     .hud-line.top::before, .hud-line.bottom::before {
         width: 10px; height: 100%;
         top: 0; left: 0;
     }
     .hud-line.left::before, .hud-line.right::before {
         width: 100%; height: 10px;
         left: 0; top: 0;
     }
      /* Specific line streak animations */
      .hud-line.top::before { animation-name: line-streak-h; }
      .hud-line.bottom::before { animation-name: line-streak-h; animation-delay: 1s; } /* Different delay */
      .hud-line.left::before { animation-name: line-streak-v; }
      .hud-line.right::before { animation-name: line-streak-v; animation-delay: 2s; } /* Different delay */

       @keyframes line-streak-h {
           0% { transform: translateX(-100%); }
           100% { transform: translateX(100vw); } /* Move across the viewport width */
       }
        @keyframes line-streak-v {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); } /* Move across the viewport height */
        }


    /* Info Readouts */
    .hud-readout {
      position: absolute;
      font-family: var(--font-main);
      font-size: 0.75rem;
      color: var(--color-muted);
      padding: 5px 10px;
      background: rgba(var(--color-bg), 0.5);
      text-transform: uppercase;
      letter-spacing: 1px;
      border: 1px solid var(--color-border); /* Added border */
      border-radius: 3px;
      -webkit-backdrop-filter: blur(4px); /* Added prefix */
      backdrop-filter: blur(4px); /* Subtle blur on readouts */
      pointer-events: none; /* Do not block events */
    }
    

    
    /* Achievement Notification Styles */
    .achievement-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(var(--color-bg), 0.95);
      border: 2px solid var(--color-accent);
      border-radius: 8px;
      padding: 15px 20px;
      font-family: var(--font-main);
      font-size: 0.8rem;
      color: var(--color-text);
      z-index: 10000;
      box-shadow: 0 0 20px var(--color-accent-glow);
      animation: achievement-slide-in 0.5s ease-out forwards;
      max-width: 300px;
      backdrop-filter: blur(10px);
    }
    
    .achievement-content {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .achievement-icon {
      font-size: 1.2rem;
      animation: achievement-pulse 2s infinite;
    }
    
    .achievement-text {
      color: var(--color-accent);
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    @keyframes achievement-slide-in {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes achievement-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    /* System Achievements Styles */
    .system-achievements {
      margin-bottom: 40px;
    }
    
    .system-achievements h3,
    .professional-achievements h3 {
      color: var(--color-accent);
      font-family: var(--font-heading);
      font-size: 1.2rem;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    .achievement-item[data-achievement] {
      transition: all var(--transition-medium);
      position: relative;
      overflow: hidden;
    }
    
    .achievement-item[data-achievement]:hover {
      transform: translateY(-5px);
    }
    
    .achievement-item[data-achievement] .achievement-icon {
      font-size: 2rem;
      margin-bottom: 15px;
      display: block;
      transition: all var(--transition-medium);
    }
    
    .achievement-item[data-achievement]:not([style*="border-color"]) {
      opacity: 0.6;
      filter: grayscale(0.5);
    }
    
    .achievement-item[data-achievement]:not([style*="border-color"]) .achievement-icon {
      opacity: 0.5;
    }
    
    /* [BUFFER_GLOW] Pulso de Buffer en Zonas Estratégicas */
    .hud-readout {
        animation: readout-buffer 4s infinite ease-in-out;
    }
     @keyframes readout-buffer {
         0%, 100% { box-shadow: none; }
         50% { box-shadow: 0 0 5px rgba(var(--color-accent-rgb), 0.5); }
     }

    .hud-readout span:first-child { color: var(--color-accent); margin-right: 5px;}
    .hud-readout .hud-ok { color: var(--color-feedback-success); animation: status-flicker 3s infinite alternate steps(5); }
    .hud-readout .hud-warning { color: var(--color-feedback-warning); animation: status-flicker 2s infinite alternate steps(3); }
    .hud-readout .hud-error { color: var(--color-feedback-error); animation: status-flicker 1s infinite alternate steps(2); }

     @keyframes status-flicker {
         0%, 100% { opacity: 1; }
         50% { opacity: 0.5; }
     }


    .top-left-readout { top: 40px; left: 40px; }
    .top-right-readout { top: 40px; right: 40px; text-align: right;}
    .bottom-left-readout { bottom: 40px; left: 40px; }
    .bottom-right-readout { bottom: 40px; right: 40px; text-align: right;}

    /* ============================================================
       MAIN CONTENT & SECTION STYLES
       ------------------------------------------------------------
       Includes section scan animation on reveal
    ============================================================ */
    .main-content-wrapper {
      position: relative;
      z-index: 1;
      padding-top: 100px;
      padding-bottom: 80px;
    }

    .section-container {
      padding: 100px 5%;
      max-width: 1400px;
      margin-left: auto;
      margin-right: auto;
      position: relative; /* Needed for pseudo-elements */
      margin-top: 50px;
      /* Enhanced section divider */
       border-bottom: 1px dashed rgba(var(--color-accent-rgb), 0.15);
       padding-bottom: 50px; /* Add space above the divider */
       overflow: hidden; /* Clip section scan */
    }
     /* Remove top margin for the first section */
    .section-container:first-of-type { margin-top: 0; padding-top: 0;} /* Assuming Hero handles its own padding */

     /* Remove bottom border for the last section (Contact or Footer if inside wrapper) */
     /* Need to be careful if footer is inside the wrapper */
     .main-content-wrapper > .section-container:last-of-type {
         border-bottom: none;
         padding-bottom: 0;
     }

     /* [SECTION_ENTRY_SCAN] Barrido al Revelar Sección - CSS Implementation */
     .section-container::before {
         content: '';
         position: absolute;
         top: 0; left: 0; width: 100%; height: 2px;
         background: linear-gradient(to right, transparent, var(--color-accent-glow), transparent);
         transform: translateX(-100%);
         opacity: 0;
         pointer-events: none;
        /* [SCANLINE_DETAIL] - Add texture */
         background: repeating-linear-gradient(90deg, var(--color-accent) 0px, var(--color-accent) 1px, transparent 1px, transparent 3px);
         background-size: 8px 2px;
     }
     .section-container.visible::before {
         animation: section-scan-in var(--transition-slow) ease-out forwards, texture-scan 0.8s linear infinite;
     }
     @keyframes section-scan-in {
         0% { transform: translateX(-100%); opacity: 0; }
         30% { opacity: 1; }
         100% { transform: translateX(0%); opacity: 0; }
     }
     /* Optional second scan line at the bottom */
     .section-container::after {
        content: '';
        position: absolute;
        bottom: 0; left: 0; width: 100%; height: 2px;
        background: linear-gradient(to right, transparent, var(--color-accent-glow), transparent);
        transform: translateX(100%);
        opacity: 0;
        pointer-events: none;
        /* [SCANLINE_DETAIL] - Add texture */
         background: repeating-linear-gradient(90deg, var(--color-accent) 0px, var(--color-accent) 1px, transparent 1px, transparent 3px);
         background-size: 8px 2px;
    }
    .section-container.visible::after {
        animation: section-scan-out var(--transition-slow) ease-out forwards, texture-scan 0.8s linear infinite reverse; /* Reverse texture scan direction */
    }
     @keyframes section-scan-out {
         0% { transform: translateX(100%); opacity: 0; }
         30% { opacity: 1; }
         100% { transform: translateX(0%); opacity: 0; }
     }


    /* Content Box Styles */
    .content-box {
      background: var(--color-glass-bg);
      border: 1px solid var(--color-border);
      border-radius: 5px;
      padding: 25px;
      -webkit-backdrop-filter: blur(10px); /* Added prefix */
      backdrop-filter: blur(10px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: transform var(--transition-medium), box-shadow var(--transition-medium), background-color var(--transition-medium), border-color var(--transition-fast);
      position: relative; /* Needed for potential pseudo-elements */
      overflow: hidden; /* Hide scanline overflow */
      animation: readout-buffer 6s infinite ease-in-out;
    }
    .content-box:hover {
      transform: translateY(-8px); /* More pronounced hover */
      box-shadow: 0 12px 25px rgba(0,0,0,0.3), 0 0 20px var(--color-accent-glow); /* Stronger glow */
      background-color: var(--color-glass-hover); /* Different glass background on hover */
      border-color: var(--color-accent); /* Accent border on hover */
    }
     /* Subtle animated scanline on hover */
     /* Removed redundant scanlines from content-box, keeping it simple or using a different effect */
     /* Let's stick to border/shadow transitions for content-box hover for simplicity */

    .content-box::before {
      content:'';
      position:absolute;
      top:0; left:0; width:100%; height:3px;
      background: var(--color-accent);
      transform: scaleX(0);
      transform-origin: left center;
      opacity: 0;
    }
    .content-box:hover::before,
    .content-box.scanned::before {
      animation: box-scan 0.6s ease-out forwards;
    }
    @keyframes box-scan {
      0%   { transform: scaleX(0); opacity: 0; }
      30%  { opacity: 1; }
      100% { transform: scaleX(1); opacity: 0; }
    }


    /* ============================================================
       HEADER STYLES - MÓDULO DE COMANDO HOLOGRÁFICO v4.0
       ------------------------------------------------------------
       Hardware de proyección de datos interactivo con animaciones fluidas
       
       CARACTERÍSTICAS IMPLEMENTADAS:
       - Chipset de cristal de datos flotante con clip-path angular
       - Bordes de energía activos con animaciones de scanline
       - Módulos de E/S holográficos (SYS_LOGO, NAV_MENU, SYS_STATUS)
       - Consola neural de navegación con materialización/desmaterialización
       - Efectos de túnel de datos y sobrecarga energética
       - Decodificación de texto con glitches y efectos de confirmación
       - Sonido ambiental contextual y feedback multisensorial
       - Optimizaciones de rendimiento para móviles y accesibilidad
    ============================================================ */
    
    /* I. EL HARDWARE DE PROYECCIÓN - REDISEÑO DE #mainHeader */
    #mainHeader {
      position: fixed;
      top: 20px; left: 50%; transform: translateX(-50%);
      width: calc(100% - 40px); max-width: 1400px;
      padding: 15px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1001;
      
      /* Estructura y Percepción 3D */
      background: linear-gradient(135deg, 
        rgba(var(--color-accent-rgb), 0.1) 0%, 
        rgba(var(--color-bg), 0.95) 50%, 
        rgba(var(--color-accent-rgb), 0.05) 100%);
      -webkit-backdrop-filter: blur(25px);
      backdrop-filter: blur(25px);
      border: 2px solid rgba(var(--color-accent-rgb), 0.3);
      border-radius: 0;
      
      /* Forma angular dinámica con clip-path */
      clip-path: polygon(
        0% 0%, 
        95% 0%, 
        100% 15%, 
        100% 85%, 
        95% 100%, 
        0% 100%
      );
      
      /* Transformación 3D para flotar */
      transform: translateX(-50%) perspective(1000px) rotateX(2deg) translateY(0);
      box-shadow: 
        0 0 30px rgba(var(--color-accent-rgb), 0.2),
        0 10px 40px rgba(0, 0, 0, 0.3),
        inset 0 0 20px rgba(var(--color-accent-rgb), 0.1);
      
      /* Animación de flotación sutil */
      animation: header-float 6s ease-in-out infinite;
      
      /* Optimizaciones de rendimiento */
      will-change: transform, box-shadow, filter;
      filter: brightness(0.9) contrast(1.1);
      
      /* Transición suave para ocultar/mostrar */
      transition: transform var(--transition-medium) ease;
    }
    
    /* Estado oculto del header */
    #mainHeader.header-hidden {
      transform: translateX(-50%) perspective(1000px) rotateX(2deg) translateY(-100%);
    }
    
    @keyframes header-float {
      0%, 100% { transform: translateX(-50%) perspective(1000px) rotateX(2deg) translateY(0px); }
      50% { transform: translateX(-50%) perspective(1000px) rotateX(2deg) translateY(-3px); }
    }
    
    /* Pausar animación de flotación cuando está oculto */
    #mainHeader.header-hidden {
      animation-play-state: paused;
    }
    
    /* Bordes de Energía Activos */
    #mainHeader::before,
    #mainHeader::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      border: 2px solid transparent;
      border-radius: inherit;
      pointer-events: none;
      z-index: -1;
    }
    
    #mainHeader::before {
      background: linear-gradient(90deg, 
        transparent 0%, 
        var(--color-accent) 20%, 
        transparent 40%, 
        var(--color-accent) 60%, 
        transparent 80%, 
        var(--color-accent) 100%);
      background-size: 200% 100%;
      animation: energy-scan 3s linear infinite;
      filter: blur(1px);
    }
    
    #mainHeader::after {
      background: linear-gradient(0deg, 
        transparent 0%, 
        var(--color-accent-glow) 50%, 
        transparent 100%);
      background-size: 100% 200%;
      animation: energy-pulse 4s ease-in-out infinite;
      opacity: 0.5;
    }
    
    @keyframes energy-scan {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    
    @keyframes energy-pulse {
      0%, 100% { background-position: 0% 0%; opacity: 0.3; }
      50% { background-position: 0% 100%; opacity: 0.7; }
    }
    
    /* Hover intensificación de bordes */
    #mainHeader:hover::before {
      animation: energy-scan 1.5s linear infinite;
      filter: blur(0.5px) brightness(1.5);
    }
    
    #mainHeader:hover::after {
      animation: energy-pulse 2s ease-in-out infinite;
      opacity: 1;
    }
    
    /* Módulos de E/S del Header */
    
    /* [SYS_LOGO] - Núcleo de Interfaz */
    .branding a {
      font-family: var(--font-heading);
      font-size: 1.4rem;
      color: var(--color-accent);
      text-shadow: 
        0 0 10px var(--color-accent-glow),
        0 0 20px var(--color-accent-glow),
        0 0 30px rgba(var(--color-accent-rgb), 0.6);
      letter-spacing: 3px;
      transition: all var(--transition-medium);
      position: relative;
      display: inline-block;
      animation: pulse-glow-logo 2s infinite alternate;
    }
    
    @keyframes pulse-glow-logo {
      0% { 
        text-shadow: 
          0 0 10px var(--color-accent-glow),
          0 0 20px var(--color-accent-glow),
          0 0 30px rgba(var(--color-accent-rgb), 0.6);
        transform: scale(1);
      }
      100% { 
        text-shadow: 
          0 0 15px var(--color-accent-glow),
          0 0 25px var(--color-accent-glow),
          0 0 35px rgba(var(--color-accent-rgb), 0.8);
        transform: scale(1.02);
      }
    }
    
    .branding a:hover {
      color: var(--color-text);
      text-shadow: 
        0 0 15px var(--color-text),
        0 0 25px var(--color-text),
        0 0 35px rgba(255, 255, 255, 0.8);
      animation: logo-glitch 0.3s ease-out;
    }
    
    @keyframes logo-glitch {
      0% { transform: translateX(0) scale(1); }
      20% { transform: translateX(-2px) scale(1.05); }
      40% { transform: translateX(2px) scale(0.95); }
      60% { transform: translateX(-1px) scale(1.02); }
      80% { transform: translateX(1px) scale(0.98); }
      100% { transform: translateX(0) scale(1); }
    }
    
    /* [NAV_MENU] - Portal de Consola */
    .filter-btn {
      position: relative;
      background: radial-gradient(circle at center,
        rgba(var(--color-accent-rgb), 0.3) 0%,
        rgba(var(--color-accent-rgb), 0.1) 50%,
        transparent 100%);
      border: 2px solid rgba(var(--color-accent-rgb), 0.5);
      border-radius: 8px;
      padding: 12px 20px;
      font-weight: bold;
      letter-spacing: 2px;
      overflow: hidden;
      transition: all var(--transition-medium);
      box-shadow: 
        0 0 15px rgba(var(--color-accent-rgb), 0.3),
        inset 0 0 10px rgba(var(--color-accent-rgb), 0.1);
    }
    
    .filter-btn::before {
      content: '';
      position: absolute;
      top: 0; left: -100%;
      width: 100%; height: 100%;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.4) 50%, 
        transparent 100%);
      transition: left var(--transition-medium);
    }
    
    .filter-btn:hover {
      background: radial-gradient(circle at center,
        rgba(var(--color-accent-rgb), 0.5) 0%,
        rgba(var(--color-accent-rgb), 0.2) 50%,
        transparent 100%);
      border-color: var(--color-accent);
      box-shadow: 
        0 0 25px rgba(var(--color-accent-rgb), 0.5),
        inset 0 0 15px rgba(var(--color-accent-rgb), 0.2);
      transform: scale(1.05);
    }
    
    .filter-btn:hover::before {
      left: 100%;
      animation: portal-scan 0.6s ease-out;
    }
    
    @keyframes portal-scan {
      0% { left: -100%; opacity: 1; }
      100% { left: 100%; opacity: 0; }
    }
    
    /* Mensaje flotante de acceso */
    .filter-btn::after {
      content: 'ACCESS CONSOLE';
      position: absolute;
      top: -40px; left: 50%;
      transform: translateX(-50%);
      background: rgba(var(--color-bg), 0.9);
      color: var(--color-accent);
      padding: 5px 10px;
      font-size: 0.7rem;
      border-radius: 3px;
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-fast);
      white-space: nowrap;
      z-index: 1000;
    }
    
    .filter-btn:hover::after {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(-5px);
    }
    
    /* [SYS_STATUS] y [SYSTEM_CLOCK] - Displays de Monitoreo */
    .sys-status-module,
    .system-clock-module {
      position: relative;
      padding: 8px 12px;
      background: rgba(var(--color-accent-rgb), 0.1);
      border: 1px solid rgba(var(--color-accent-rgb), 0.3);
      border-radius: 4px;
      font-family: var(--font-main);
      font-size: 0.8rem;
      color: var(--color-accent);
      text-shadow: var(--hud-text-shadow);
      transition: all var(--transition-fast);
    }
    
    .sys-status-module::before,
    .system-clock-module::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; height: 2px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        var(--color-accent) 50%, 
        transparent 100%);
      background-size: 200% 100%;
      animation: status-scan 2s linear infinite;
    }
    
    @keyframes status-scan {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    
    .sys-status-module:hover,
    .system-clock-module:hover {
      background: rgba(var(--color-accent-rgb), 0.2);
      border-color: var(--color-accent);
      box-shadow: 0 0 10px rgba(var(--color-accent-rgb), 0.3);
    }

    .header-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* Responsive para el header holográfico */
    @media (max-width: 768px) {
      #mainHeader {
        top: 10px;
        width: calc(100% - 20px);
        padding: 10px 15px;
        clip-path: polygon(
          0% 0%, 
          90% 0%, 
          100% 20%, 
          100% 80%, 
          90% 100%, 
          0% 100%
        );
        
        /* Simplificar animaciones en móvil */
        animation: none;
        transform: translateX(-50%);
        will-change: auto;
      }
      
      #mainHeader::before,
      #mainHeader::after {
        animation: none;
      }
      
      .branding a {
        font-size: 1.1rem;
        letter-spacing: 2px;
        animation: none;
      }
      
      .filter-btn {
        padding: 8px 15px;
        font-size: 0.7rem;
      }
      
      .sys-status-module,
      .system-clock-module {
        padding: 6px 8px;
        font-size: 0.7rem;
      }
      
      /* Simplificar filter-panel en móvil */
      .filter-panel {
        will-change: auto;
      }
      
      .filter-panel::before,
      .filter-panel::after {
        animation: none;
      }
      
      .filter-panel .nav-link::before {
        animation: none;
      }
      
      /* Simplificar efectos de campo energizado en móvil */
      .filter-panel .nav-link:hover {
        animation: none;
        box-shadow: 0 0 15px rgba(var(--color-accent-rgb), 0.4);
      }
      
      .filter-panel .nav-link .energy-particles {
        display: none;
      }
      
      .filter-panel .nav-link span {
        animation: none;
      }
      
      /* Desactivar animación de flotación del header en móvil */
      #mainHeader {
        animation: none;
      }
    }
    
    @media (max-width: 480px) {
      #mainHeader {
        flex-direction: column;
        gap: 10px;
        padding: 15px 10px;
      }
      
      .branding a {
        font-size: 1rem;
      }
    }
    
    /* Accesibilidad */
    @media (prefers-reduced-motion: reduce) {
      #mainHeader {
        animation: none;
        transform: translateX(-50%);
      }
      
      #mainHeader::before,
      #mainHeader::after {
        animation: none;
      }
      
      .branding a {
        animation: none;
      }
      
      .sys-status-module::before,
      .system-clock-module::before {
        animation: none;
      }
      
      .filter-panel::before,
      .filter-panel::after {
        animation: none;
      }
      
      .filter-panel .nav-link::before {
        animation: none;
      }
      
      /* Desactivar efectos de campo energizado para accesibilidad */
      .filter-panel .nav-link:hover {
        animation: none;
        box-shadow: 0 0 10px rgba(var(--color-accent-rgb), 0.3);
      }
      
      .filter-panel .nav-link .energy-particles {
        display: none;
      }
      
      .filter-panel .nav-link span {
        animation: none;
      }
    }
    
    /* Optimizaciones para dispositivos de bajo rendimiento */
    @media (max-width: 480px) {
      #mainHeader {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
      }
      
      .filter-panel {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
      }
      
      .filter-overlay {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
      }
    }

    /* HUD Button Style */
    .hud-button {
      font-family: var(--font-main);
      padding: 8px 15px;
      border: 1px solid var(--color-border);
      background: rgba(var(--color-accent-rgb), 0.1);
      color: var(--color-accent);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      border-radius: 3px;
      transition: background var(--transition-fast), color var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
      position: relative;
      overflow: hidden;
      outline: none;
    }
    .hud-button:hover {
      background: var(--color-accent);
      color: var(--color-bg);
      box-shadow: var(--hud-glow);
      border-color: var(--color-accent);
    }
    .hud-button:focus {
        outline: 2px dashed var(--color-text); /* Focus style */
        outline-offset: 2px;
    }
    .hud-button.small { padding: 5px 10px; font-size: 0.7rem; }
    .hud-button.large { padding: 12px 25px; font-size: 1rem; }

    /* [BUTTON_ACTIVATION] Pulso al Hacer Click en Botones - CSS Implementation */
    .hud-button.pulsing {
        animation: button-pulse 0.3s ease-out;
    }


    /* Primary Button */
    .hud-button.primary {
      background: var(--color-accent);
      color: var(--color-bg);
      border-color: var(--color-accent);
      box-shadow: var(--hud-glow);
    }
    .hud-button.primary:hover {
      background: var(--color-accent-dark);
      box-shadow: 0 0 15px var(--color-accent);
      border-color: var(--color-accent-dark);
    }

    /* Scanline Hover for Buttons */
    .hud-button::before { /* Use ::before for button scanline */
      content: '';
      position: absolute;
      top: 0;
      left: -150%;
      width: 50%;
      height: 100%;
      background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 100%);
      transform: skewX(-25deg);
      transition: left var(--transition-medium) ease-in-out;
      pointer-events: none; /* Do not block clicks */
    }
    .hud-button:hover::before { left: 150%; }


    /* Mute Button */
    #muteButton { display: inline-flex; align-items: center; justify-content: center; padding: 8px; }
    #muteButton svg { transition: opacity var(--transition-fast); }
    #muteButton svg.mute-slash { position: absolute; opacity: 0; color: var(--color-feedback-warning); } /* Use variable color */
    #muteButton.muted svg:not(.mute-slash) { opacity: 0.3; }
    #muteButton.muted svg.mute-slash { opacity: 1; }


    /* II. LA CONSÓLA NEURAL DE NAVEGACIÓN - REDISEÑO DE .filter-panel */
    .filter-container { position: static; }
    
    .filter-panel {
      position: fixed; top: 50%; left: 50%;
      width: 90%; max-width: 500px; max-height: 80vh;
      overflow-y: auto;
      z-index: 10001;
      transform: translate(-50%, -50%) scale(0.8);
      opacity: 0; visibility: hidden;
      transition: all var(--transition-medium) ease;
      transform-origin: center center;
      pointer-events: none;
      
      /* Fondo Activo de la Consola */
      background: 
        radial-gradient(circle at 20% 30%, rgba(var(--color-accent-rgb), 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(var(--color-accent-rgb), 0.05) 0%, transparent 50%),
        linear-gradient(135deg, 
          rgba(var(--color-bg), 0.95) 0%, 
          rgba(var(--color-bg), 0.98) 100%);
      -webkit-backdrop-filter: blur(20px);
      backdrop-filter: blur(20px);
      
      /* Bordes holográficos */
      border: 2px solid rgba(var(--color-accent-rgb), 0.4);
      border-radius: 12px;
      padding: 30px;
      
      /* Efecto de distorsión de calor */
      filter: saturate(1.1) hue-rotate(0deg);
      transition: all var(--transition-medium) ease, filter 0.3s ease;
      
      /* Optimizaciones de rendimiento */
      will-change: transform, opacity, filter;
    }
    
    .filter-panel::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: 
        radial-gradient(circle at 50% 50%, rgba(var(--color-accent-rgb), 0.1) 0%, transparent 70%);
      border-radius: inherit;
      pointer-events: none;
      z-index: -1;
      animation: console-pulse 4s ease-in-out infinite;
    }
    
    @keyframes console-pulse {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.02); }
    }
    
    .filter-panel.open {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1; visibility: visible;
      pointer-events: auto;
      filter: saturate(1.2) hue-rotate(5deg);
      animation: console-materialize 0.8s ease-out forwards;
    }
    
    /* Animación de Materialización y Desmaterialización */
    @keyframes console-materialize {
      0% {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
        filter: saturate(0.5) hue-rotate(-30deg) brightness(0.5);
      }
      20% {
        opacity: 0.3;
        filter: saturate(0.8) hue-rotate(-15deg) brightness(0.7);
      }
      50% {
        transform: translate(-50%, -50%) scale(1.1);
        opacity: 0.7;
        filter: saturate(1.1) hue-rotate(0deg) brightness(0.9);
      }
      80% {
        transform: translate(-50%, -50%) scale(0.95);
        opacity: 0.9;
        filter: saturate(1.2) hue-rotate(3deg) brightness(1);
      }
      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
        filter: saturate(1.2) hue-rotate(5deg) brightness(1.1);
      }
    }
    
    .filter-panel.closing {
      animation: console-dematerialize 0.6s ease-in forwards;
    }
    
    @keyframes console-dematerialize {
      0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
        filter: saturate(1.2) hue-rotate(5deg) brightness(1.1);
      }
      30% {
        opacity: 0.7;
        filter: saturate(1.1) hue-rotate(0deg) brightness(0.9);
      }
      70% {
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.3;
        filter: saturate(0.8) hue-rotate(-15deg) brightness(0.7);
      }
      100% {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
        filter: saturate(0.5) hue-rotate(-30deg) brightness(0.5);
      }
    }
    
    /* Campo de partículas etéreas */
    .filter-panel::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, rgba(var(--color-accent-rgb), 0.8), transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(var(--color-accent-rgb), 0.6), transparent),
        radial-gradient(1px 1px at 90px 40px, rgba(var(--color-accent-rgb), 0.4), transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(var(--color-accent-rgb), 0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, rgba(var(--color-accent-rgb), 0.8), transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: particle-drift 20s linear infinite;
      pointer-events: none;
      z-index: -2;
      opacity: 0.3;
    }
    
    @keyframes particle-drift {
      0% { transform: translateX(0) translateY(0); }
      100% { transform: translateX(-200px) translateY(-100px); }
    }
    
    .filter-panel .navbar-nav {
      display: flex; flex-direction: column; gap: 12px;
      position: relative; z-index: 2;
    }
    
    /* Nodos de Acceso a Sector (.nav-link) - CAMPO DE INTERFAZ ENERGIZADO */
    .filter-panel .nav-link {
      display: block; 
      padding: 15px 20px;
      color: var(--color-muted); 
      font-size: 1rem;
      font-family: var(--font-main);
      border-radius: 8px;
      transition: all var(--transition-medium);
      position: relative; 
      overflow: hidden; 
      text-align: center;
      background: rgba(var(--color-accent-rgb), 0.05);
      border: 1px solid rgba(var(--color-accent-rgb), 0.2);
      
      /* Puerto de Acceso Inter-Sectorial */
      box-shadow: 
        0 0 10px rgba(var(--color-accent-rgb), 0.1),
        inset 0 0 5px rgba(var(--color-accent-rgb), 0.05);
      
      /* Optimizaciones de rendimiento */
      will-change: transform, background-color, border-color, box-shadow, filter;
      
      /* Estado base para efectos de energía */
      filter: brightness(1) contrast(1);
    }
    
    /* I. PULSO DE ACTIVACIÓN CENTRAL */
    .filter-panel .nav-link::before {
      content: '';
      position: absolute;
      top: 50%; left: 50%;
      width: 0; height: 0;
      background: radial-gradient(circle, 
        rgba(var(--color-accent-rgb), 0.8) 0%, 
        rgba(var(--color-accent-rgb), 0.4) 50%, 
        transparent 100%);
      border-radius: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      transition: none;
      pointer-events: none;
      z-index: 1;
    }
    
    .filter-panel .nav-link:hover::before {
      animation: energy-pulse 0.4s ease-out forwards;
    }
    
    @keyframes energy-pulse {
      0% {
        width: 0; height: 0;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
      }
      20% {
        opacity: 1;
      }
      100% {
        width: 200px; height: 200px;
        transform: translate(-50%, -50%) scale(1);
        opacity: 0;
      }
    }
    
    @keyframes port-flicker {
      0% { background-position: -200% 0; opacity: 0; }
      10% { opacity: 0.3; }
      20% { background-position: 200% 0; opacity: 0; }
      100% { background-position: 200% 0; opacity: 0; }
    }
    
    /* II. ILUMINACIÓN PERIMETRAL */
    .filter-panel .nav-link:hover {
      background: rgba(var(--color-accent-rgb), 0.15);
      color: var(--color-accent);
      border-color: var(--color-accent);
      transform: translateX(5px) scale(1.02);
      box-shadow: 
        0 0 25px rgba(var(--color-accent-rgb), 0.6),
        inset 0 0 15px rgba(var(--color-accent-rgb), 0.2),
        0 0 0 2px rgba(var(--color-accent-rgb), 0.8);
      filter: brightness(1.2) contrast(1.1);
      animation: perimeter-glow 0.4s ease-out;
    }
    
    @keyframes perimeter-glow {
      0% {
        box-shadow: 
          0 0 10px rgba(var(--color-accent-rgb), 0.1),
          inset 0 0 5px rgba(var(--color-accent-rgb), 0.05);
        filter: brightness(1) contrast(1);
      }
      50% {
        box-shadow: 
          0 0 30px rgba(var(--color-accent-rgb), 0.8),
          inset 0 0 20px rgba(var(--color-accent-rgb), 0.3),
          0 0 0 3px rgba(var(--color-accent-rgb), 1);
        filter: brightness(1.3) contrast(1.2);
      }
      100% {
        box-shadow: 
          0 0 25px rgba(var(--color-accent-rgb), 0.6),
          inset 0 0 15px rgba(var(--color-accent-rgb), 0.2),
          0 0 0 2px rgba(var(--color-accent-rgb), 0.8);
        filter: brightness(1.2) contrast(1.1);
      }
    }
    
    /* III. DECODIFICACIÓN TEXTUAL */
    .filter-panel .nav-link {
      position: relative;
    }
    
    .filter-panel .nav-link span {
      position: relative;
      display: inline-block;
      transition: all 0.3s ease;
    }
    
    .filter-panel .nav-link:hover span {
      animation: text-decode-glitch 0.4s ease-out;
    }
    
    @keyframes text-decode-glitch {
      0% {
        transform: translateX(0);
        filter: hue-rotate(0deg);
      }
      15% {
        transform: translateX(-1px);
        filter: hue-rotate(-10deg) brightness(1.2);
      }
      30% {
        transform: translateX(2px);
        filter: hue-rotate(10deg) brightness(0.8);
      }
      45% {
        transform: translateX(-1px);
        filter: hue-rotate(-5deg) brightness(1.1);
      }
      60% {
        transform: translateX(1px);
        filter: hue-rotate(5deg) brightness(0.9);
      }
      100% {
        transform: translateX(0);
        filter: hue-rotate(0deg);
      }
    }
    
    /* Flecha de datos animada */
    .filter-panel .nav-link::after {
      content: '//';
      position: absolute;
      left: -20px; top: 50%;
      transform: translateY(-50%);
      color: var(--color-accent);
      font-family: var(--font-heading);
      font-size: 0.8rem;
      opacity: 0;
      transition: all var(--transition-fast);
    }
    
    .filter-panel .nav-link:hover::after {
      opacity: 1;
      left: 10px;
      animation: data-arrow 0.6s ease-out;
    }
    
    @keyframes data-arrow {
      0% { opacity: 0; transform: translateY(-50%) translateX(-10px); }
      50% { opacity: 1; transform: translateY(-50%) translateX(0); }
      100% { opacity: 1; transform: translateY(-50%) translateX(10px); }
    }
    
    /* IV. EFECTOS DE PARTÍCULAS ENERGÉTICAS */
    .filter-panel .nav-link .energy-particles {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      z-index: 2;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .filter-panel .nav-link:hover .energy-particles {
      opacity: 1;
    }
    
    .energy-particle {
      position: absolute;
      width: 2px; height: 2px;
      background: var(--color-accent);
      border-radius: 50%;
      animation: particle-float 1s ease-out forwards;
    }
    
    @keyframes particle-float {
      0% {
        opacity: 1;
        transform: scale(0) translateY(0);
      }
      50% {
        opacity: 0.8;
        transform: scale(1) translateY(-20px);
      }
      100% {
        opacity: 0;
        transform: scale(0) translateY(-40px);
      }
    }
    
    /* Estado activo - canal principal */
    .filter-panel .nav-link.active {
      background: rgba(var(--color-accent-rgb), 0.2);
      border-color: var(--color-accent);
      color: var(--color-accent);
      box-shadow: 
        0 0 25px rgba(var(--color-accent-rgb), 0.4),
        inset 0 0 15px rgba(var(--color-accent-rgb), 0.15);
    }
    
    .filter-panel .nav-link.active::before {
      opacity: 1;
      animation: active-scan 2s linear infinite;
    }
    
    @keyframes active-scan {
      0% { background-position: -200% 0; opacity: 0.3; }
      50% { opacity: 0.7; }
      100% { background-position: 200% 0; opacity: 0.3; }
    }
    
    /* IV. EFECTOS DE DECODIFICACIÓN DE TEXTO */
    .filter-panel.decoding .nav-link {
      animation: text-decode 0.8s ease-out forwards;
      animation-delay: calc(var(--link-index, 0) * 0.1s);
    }
    
    @keyframes text-decode {
      0% {
        opacity: 0;
        transform: translateY(20px);
        filter: blur(3px) hue-rotate(-30deg);
      }
      30% {
        opacity: 0.3;
        filter: blur(2px) hue-rotate(-15deg);
      }
      70% {
        opacity: 0.8;
        filter: blur(1px) hue-rotate(0deg);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0px) hue-rotate(0deg);
      }
    }
    
    /* Efecto de glitch momentáneo al hacer click */
    .filter-panel .nav-link.clicking {
      animation: link-glitch 0.3s ease-out;
    }
    
    @keyframes link-glitch {
      0% { transform: translateX(0) scale(1); }
      15% { transform: translateX(-2px) scale(1.05); filter: hue-rotate(-10deg); }
      30% { transform: translateX(2px) scale(0.95); filter: hue-rotate(10deg); }
      45% { transform: translateX(-1px) scale(1.02); filter: hue-rotate(-5deg); }
      60% { transform: translateX(1px) scale(0.98); filter: hue-rotate(5deg); }
      100% { transform: translateX(0) scale(1); filter: hue-rotate(0deg); }
    }

    /* III. OVERLAY DE TÚNEL DE DATOS Y EFECTOS DE ACTIVACIÓN */
    .filter-overlay {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background: radial-gradient(circle at center,
        rgba(var(--color-accent-rgb), 0.1) 0%,
        rgba(0, 0, 0, 0.95) 70%,
        rgba(0, 0, 0, 0.98) 100%);
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
      opacity: 0; visibility: hidden;
      transition: all var(--transition-medium) ease;
      z-index: 10000;
      pointer-events: none;
      
      /* Efecto de distorsión de datos */
      filter: contrast(1.2) saturate(1.1);
    }
    
    .filter-overlay.open {
      opacity: 1; visibility: visible;
      pointer-events: auto;
      animation: tunnel-activation 0.8s ease-out forwards;
    }
    
    @keyframes tunnel-activation {
      0% {
        opacity: 0;
        filter: contrast(1.2) saturate(1.1) hue-rotate(-30deg);
        transform: scale(0.8);
      }
      30% {
        opacity: 0.5;
        filter: contrast(1.5) saturate(1.3) hue-rotate(-15deg);
        transform: scale(1.1);
      }
      70% {
        opacity: 0.8;
        filter: contrast(1.3) saturate(1.2) hue-rotate(0deg);
        transform: scale(1.05);
      }
      100% {
        opacity: 1;
        filter: contrast(1.2) saturate(1.1) hue-rotate(0deg);
        transform: scale(1);
      }
    }
    
    /* Efecto de sobrecarga energética en el botón */
    .filter-btn.activating {
      animation: portal-overload 0.6s ease-out;
    }
    
    @keyframes portal-overload {
      0% { 
        transform: scale(1);
        box-shadow: 0 0 15px rgba(var(--color-accent-rgb), 0.3);
      }
      25% { 
        transform: scale(0.8);
        box-shadow: 0 0 30px rgba(var(--color-accent-rgb), 0.6);
      }
      50% { 
        transform: scale(1.2);
        box-shadow: 0 0 50px rgba(var(--color-accent-rgb), 0.8);
      }
      75% { 
        transform: scale(0.9);
        box-shadow: 0 0 40px rgba(var(--color-accent-rgb), 0.7);
      }
      100% { 
        transform: scale(1);
        box-shadow: 0 0 15px rgba(var(--color-accent-rgb), 0.3);
      }
    }

    /* ============================================================
       SECTION SPECIFIC STYLES
       ------------------------------------------------------------
       Includes section scan animation on reveal
    ============================================================ */

    /* --- HERO --- */
    .hero {
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      text-align: center; padding: 0 5%; position: relative;
      margin-top: -100px;
      background: radial-gradient(ellipse at center, rgba(var(--color-bg), 0.6) 0%, transparent 80%), var(--color-bg); /* Wider gradient */
    }
    .hero h1 {
      font-family: var(--font-heading);
      font-size: clamp(2.5rem, 8vw, 5rem);
      margin-bottom: 20px; letter-spacing: 0.05em; position: relative;
      color: var(--color-accent);
      text-shadow: 0 0 10px var(--color-accent-glow), 0 0 20px var(--color-accent-glow), 0 0 30px rgba(var(--color-accent-rgb), 0.4); /* More intense glow */
      animation: text-flicker 3s linear infinite alternate;
    }
    /* Glitch Effect (Keep existing keyframes) */
     @keyframes glitch-anim-1 { /* ... */ }
     @keyframes glitch-anim-2 { /* ... */ }
     @keyframes text-flicker { /* ... */ }


    .hero p {
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      max-width: 700px; line-height: 1.6;
      color: var(--color-muted); margin-top: 20px;
    }
    .scroll-down-indicator {
      position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
      color: var(--color-accent); font-size: 1.5rem;
      animation: bounce 2s infinite; opacity: 0.7;
    }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); } 40% { transform: translateX(-50%) translateY(-10px); } 60% { transform: translateX(-50%) translateY(-5px); } }

    /* --- SECTION TITLES --- */
    .section-title {
      font-family: var(--font-heading); font-size: clamp(2rem, 5vw, 3rem);
      text-align: center; margin-bottom: 60px; position: relative; display: block;
      color: var(--color-accent);
      text-shadow: var(--hud-glow); letter-spacing: 2px; text-transform: uppercase;
    }
    /* Define los símbolos que aparecerán */
    .section-title::before,
    .section-title::after {
      content: '///';
      opacity: 0;
      color: var(--color-accent);
      font-size: 0.8em;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      transition: none;
    }
    .section-title::before { left: -2em; }
    .section-title::after  { right: -2em; }

    /* Animación de parpadeo */
    @keyframes header-flash {
      0%,100% { opacity: 0; }
      10%,30% { opacity: 1; }
      20%,40% { opacity: 0; }
    }
    /* Al hacerse visible la sección, disparar la animación una vez */
    .section-container.visible .section-title::before,
    .section-container.visible .section-title::after {
      animation: header-flash 1s ease-out 1;
    }
    /* Reduce el movimiento si el usuario prefiere poca animación */
    @media (prefers-reduced-motion: reduce) {
      .section-title::before,
      .section-title::after {
        animation: none;
      }
    }

    /* --- NÚCLEO DE MEMORIA / BIO-LOG --- */
    /* Contenedor principal de tres columnas */
    .user-profile-container {
      display: grid;
      grid-template-columns: 1fr 2fr 1.5fr;
      gap: 30px;
      margin-top: 2rem;
      align-items: start;
    }

    /* ============================================================
       PROTOCOLO DE COMPATIBILIDAD INTER-NAVEGADOR
       ============================================================ */
    
    /* Prefijos de compatibilidad para propiedades CSS */
    .content-box {
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
    }
    
    /* Prefijos para filter */
    .biometric-image {
      -webkit-filter: grayscale(30%) contrast(1.1);
      filter: grayscale(30%) contrast(1.1);
    }
    
    .biometric-image:hover {
      -webkit-filter: grayscale(10%) contrast(1.2);
      filter: grayscale(10%) contrast(1.2);
    }
    
    /* Prefijos para transform */
    .skill-item:hover img {
      -webkit-transform: scale(1.1);
      transform: scale(1.1);
    }
    
    /* Prefijos para transition */
    .biometric-image,
    .skill-item img {
      -webkit-transition: -webkit-filter var(--transition-medium), -webkit-transform var(--transition-medium);
      transition: filter var(--transition-medium), transform var(--transition-medium);
    }
    
    /* Fallback para viewport height en Safari iOS */
    @supports (-webkit-touch-callout: none) {
      .hero {
        min-height: -webkit-fill-available;
      }
    }
    
    /* Optimizaciones para dispositivos de bajo rendimiento */
    @media (max-width: 768px) {
      .content-box {
        -webkit-backdrop-filter: blur(5px);
        backdrop-filter: blur(5px);
      }
    }
    
    /* Reducción de movimiento para accesibilidad */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        -webkit-animation-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
        -webkit-animation-iteration-count: 1 !important;
        animation-iteration-count: 1 !important;
        -webkit-transition-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
    }
    
    /* ============================================================
       ADAPTACIÓN RESPONSIVA - NÚCLEO DE MEMORIA
       ============================================================ */
    
    /* TABLET - Dos columnas */
    @media (max-width: 1024px) {
      .user-profile-container {
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 1.5rem;
      }
      
      /* Módulo 1 y 3 en la misma fila */
      .biometric-module,
      .system-parameters-module {
        grid-column: span 1;
      }
      
      /* Módulo 2 ocupa ambas columnas */
      .memory-core-module {
        grid-column: 1 / -1;
        order: 2;
      }
      
      /* Ajustes para Módulo 1 (Foto/Credenciales) */
      .biometric-module {
        order: 1;
      }
      
      .biometric-image {
        max-width: 180px;
        margin: 0 auto;
      }
      
      .credentials-panel {
        padding: 15px;
      }
      
      .credentials-panel .panel-title {
        font-size: 1rem;
      }
      
      .credential-item {
        font-size: 0.85rem;
        padding: 5px 0;
      }
      
      /* Ajustes para Módulo 3 (Matriz/Registro) */
      .system-parameters-module {
        order: 3;
      }
      
      .competency-matrix,
      .activity-log {
        padding: 15px;
      }
      
      .competency-matrix .panel-title,
      .activity-log .panel-title {
        font-size: 1rem;
      }
      
      .skill-metric {
        font-size: 0.85rem;
        padding: 6px 0;
      }
      
      .activity-item {
        font-size: 0.85rem;
      }
    }
    
    /* MÓVIL - Una columna */
    @media (max-width: 768px) {
      .user-profile-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 1rem;
      }
      
      /* Reordenamiento con Flexbox */
      .biometric-module {
        order: 1;
      }
      
      .memory-core-module {
        order: 2;
      }
      
      .system-parameters-module {
        order: 3;
      }
      
      /* Módulo 1 - Foto circular centrada */
      .biometric-scan-module {
        text-align: center;
      }
      
      .biometric-image {
        max-width: 120px;
        border-radius: 50%;
        margin: 0 auto;
        display: block;
      }
      
      .credentials-panel {
        padding: 12px;
        text-align: center;
      }
      
      .credentials-panel .panel-title {
        font-size: 0.95rem;
        text-align: center;
      }
      
      .credential-item {
        flex-direction: column;
        text-align: center;
        gap: 5px;
        font-size: 0.8rem;
        padding: 8px 0;
      }
      
      .cred-label {
        font-weight: bold;
        color: var(--color-accent);
      }
      
      .cred-value {
        max-width: 100%;
        text-align: center;
      }
      
      /* Módulo 2 - Texto principal */
      .memory-log {
        padding: 15px;
      }
      
      .log-header {
        font-size: 1rem;
        text-align: center;
      }
      
      .log-content {
        font-size: 0.9rem;
        line-height: 1.5;
        text-align: left;
      }
      
      /* Módulo 3 - Matriz y registro */
      .competency-matrix,
      .activity-log {
        padding: 12px;
      }
      
      .competency-matrix .panel-title,
      .activity-log .panel-title {
        font-size: 0.95rem;
        text-align: center;
      }
      
      .skill-metric {
        flex-direction: column;
        text-align: center;
        gap: 5px;
        font-size: 0.8rem;
        padding: 8px 0;
      }
      
      .skill-label {
        font-weight: bold;
        color: var(--color-accent);
      }
      
      .skill-bar {
        font-size: 0.75rem;
        word-break: break-all;
      }
      
      .activity-item {
        flex-direction: column;
        text-align: center;
        gap: 3px;
        font-size: 0.75rem;
        padding: 6px 0;
      }
      
      .activity-date {
        font-weight: bold;
        color: var(--color-accent);
      }
      
      .activity-desc {
        word-break: break-word;
      }
    }
    
    /* Móviles muy pequeños */
    @media (max-width: 480px) {
      .user-profile-container {
        gap: 10px;
        margin-top: 0.5rem;
      }
      
      .biometric-image {
        max-width: 100px;
      }
      
      .credentials-panel,
      .memory-log,
      .competency-matrix,
      .activity-log {
        padding: 10px;
      }
      
      .log-content {
        font-size: 0.85rem;
      }
      
      .skill-metric,
      .activity-item {
        font-size: 0.75rem;
      }
    }
    
    /* Optimizaciones para dispositivos táctiles */
    @media (hover: none) and (pointer: coarse) {
      .credential-item,
      .skill-metric,
      .activity-item {
        min-height: 44px; /* Tamaño mínimo para toque */
        padding: 12px 8px;
      }
      
      .biometric-image {
        cursor: pointer;
      }
      
      .biometric-image:hover {
        transform: scale(1.05);
        transition: transform 0.2s ease;
      }
    }
    
    /* Mejoras de accesibilidad */
    @media (prefers-reduced-motion: reduce) {
      .biometric-image,
      .credential-item,
      .skill-metric,
      .activity-item {
        transition: none;
      }
    }
    
    /* Alto contraste para mejor legibilidad */
    @media (prefers-contrast: high) {
      .cred-label,
      .skill-label,
      .activity-date {
        color: var(--color-accent);
        font-weight: bold;
      }
      
      .cred-value,
      .skill-bar,
      .activity-desc {
        color: var(--color-text);
        font-weight: 500;
      }
    }
    
    /* ============================================================
       MODALES DE COMPATIBILIDAD BRAVE
       ============================================================ */
    
    .brave-compatibility-modal,
    .brave-guide-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    
    .brave-compatibility-modal .modal-content,
    .brave-guide-modal .modal-content {
      max-width: 500px;
      width: 90%;
      padding: 30px;
      text-align: center;
      border: 2px solid var(--color-accent);
      box-shadow: 0 0 20px var(--color-accent-glow);
    }
    
    .modal-title {
      font-family: var(--font-heading);
      font-size: 1.2rem;
      color: var(--color-accent);
      margin-bottom: 20px;
      text-shadow: var(--hud-text-shadow);
    }
    
    .modal-message,
    .modal-recommendation {
      font-family: var(--font-main);
      font-size: 0.95rem;
      line-height: 1.5;
      color: var(--color-text);
      margin-bottom: 15px;
    }
    
    .modal-actions {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 25px;
    }
    
    .btn-primary,
    .btn-secondary {
      padding: 12px 20px;
      border: 2px solid var(--color-accent);
      background: transparent;
      color: var(--color-accent);
      font-family: var(--font-main);
      font-size: 0.9rem;
      cursor: pointer;
      transition: all var(--transition-medium);
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .btn-primary:hover {
      background: var(--color-accent);
      color: var(--color-bg);
      box-shadow: 0 0 10px var(--color-accent-glow);
    }
    
    .btn-secondary:hover {
      background: rgba(var(--color-accent-rgb), 0.1);
      box-shadow: 0 0 8px var(--color-accent-glow);
    }
    
    /* Guía de pasos */
    .guide-steps {
      margin: 25px 0;
    }
    
    .step {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
      text-align: left;
    }
    
    .step-number {
      background: var(--color-accent);
      color: var(--color-bg);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-heading);
      font-weight: bold;
      flex-shrink: 0;
    }
    
    .step p {
      font-family: var(--font-main);
      font-size: 0.9rem;
      color: var(--color-text);
      margin: 0;
    }
    
    /* Responsive para modales */
    @media (max-width: 768px) {
      .brave-compatibility-modal .modal-content,
      .brave-guide-modal .modal-content {
        padding: 20px;
        margin: 20px;
      }
      
      .modal-title {
        font-size: 1rem;
      }
      
      .modal-message,
      .modal-recommendation {
        font-size: 0.85rem;
      }
      
      .modal-actions {
        flex-direction: column;
      }
      
      .btn-primary,
      .btn-secondary {
        padding: 10px 15px;
        font-size: 0.8rem;
      }
    }

    /* ============== COLUMNA 1: MÓDULO DE IDENTIFICACIÓN Y BIOMETRÍA ============== */
    .biometric-module {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* Escáner biométrico con efecto de cuadrícula */
    .biometric-scan-module {
      position: relative;
      overflow: hidden;
      border-radius: 8px;
      box-shadow: var(--hud-glow);
      border: 2px solid var(--color-accent);
    }

    .biometric-image {
      width: 100%;
      height: auto;
      aspect-ratio: 1;
      object-fit: cover;
      display: block;
      filter: grayscale(30%) contrast(1.1);
      transition: filter var(--transition-medium);
    }

    .biometric-image:hover {
      filter: grayscale(10%) contrast(1.2);
    }

    /* Superposición de cuadrícula biométrica */
    .biometric-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
    }

    .scan-grid {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(rgba(var(--color-accent-rgb), 0.2) 1px, transparent 1px),
        linear-gradient(90deg, rgba(var(--color-accent-rgb), 0.2) 1px, transparent 1px);
      background-size: 20px 20px;
      opacity: 0.7;
    }

    .scan-status {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(var(--color-bg), 0.9);
      padding: 4px 8px;
      font-size: 0.7rem;
      color: var(--color-accent);
      border-radius: 3px;
      font-family: var(--font-main);
      border: 1px solid var(--color-border);
      backdrop-filter: blur(4px);
      text-shadow: var(--hud-text-shadow);
    }

    /* Panel de credenciales */
    .credentials-panel {
      padding: 20px;
    }

    .credentials-panel .panel-title {
      font-family: var(--font-heading);
      font-size: 1.1rem;
      color: var(--color-accent);
      text-shadow: var(--hud-text-shadow);
      margin-bottom: 15px;
      border-bottom: 2px solid var(--color-border);
      padding-bottom: 8px;
    }

    .credential-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 0;
      border-bottom: 1px solid var(--color-border);
      font-family: var(--font-main);
      font-size: 0.9rem;
    }

    .credential-item:last-child {
      border-bottom: none;
    }

    .cred-label {
      color: var(--color-muted);
      font-weight: 500;
    }

    .cred-value {
      color: var(--color-text);
      text-align: right;
      max-width: 60%;
    }

    /* ============== COLUMNA 2: NÚCLEO DE MEMORIA (LOG NARRATIVO) ============== */
    .memory-core-module {
      display: flex;
      flex-direction: column;
    }

    .memory-log {
      padding: 25px;
      height: fit-content;
    }

    .log-section {
      margin-bottom: 25px;
    }

    .log-section:last-child {
      margin-bottom: 0;
    }

    .log-header {
      font-family: var(--font-heading);
      font-size: 1.1rem;
      color: var(--color-accent);
      text-shadow: var(--hud-text-shadow);
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--color-border);
    }

    .log-content {
      font-family: var(--font-main);
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--color-text);
      margin: 0;
      text-align: justify;
    }

    /* ============== COLUMNA 3: PARÁMETROS DEL SISTEMA Y REGISTROS ============== */
    .system-parameters-module {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .competency-matrix,
    .activity-log {
      padding: 20px;
    }

    .competency-matrix .panel-title,
    .activity-log .panel-title {
      font-family: var(--font-heading);
      font-size: 1.1rem;
      color: var(--color-accent);
      text-shadow: var(--hud-text-shadow);
      margin-bottom: 15px;
      border-bottom: 2px solid var(--color-border);
      padding-bottom: 8px;
    }

    /* Matriz de competencias con barras de texto */
    .skill-metric {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid var(--color-border);
      font-family: var(--font-main);
      font-size: 0.9rem;
    }

    .skill-metric:last-child {
      border-bottom: none;
    }

    .skill-label {
      color: var(--color-muted);
      font-weight: 500;
    }

    .skill-bar {
      color: var(--color-accent);
      font-family: var(--font-main);
      font-size: 0.85rem;
      text-shadow: var(--hud-text-shadow);
      background: rgba(var(--color-accent-rgb), 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      border: 1px solid var(--color-border);
    }

    /* Registro de actividad */
    .activity-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
      padding: 10px 0;
      border-bottom: 1px solid var(--color-border);
      font-family: var(--font-main);
      font-size: 0.85rem;
    }

    .activity-item:last-child {
      border-bottom: none;
    }

    .activity-date {
      color: var(--color-accent);
      font-weight: 600;
      text-shadow: var(--hud-text-shadow);
    }

    .activity-desc {
      color: var(--color-text);
      line-height: 1.4;
      margin-left: 10px;
    }

    /* --- SKILLS --- */
    /* Esconde la cuadrícula original si aún existe */
    .skills-grid {
      display: none;
    }

    /* --- SLIDER PRINCIPAL DE HABILIDADES --- */
    .skills-slider-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      /* La magia del desvanecimiento lateral */
      -webkit-mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
      mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
    }

    .skills-slider-track {
      display: flex;
      gap: 25px;
      width: calc(280px * 16 + 25px * 15); /* (Ancho item * num items total) + (gap * (num items - 1)) */
      /* Animación del bucle infinito */
      animation: scroll-skills 40s linear infinite;
    }

    /* Pausar animación al pasar el ratón */
    .skills-slider-container:hover .skills-slider-track {
      animation-play-state: paused;
    }

    @keyframes scroll-skills {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(calc(-280px * 8 - 25px * 8)); /* Mover la mitad del track */
      }
    }

    .skills-slider-track .skill-item {
      width: 280px; /* Ancho fijo para cada tarjeta */
      flex-shrink: 0;
      text-align: center;
      transition: transform 0.4s ease, filter 0.4s ease;
      filter: grayscale(80%) brightness(0.7);
      transform: scale(0.9);
    }

    .skills-slider-container:hover .skill-item {
      filter: grayscale(0) brightness(1);
      transform: scale(1);
    }

    .skills-slider-track .skill-item img {
      width: 50px;
      height: 50px;
      margin: 0 auto 15px auto;
      transition: filter 0.3s ease;
    }

    /* --- SLIDER SECUNDARIO DE LOGOS (VERSIÓN MEJORADA CON MÁSCARAS CSS) --- */
    .subsection-title {
      font-family: var(--font-main);
      font-size: 1rem;
      color: var(--color-muted);
      text-transform: uppercase;
      text-align: center;
      margin-top: 60px;
      margin-bottom: 20px;
      letter-spacing: 2px;
    }

    .tech-logo-scroller {
      max-width: 900px;
      margin: auto;
      overflow: hidden;
      -webkit-mask-image: linear-gradient(90deg, transparent, #fff 10%, #fff 90%, transparent);
      mask-image: linear-gradient(90deg, transparent, #fff 10%, #fff 90%, transparent);
    }

    .tech-logo-scroller .scroller__inner {
      display: flex;
      flex-wrap: nowrap;
      width: max-content;
      gap: 50px; /* Aumentamos el espacio */
      animation: scroll-logos 30s linear infinite;
    }

    @keyframes scroll-logos {
      to {
        transform: translate(calc(-50% - 25px)); /* Mover la mitad del track y la mitad del gap */
      }
    }

    .tech-logo-scroller .tag-list {
      padding-left: 0;
      margin: 0;
      list-style: none;
      display: flex; /* Añadido para que los li se comporten como flex items */
      align-items: center;
    }

    .tech-logo-scroller .tag-list li {
      width: 40px;  /* Ancho del icono */
      height: 40px; /* Alto del icono */
      position: relative;
      
      /* ¡Aquí está la magia! */
      background-color: var(--color-muted); /* Color por defecto del logo */
      -webkit-mask-size: contain;
      mask-size: contain;
      -webkit-mask-position: center;
      mask-position: center;
      -webkit-mask-repeat: no-repeat;
      mask-repeat: no-repeat;
      
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    /* Al pasar el ratón, cambiamos el color de fondo (que es el color del logo) */
    .tech-logo-scroller .tag-list li:hover {
      background-color: var(--color-accent); /* El logo se vuelve del color de acento */
      transform: scale(1.1);
    }

    /* Tooltip para los logos */
    .tech-logo-scroller .logo-tooltip {
      position: absolute;
      bottom: 120%;
      left: 50%;
      transform: translateX(-50%);
      background: var(--color-accent);
      color: var(--color-bg);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
      pointer-events: none;
    }

    .tech-logo-scroller .tag-list li:hover .logo-tooltip {
      opacity: 1;
      visibility: visible;
    }

    /* --- RESPONSIVE DESIGN PARA LOS SLIDERS --- */
    @media (max-width: 768px) {
      .skills-slider-container {
        -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
      }

      .skills-slider-track {
        gap: 15px;
        width: calc(200px * 16 + 15px * 15);
        animation: scroll-skills 30s linear infinite;
      }

      .skills-slider-track .skill-item {
        width: 200px;
      }

      @keyframes scroll-skills {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(calc(-200px * 8 - 15px * 8));
        }
      }

      .tech-logo-scroller {
        max-width: 100%;
      }

      .tech-logo-scroller .scroller__inner {
        gap: 30px;
        animation: scroll-logos 20s linear infinite;
      }

      .tech-logo-scroller .tag-list li {
        width: 35px;
        height: 35px;
      }

      .subsection-title {
        font-size: 0.9rem;
        margin-top: 40px;
      }
    }

    @media (max-width: 480px) {
      .skills-slider-track {
        gap: 10px;
        width: calc(150px * 16 + 10px * 15);
        animation: scroll-skills 25s linear infinite;
      }

      .skills-slider-track .skill-item {
        width: 150px;
      }

      @keyframes scroll-skills {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(calc(-150px * 8 - 10px * 8));
        }
      }

      .tech-logo-scroller .scroller__inner {
        gap: 20px;
        animation: scroll-logos 15s linear infinite;
      }

      .tech-logo-scroller .tag-list li {
        width: 30px;
        height: 30px;
      }
    }

    /* Estilos originales mantenidos para compatibilidad */
    .skill-item { text-align: center; }
    .skill-item img {
      width: 50px; height: 50px; margin: 0 auto 15px auto;
      filter: grayscale(70%) contrast(1.5) brightness(1.8); /* More filtered initially */
      transition: filter var(--transition-fast) ease, transform var(--transition-fast) ease;
    }
    .skill-item:hover img { filter: none; transform: scale(1.1); } /* Full color and slight scale on hover */
    .progress-bar-container {
      background: rgba(var(--color-accent-rgb), 0.1); height: 8px; /* Thicker bar */
      border-radius: 4px; /* More rounded */
      margin-top: 10px; overflow: hidden;
      border: 1px solid var(--color-border);
      position: relative;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, rgba(var(--color-accent-rgb), 0.3) 0%, var(--color-accent) 100%); /* Gradient fill */
      width: 0%;
      transition: width 1.5s ease-out;
      box-shadow: var(--hud-glow);
      /* [SKILL_PARTICLE_TRAIL] - Subtle sparkle effect */
      position: relative;
    }
     /* Subtle animated sparkle effect on the fill bar */
     .progress-fill::after {
         content:'';
         position:absolute; top:0; right:0;
         width:12px; height:100%;
         background: radial-gradient(
           circle at center,
           rgba(255,255,255,0.8) 0%,
           rgba(var(--color-accent-rgb),0.5) 50%,
           transparent 100%
         );
         transform: translateX(100%);
         animation: sparkle 1.2s ease-out forwards;
         animation-delay: 0.3s;
     }
      .progress-bar-container.animate-fill .progress-fill::after {
          animation-play-state: running; /* Run when fill animates */
          /* Adjust animation timing based on fill width */
          animation-duration: calc(1.5s * (100 / var(--skill-level))); /* Faster for shorter fills */
      }


     .progress-bar-container::after { /* Percentage label on the bar */
         content: attr(data-label) '%'; /* Expecting data-label from JS */
         position: absolute;
         top: -20px; right: 0;
         font-size: 0.75rem;
         color: var(--color-text); /* Use text color */
         font-family: var(--font-main);
     }

    .skill-level { margin-top: 8px; font-size: 0.8rem; color: var(--color-muted); } /* Slightly larger font */

    /* --- PROJECTS --- */
    .internal-search {
      display: flex; justify-content: center; margin-bottom: 40px;
      gap: 10px; padding: 15px;
      background: var(--color-glass-bg); /* Apply glass style */
      border: 1px solid var(--color-border);
      border-radius: 5px;
      -webkit-backdrop-filter: blur(8px); /* Added prefix */
      backdrop-filter: blur(8px);
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    .internal-search input {
      padding: 10px 15px; /* Larger padding */
      width: 350px; max-width: 70%;
      border-radius: 3px; border: 1px solid var(--color-border);
      background: rgba(var(--color-bg), 0.9); /* More opaque */
      color: var(--color-text); font-size: 0.95rem;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
      /* [INPUT_FOCUS_GLOW] Borde de Entrada en Foco - CSS Implementation */
      box-shadow: inset 0 0 5px rgba(0,0,0,0.3); /* Initial subtle inset shadow */
    }
    .internal-search input:focus {
        border-color: var(--color-accent);
        box-shadow: 0 0 8px rgba(var(--color-accent-rgb), 0.5), inset 0 0 5px rgba(var(--color-accent-rgb), 0.2); /* Outer glow + inner shadow */
        outline: none;
    }
    .internal-search input::placeholder { color: var(--color-muted); }

    /* --- VISTA PREVIA FLOTANTE DE PROYECTOS --- */
    .project-grid-interactive {
      position: relative;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .project-card {
      position: relative;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      border: 2px solid var(--color-accent);
      border-radius: 12px;
      padding: 25px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .project-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(var(--color-accent-rgb), 0.05) 50%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .project-card:hover::before {
      opacity: 1;
    }

    .project-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(var(--color-accent-rgb), 0.3);
      border-color: var(--color-accent);
    }

    .project-card-content {
      position: relative;
      z-index: 2;
      transition: opacity 0.3s ease;
    }

    .project-card:hover .project-card-content {
      opacity: 0;
    }

    .project-card-content h3 {
      color: var(--color-accent);
      font-size: 20px;
      margin-bottom: 15px;
      font-weight: bold;
      text-shadow: var(--hud-text-shadow);
    }

    .project-card-content p {
      color: var(--color-text);
      line-height: 1.6;
      margin-bottom: 20px;
      opacity: 0.9;
    }

    .tech-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .tech-tags span {
      background: rgba(var(--color-accent-rgb), 0.2);
      color: var(--color-accent);
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      border: 1px solid rgba(var(--color-accent-rgb), 0.3);
      transition: all 0.3s ease;
    }

    .tech-tags span:hover {
      background: rgba(var(--color-accent-rgb), 0.3);
      transform: scale(1.05);
    }

    /* Panel de Vista Previa (Singleton) */
    .project-preview-panel {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1000;
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid transparent;
      backdrop-filter: blur(10px);
    }

    .project-preview-panel.visible {
      opacity: 1;
      transform: scale(1);
      border-color: var(--color-accent);
      box-shadow: 0 0 30px rgba(var(--color-accent-rgb), 0.5);
    }

    .project-preview-panel video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Filtro de Búsqueda */
    .internal-search {
      margin: 20px 0;
      display: flex;
      gap: 15px;
      align-items: center;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(20, 20, 20, 0.9));
      border: 2px solid var(--color-accent);
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .internal-search input {
      flex: 1;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid var(--color-accent);
      color: var(--color-text);
      padding: 12px 15px;
      border-radius: 6px;
      font-family: var(--font-main);
      font-size: 14px;
    }

    .internal-search input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .internal-search input:focus {
      outline: none;
      border-color: var(--color-accent);
      box-shadow: 0 0 10px rgba(var(--color-accent-rgb), 0.3);
    }

    /* Diseño Responsivo */
    @media (max-width: 768px) {
      .project-grid-interactive {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .project-card {
        min-height: 180px;
        padding: 20px;
      }

      .project-content h3 {
        font-size: 18px;
      }

      .internal-search {
        flex-direction: column;
        gap: 10px;
      }

      .internal-search input {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .project-card {
        padding: 15px;
      }

      .project-content h3 {
        font-size: 16px;
      }

      .tech-tags span {
        font-size: 11px;
        padding: 3px 8px;
      }
    }

    /* Estilos originales mantenidos para compatibilidad */
    .project-grid {
      display: grid; gap: 30px;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
    .project-item { display: flex; flex-direction: column; }
    .project-item h3 { font-size: 1.3rem; color: var(--color-accent); margin-bottom: 10px; text-shadow: var(--hud-text-shadow); }
    .project-item video { border-radius: 3px; margin-bottom: 15px; border: 1px solid var(--color-border); }
    .project-item p { color: var(--color-muted); font-size: 0.9rem; line-height: 1.5; flex-grow: 1; margin-bottom: 15px;}
    .tech-tags {
      display: flex; flex-wrap: wrap; gap: 5px; margin-top: auto;
    }
    .tech-tags span {
      background: rgba(var(--color-accent-rgb), 0.15);
      color: var(--color-accent);
      padding: 4px 8px; font-size: 0.75rem;
      border-radius: 3px; border: 1px solid rgba(var(--color-accent-rgb), 0.3);
    }

    /* --- TIMELINE --- */
    .timeline-list {
      display: flex; flex-direction: column; gap: 25px; /* Increased gap */
      max-width: 900px; margin: 0 auto; position: relative;
      padding-left: 40px; /* More space for the line */
    }
    /* Vertical line */
    .timeline-list::before {
      content:'';
      position:absolute;
      top:0; bottom:0; left:15px;
      width:2px;
      background: linear-gradient(
        to bottom,
        transparent 0%, var(--color-border) 20%, var(--color-border) 80%, transparent 100%
      );
      background-size: 100% 200%;
      animation: timeline-flow 10s linear infinite;
    }
    @keyframes timeline-flow {
      0%   { background-position: 0% 0%; }
      100% { background-position: 0% 100%; }
    }
    @media (prefers-reduced-motion: reduce) {
      .timeline-list::before { animation: none; }
    }
    .timeline-item {
      padding: 15px; /* Less padding inside */
      position: relative;
      background: var(--color-glass-bg); /* Apply glass style */
      border: 1px solid var(--color-border);
      border-radius: 5px;
      -webkit-backdrop-filter: blur(8px); /* Added prefix */
      backdrop-filter: blur(8px);
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      padding-left: 30px; /* Space from the line */
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    }
     .timeline-item:hover {
         border-color: var(--color-accent);
         box-shadow: 0 3px 15px rgba(var(--color-accent-rgb), 0.3);
     }

    /* Circle on the line */
    .timeline-item::before {
      content: ""; position: absolute;
      top: 20px; /* Align with content */
      left: 11px; /* Center over the main line */
      width: 10px; height: 10px; /* Slightly smaller */
      background: var(--color-accent); /* Accent color dot */
      border: 2px solid var(--color-bg); /* Background color border */
      border-radius: 50%; z-index: 2; /* Ensure it's above the line */
      box-shadow: 0 0 5px var(--color-accent-glow);
      transition: box-shadow var(--transition-medium); /* Add transition for beacon effect */
    }
     .timeline-item:first-of-type::before { top: 15px; } /* Adjust first item dot */
     .timeline-item:last-of-type::before { top: calc(100% - 15px); } /* Adjust last item dot */

     /* [TIMELINE_BEACON] Punto Brillante en Cronología - CSS Implementation */
     .timeline-item.active-beacon::before {
         box-shadow: 0 0 10px var(--color-accent), 0 0 20px var(--color-accent-glow); /* Stronger glow */
         animation: beacon-pulse 2s infinite alternate ease-in-out; /* Add pulse animation */
     }


    .timeline-item h4 {
      font-size: 1.1rem; color: var(--color-text); margin-bottom: 8px;
    }
    .timeline-year {
      color: var(--color-accent); font-family: var(--font-heading);
      font-size: 1.4em; /* Slightly larger */
      margin-right: 10px; display: inline-block;
    }
    .timeline-item p { color: var(--color-muted); line-height: 1.6; font-size: 0.9rem; }

    /* --- ACHIEVEMENTS & CERTIFICATES --- */
    .achievements-grid, .certifications-grid {
      display: grid; gap: 30px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
    .achievement-item { text-align: center; border: 1px dashed var(--color-border); /* Use dashed border */ padding: 20px; }
    .achievement-icon { font-size: 3rem; /* Larger icon */ margin-bottom: 15px; color: var(--color-accent); text-shadow: var(--hud-glow); }
    .achievement-item h4 { font-size: 1.2rem; /* Larger title */ color: var(--color-text); margin-bottom: 10px; text-shadow: var(--hud-text-shadow); }
    .achievement-item p { color: var(--color-muted); font-size: 0.9rem; line-height: 1.4; }

    .certification-item { padding: 0; position: relative; overflow: hidden; background: #000; }
    .certification-image { opacity: 0.5; transition: opacity var(--transition-medium); display: block; width: 100%; height: 200px; object-fit: cover; }
    .certification-item:hover .certification-image { opacity: 0.1; } /* More opaque overlay on hover */

     /* [CERT_OVERLAY_SCAN] Escaneo de Certificado al Pasar el Ratón - CSS Implementation */
     .certification-item::before {
         content: '';
         position: absolute;
         top: 0; left: -100%; width: 50%; height: 100%;
         background: linear-gradient(to right, transparent 0%, rgba(var(--color-accent-rgb), 0.3) 50%, transparent 100%);
         transform: skewX(-20deg);
         transition: none; /* Don't transition, only animate */
         opacity: 0;
         z-index: 2; /* Above image, below overlay */
     }
     .certification-item:hover::before {
         animation: cert-scan 0.6s linear forwards;
     }


    .certification-overlay {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(rgba(var(--color-bg), 0.6), rgba(var(--color-bg), 0.95)); /* Stronger gradient */
      color: var(--color-text); border-radius: 0;
      opacity: 0; visibility: hidden;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      padding: 25px; text-align: center;
      transition: opacity var(--transition-medium) ease, visibility var(--transition-medium);
      z-index: 3; /* Ensure overlay is on top */
    }
    .certification-item:hover .certification-overlay { opacity: 1; visibility: visible; }
    .overlay-info h3 { font-size: 1.3rem; color: var(--color-accent); margin-bottom: 10px; text-shadow: var(--hud-text-shadow); }
    .overlay-info p { font-size: 0.9rem; line-height: 1.3; color: var(--color-muted); margin-bottom: 15px; }
    .overlay-info button { margin-top: auto; }

    /* --- PROCESS --- */
    .process-steps {
      display: grid; gap: 30px; /* Increased gap */
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Slightly larger min width */
    }
    .process-step { text-align: center; position: relative; padding-top: 40px; /* Space for number */ } /* Add padding top */
     .process-step::before { /* Decorative line before number */
         content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
         width: 30px; height: 2px; background: var(--color-border);
     }

    .process-step h4 {
        font-size: 1.3rem; /* Larger title */
        color: var(--color-accent);
        margin-bottom: 15px;
        position: relative;
        padding-left: 0; /* Remove padding left */
        text-shadow: var(--hud-text-shadow);
    }
    .step-number {
      font-family: var(--font-heading); font-size: 2em; /* Larger number */
      color: var(--color-accent); /* Accent color */
      opacity: 0.7; /* Less opaque */
      position: absolute; top: 5px; /* Adjusted top */ left: 50%; transform: translateX(-50%); /* Center number */
      z-index: 1; /* Ensure number is above h4 if needed */
    }
     .process-step h4 .step-number { display: none; } /* Hide the number inside h4 if using pseudo-element */

    .process-step p { color: var(--color-muted); font-size: 0.9rem; line-height: 1.5; }

    /* --- BLOG --- */
    .blog-grid { display: grid; gap: 30px; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .blog-item h3 { font-size: 1.3rem; color: var(--color-accent); margin-bottom: 10px; text-shadow: var(--hud-text-shadow); }
    .blog-item p { color: var(--color-muted); line-height: 1.5; font-size: 0.9rem; margin-bottom: 15px; }
    .hud-link {
      color: var(--color-accent); text-decoration: none;
      border-bottom: 1px dashed var(--color-border); transition: color var(--transition-fast), border-color var(--transition-fast);
      padding-bottom: 2px;
    }
    .hud-link:hover { color: var(--color-text); border-color: var(--color-accent); }
    .hud-link.small { font-size: 0.8em; border: none; }
    .hud-link.social { font-size: 1.2rem; border: none; padding: 5px; }

    .blog-coming-soon {
      border: 1px dashed var(--color-border); padding: 30px; margin-top: 40px;
      text-align: center; color: var(--color-muted);
      background: rgba(var(--color-bg), 0.5); /* Add background */
      -webkit-backdrop-filter: blur(5px); /* Added prefix */
      backdrop-filter: blur(5px); /* Add blur */
    }
    .blog-coming-soon h3 { font-size: 1.5rem; color: var(--color-accent); margin-bottom: 15px; text-shadow: var(--hud-text-shadow); }

    /* --- TESTIMONIALS INTERFACE --- */
    .testimonials-interface {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
      min-height: 400px;
    }
    
    /* Panel Izquierdo: Selector de Transmisiones */
    .transmission-selector {
      background: var(--color-glass-bg);
      border: 1px solid var(--color-border);
      border-radius: 5px;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .transmission-selector::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
      animation: scan-line 2s linear infinite;
    }
    
    .interface-title {
      font-family: var(--font-heading);
      font-size: 1.2rem;
      color: var(--color-accent);
      margin-bottom: 20px;
      text-shadow: var(--hud-text-shadow);
      border-bottom: 1px solid var(--color-border);
      padding-bottom: 10px;
    }
    
    .transmission-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .transmission-item {
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--color-border);
      border-radius: 3px;
      cursor: pointer;
      transition: all var(--transition-fast);
      position: relative;
      overflow: hidden;
    }
    
    .transmission-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, var(--color-accent-glow), transparent);
      transition: left var(--transition-medium);
    }
    
    .transmission-item:hover {
      border-color: var(--color-accent);
      background: rgba(0, 0, 0, 0.5);
      transform: translateX(5px);
    }
    
    .transmission-item:hover::before {
      left: 100%;
    }
    
    .transmission-item.active {
      border-color: var(--color-accent);
      background: rgba(var(--color-accent-rgb), 0.1);
      box-shadow: 0 0 10px var(--color-accent-glow);
    }
    
    .transmission-item.active::before {
      left: 100%;
    }
    
    .transmission-id {
      display: block;
      font-family: var(--font-main);
      font-size: 0.9rem;
      color: var(--color-text);
      margin-bottom: 5px;
    }
    
    .transmission-status {
      display: block;
      font-family: var(--font-heading);
      font-size: 0.8rem;
      color: var(--color-accent);
      text-shadow: var(--hud-text-shadow);
    }
    
    .transmission-item.active .transmission-status {
      animation: status-pulse 2s ease-in-out infinite;
    }
    
    .transmission-item:not(.active) .transmission-status {
      animation: standby-pulse 3s ease-in-out infinite;
    }
    
    /* Panel Derecho: Visualizador de Transmisiones */
    .transmission-viewer {
      background: var(--color-glass-bg);
      border: 1px solid var(--color-border);
      border-radius: 5px;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .transmission-viewer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
      animation: scan-line 2s linear infinite;
    }
    
    .transmission-viewer::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(var(--color-accent-rgb), 0.1), transparent);
      animation: scan-sweep 3s ease-in-out infinite;
      pointer-events: none;
    }
    
    .viewer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--color-border);
    }
    
    .viewer-status {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .status-indicator {
      color: var(--color-accent);
      font-size: 1.2rem;
      animation: status-pulse 1s ease-in-out infinite;
    }
    
    .status-text {
      font-family: var(--font-heading);
      font-size: 0.9rem;
      color: var(--color-accent);
      text-shadow: var(--hud-text-shadow);
    }
    
    /* Canvas para la onda de datos */
    .waveform-container {
      height: 100px;
      margin-bottom: 20px;
      position: relative;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 3px;
      overflow: hidden;
    }
    
    .transmission-waveform {
      width: 100%;
      height: 100%;
      display: block;
    }
    
    /* Área de contenido del testimonio */
    .transmission-content {
      min-height: 150px;
    }
    
    .content-text {
      margin-bottom: 20px;
    }
    
    .testimonial-text {
      font-size: 1.1rem;
      color: var(--color-text);
      line-height: 1.6;
      font-style: italic;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity var(--transition-medium), transform var(--transition-medium);
    }
    
    .testimonial-text.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .content-source {
      border-top: 1px solid var(--color-border);
      padding-top: 15px;
    }
    
    .testimonial-source {
      font-style: normal;
      font-weight: bold;
      color: var(--color-accent);
      font-size: 1rem;
      display: block;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity var(--transition-medium), transform var(--transition-medium);
    }
    
    .testimonial-source.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Animaciones */
    @keyframes scan-line {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    @keyframes scan-sweep {
      0% { transform: translateX(-100%); }
      50% { transform: translateX(100%); }
      100% { transform: translateX(100%); }
    }
    
    @keyframes status-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    @keyframes standby-pulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 0.3; }
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .testimonials-interface {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .transmission-selector {
        order: 2;
      }
      
      .transmission-viewer {
        order: 1;
      }
    }


    /* --- SERVICES --- */
    .services-grid { display: grid; gap: 30px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .service-card { text-align: center; position: relative; overflow: hidden; padding-top: 35px; /* Space for tag */ } /* Add padding top */
    .service-card.featured { border-color: var(--color-accent); box-shadow: 0 0 20px var(--color-accent-glow); transform: scale(1.02); }
    .featured-tag {
      position: absolute; top: 0; right: -40px;
      background: var(--color-accent); color: var(--color-bg);
      padding: 5px 40px; font-size: 0.7rem; font-weight: bold; text-transform: uppercase;
      transform: rotate(45deg); transform-origin: top left; box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      z-index: 1; /* Ensure tag is above content */
    }
    .service-card h4 { font-family: var(--font-heading); font-size: 1.8rem; /* Larger title */ color: var(--color-accent); margin-bottom: 15px; text-shadow: var(--hud-glow); }
    .service-card p { color: var(--color-muted); line-height: 1.5; margin-bottom: 15px; font-size: 0.95rem; } /* Slightly larger text */
    .service-card .price { font-size: 2rem; /* Larger price */ color: var(--color-accent); margin: 25px 0; font-family: var(--font-heading); text-shadow: var(--hud-text-shadow); }
    .service-card button { margin-top: 10px; }

    /* --- DOWNLOADS --- */
    .downloads-grid { display: grid; gap: 25px; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
    .download-item { text-align: center; }
    .download-item h4 { color: var(--color-accent); margin-bottom: 10px; font-size: 1.1rem; word-break: break-all; text-shadow: var(--hud-text-shadow); }
    .download-item p { color: var(--color-muted); font-size: 0.9rem; margin-bottom: 15px; }

    /* --- FAQs --- */
    .faqs-container { max-width: 900px; margin: 0 auto; }
    .faq-item {
      margin-bottom: 15px;
      border: 1px solid var(--color-border); border-radius: 5px;
      background: rgba(var(--color-glass-bg), 0.6); /* More opaque */
      overflow: hidden;
      transition: background var(--transition-fast), border-color var(--transition-fast);
    }
     .faq-item:hover {
         background: rgba(var(--color-glass-hover), 0.7);
         border-color: var(--color-accent);
     }
     /* [FAQ_PULSE] Pulso de Pregunta al Abrir - CSS Implementation */
     .faq-item.open {
         border-color: var(--color-accent);
         animation: faq-pulse 0.4s ease-out; /* Add pulse animation */
     }


    .faq-question {
      padding: 15px 40px 15px 15px; cursor: pointer;
      font-weight: bold; position: relative;
      color: var(--color-text);
      transition: color var(--transition-fast);
    }
    .faq-question:hover { color: var(--color-accent); }
    .faq-question::after {
      content: "+"; position: absolute; right: 15px; top: 50%;
      transform: translateY(-50%); font-size: 1.5rem;
      color: var(--color-accent); transition: transform var(--transition-medium) ease, color var(--transition-fast);
      font-family: var(--font-heading); /* Use heading font for +/- */
    }
     .faq-item:hover .faq-question::after { color: var(--color-text); }
    .faq-item.open .faq-question::after { transform: translateY(-50%) rotate(45deg); color: var(--color-text); }
    .faq-answer {
      padding: 0 15px; color: var(--color-muted); line-height: 1.6; font-size: 0.9rem;
      max-height: 0; overflow: hidden;
      transition: max-height var(--transition-medium) ease-out, padding var(--transition-medium) ease-out;
    }
    .faq-item.open .faq-answer {
      max-height: 500px; /* Increased max height */
      padding: 15px; border-top: 1px solid var(--color-border);
    }

    /* --- CONTACT --- */
    .contact-section { text-align: center; }
    .contact-section p { font-size: 1.1rem; color: var(--color-muted); margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto; }
    .contact-section a.hud-button { margin-top: 0; } /* Adjust margin if needed */

/* ============================================================
   TERMINAL DE TRANSMISIÓN SEGURA
   ------------------------------------------------------------
   Estilos para la interfaz de terminal interactiva
============================================================ */

.secure-terminal-panel {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(20, 20, 20, 0.95) 100%);
    border: 2px solid var(--color-accent);
    border-radius: 8px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
    box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.3),
        inset 0 0 20px rgba(0, 255, 255, 0.1);
}

.secure-terminal-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
    animation: scanline 3s linear infinite;
    pointer-events: none;
}

@keyframes scanline {
    0% { left: -100%; }
    100% { left: 100%; }
}

.terminal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--color-accent);
    margin-bottom: 1.5rem;
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.9rem;
    color: var(--color-accent);
}

.terminal-status {
    font-weight: bold;
    text-shadow: 0 0 5px var(--color-accent);
}

.terminal-protocol {
    font-size: 0.8rem;
    opacity: 0.7;
}

.terminal-body {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    min-height: 200px;
}

.terminal-log {
    flex: 1;
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.9rem;
    line-height: 1.4;
    color: var(--color-text);
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem;
    border-radius: 4px;
    border: 1px solid rgba(0, 255, 255, 0.2);
    overflow-y: auto;
    max-height: 200px;
}

.log-line {
    margin-bottom: 0.5rem;
    animation: fadeInUp 0.3s ease-out;
}

.log-line:last-child {
    color: var(--color-accent);
    font-weight: bold;
}

.log-line.typing {
    border-right: 2px solid var(--color-accent);
    animation: blink 1s infinite;
}

.log-line.glitch {
    animation: glitch 0.2s ease-in-out;
}

@keyframes blink {
    0%, 50% { border-color: var(--color-accent); }
    51%, 100% { border-color: transparent; }
}

@keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

.terminal-visualizer {
    flex: 0 0 150px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 0.5rem;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.terminal-visualizer.active {
    opacity: 1;
}

.data-wave {
    height: 20px;
    background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
    border-radius: 2px;
    animation: dataWave 2s ease-in-out infinite;
}

.data-wave:nth-child(2) {
    animation-delay: 0.3s;
}

.data-wave:nth-child(3) {
    animation-delay: 0.6s;
}

@keyframes dataWave {
    0%, 100% { 
        transform: scaleX(0.3);
        opacity: 0.3;
    }
    50% { 
        transform: scaleX(1);
        opacity: 1;
    }
}

.terminal-controls {
    text-align: center;
}

.terminal-controls .hud-button {
    position: relative;
    transition: all 0.3s ease;
    min-width: 250px;
}

.terminal-controls .hud-button[data-state="authenticating"] {
    pointer-events: none;
    opacity: 0.7;
}

.terminal-controls .hud-button[data-state="ready"] {
    animation: pulse 2s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
}

@keyframes pulse {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
    }
    50% { 
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.8);
    }
}

.btn-text, .btn-loading, .btn-ready {
    display: inline-block;
    transition: all 0.3s ease;
}

.btn-loading {
    color: var(--color-accent);
}

.btn-ready {
    color: #00ff00;
    text-shadow: 0 0 10px #00ff00;
}

/* Responsive */
@media (max-width: 768px) {
    .secure-terminal-panel {
        padding: 1rem;
        margin: 0 1rem;
    }
    
    .terminal-header {
        flex-direction: column;
        gap: 0.5rem;
        text-align: center;
    }
    
    .terminal-body {
        flex-direction: column;
        gap: 1rem;
    }
    
    .terminal-visualizer {
        flex: none;
        height: 100px;
    }
}

/* ============================================================
   CASCADA DE RENDERIZADO DE BLOQUES DE DATOS
   ------------------------------------------------------------
   Animación de hover avanzada para bloques de contenido
============================================================ */

.block-render-container {
    position: relative;
    transition: all 0.3s ease;
}

.block-render-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
    transform: translateX(-100%);
    opacity: 0;
    transition: all 0.2s ease;
    z-index: 10;
}

.block-render-container.rendering::before {
    transform: translateX(0);
    opacity: 1;
}

.block-render-container.rendering {
    filter: blur(0.5px);
}

.block-render-container.rendering * {
    animation: glitch 0.1s ease-in-out;
}

.block-render-container.rendered {
    filter: none;
}

.block-render-container.rendered * {
    animation: none;
}

/* Efecto de scanline de confirmación */
.block-render-container::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, transparent, var(--color-accent), transparent);
    opacity: 0;
    transform: translateY(-100%);
    transition: all 0.2s ease;
    z-index: 5;
    pointer-events: none;
}

.block-render-container.scanline::after {
    transform: translateY(100%);
    opacity: 0.3;
}

/* Estados de texto para la animación */
.text-block {
    position: relative;
    transition: all 0.3s ease;
}

.text-block.raw-data {
    color: var(--color-accent);
    text-shadow: 0 0 5px var(--color-accent);
}

.text-block.processing {
    filter: blur(0.2px);
}

.text-block.rendered {
    filter: none;
    animation: textGlow 0.5s ease-out;
}

@keyframes textGlow {
    0% { 
        text-shadow: 0 0 5px var(--color-accent);
        color: var(--color-accent);
    }
    50% { 
        text-shadow: 0 0 15px var(--color-accent);
        color: #fff;
    }
    100% { 
        text-shadow: none;
        color: var(--color-text);
    }
}

/* Contenedores específicos para aplicar la animación */
.project-card,
.skill-item,
.blog-item,
.memory-log,
.credentials-panel {
    cursor: pointer;
    transition: all 0.3s ease;
}

.project-card:hover,
.skill-item:hover,
.blog-item:hover,
.memory-log:hover,
.credentials-panel:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(0, 255, 255, 0.3);
}

    /* --- FOOTER --- */
    .main-footer {
      background: rgba(var(--color-bg), 0.8); /* Slightly more opaque */
      border-top: 1px solid var(--color-border);
      padding: 20px 5%; text-align: center;
      font-size: 0.85rem; color: var(--color-muted); /* Slightly larger font */
      position: relative; z-index: 5;
    }
    .main-footer p { margin-bottom: 10px; }
    .footer-links { margin-bottom: 10px; }
    .footer-links a { margin: 0 8px; }
    .social-links { display: flex; justify-content: center; gap: 20px; margin-top: 15px; /* More space */ }
     .social-links a {
         font-size: 1.3rem; /* Larger icons */
         color: var(--color-muted);
         transition: color var(--transition-fast), transform var(--transition-fast);
     }
     .social-links a:hover {
         color: var(--color-accent);
         transform: scale(1.2);
     }


    /* --- MODALS --- */
    .modal {
      display: none; position: fixed; z-index: 10002; left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.9); /* More opaque background */
      -webkit-backdrop-filter: blur(10px); /* Added prefix */
      backdrop-filter: blur(10px); /* Stronger blur */
      align-items: center; justify-content: center;
      pointer-events: none; /* Disabled initially */
    }
    .modal.open { display: flex; pointer-events: auto; /* Enabled when open */ }
    .modal-content {
      position: relative; padding: 30px; width: 90%; max-width: 700px; /* Wider modal */
      border-radius: 5px; animation: modal-fadein var(--transition-medium) ease forwards;
      background: var(--color-glass-bg); border: 1px solid var(--color-border);
      -webkit-backdrop-filter: blur(15px); /* Added prefix */
      backdrop-filter: blur(15px); /* Stronger blur */
      box-shadow: 0 8px 20px rgba(0,0,0,0.4), 0 0 15px var(--color-accent-glow); /* Stronger shadow */
    }
    @keyframes modal-fadein {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .close-modal {
      position: absolute; top: 15px; right: 20px; /* Adjusted position */
      font-size: 2.5rem; /* Larger close icon */
      color: var(--color-muted); cursor: pointer; transition: color var(--transition-fast); line-height: 1; z-index: 1;
    }
    .close-modal:hover { color: var(--color-feedback-error); } /* Red on hover */
    .modal-content h3 { color: var(--color-accent); margin-bottom: 15px; font-size: 1.5rem; text-shadow: var(--hud-text-shadow); }
    .modal-content p { color: var(--color-text); line-height: 1.6; margin-bottom: 10px; font-size: 0.95rem; }
    .modal-content p:last-of-type { margin-bottom: 0; }
    .modal-content a.hud-link { display: inline-block; margin-top: 15px; }

    /* --- REVEAL ANIMATION --- */
    .reveal {
      opacity: 0;
      transform: translateY(50px); /* Increased displacement */
      transition: opacity 1s cubic-bezier(0.645, 0.045, 0.355, 1),
                  transform 1s cubic-bezier(0.645, 0.045, 0.355, 1); /* Slower transition */
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }


    /* ============================================================
       MICRO ANIMATIONS (CSS Keyframes & Styles)
       ------------------------------------------------------------
       Includes all new CSS-based micro-animations and styles for
       dynamically generated elements.
    ============================================================ */

     /* Keyframes moved from JS to CSS */
     @keyframes dot-fade-scale {
         0% { opacity: 0; transform: scale(0.5); }
         50% { opacity: 1; transform: scale(1); }
         100% { opacity: 0; transform: scale(0.8); }
     }
      @keyframes button-pulse {
          0% { transform: scale(1); box-shadow: none; }
          50% { transform: scale(1.05); box-shadow: var(--hud-glow); }
          100% { transform: scale(1); box-shadow: none; }
      }
       @keyframes beacon-pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.1); opacity: 0.8; }
       }
       @keyframes cert-scan {
           0% { left: -100%; opacity: 1; }
           100% { left: 100%; opacity: 0; }
       }
       @keyframes faq-pulse {
           0% { box-shadow: none; }
           50% { box-shadow: 0 0 8px rgba(var(--color-accent-rgb), 0.5); }
           100% { box-shadow: none; }
       }
        @keyframes sparkle {
            0% { opacity: 0; transform: translateX(50%); }
            50% { opacity: 1; transform: translateX(0); }
            100% { opacity: 0; transform: translateX(-50%); }
        }
        @keyframes glitch-pixel-fade { /* Animation for SYSTEM_GLITCH_PIXELS */
            0%, 100% { opacity: 0.7; }
            50% { opacity: 0.1; }
        }

     /* Styles for JS-generated dynamic elements (dots, noise, streaks, etc.) */
     .hud-dynamic-bit.dot {
         width: var(--hud-dot-size);
         height: var(--hud-dot-size);
         border-radius: 50%; /* Circle */
     }
      .hud-dynamic-bit.noise {
          background-color: var(--hud-noise-color);
          width: 3px; /* Example size */
          height: 3px;
          border-radius: 0; /* Square */
      }
       .hud-dynamic-bit.streak {
           background-color: var(--hud-data-streak-color);
           width: 1px; /* Thin line */
           height: 5px; /* Example length */
           border-radius: 0;
           animation: data-streak-move 1s linear forwards; /* Animation for streaks */
       }
        @keyframes data-streak-move {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
            100% { transform: translate(var(--move-x), var(--move-y)) rotate(var(--rotate)); opacity: 0; } /* --move-x, --move-y, --rotate set by JS */
        }
       .hud-dynamic-bit.glitch {
           width: 1px;
           height: 1px;
           background-color: var(--color-feedback-error); /* Red/Error color */
           opacity: 0.7;
           animation: glitch-pixel-fade 0.1s ease-out forwards; /* Very short animation */
       }
       /* Animation for Interaction Burst */
        .hud-dynamic-bit.burst {
           background-color: var(--color-accent); /* Accent color for burst */
           width: 2px; height: 2px; border-radius: 50%;
           animation: burst-out 0.5s ease-out forwards;
       }
        @keyframes burst-out {
           0% { transform: translate(0,0) scale(1); opacity: 1; }
           100% { transform: translate(var(--burst-x), var(--burst-y)) scale(0); opacity: 0; } /* --burst-x, --burst-y set by JS */
        }


    /* ============================================================
       MEDIA QUERIES
       ------------------------------------------------------------
    ============================================================ */
    @media (max-width: var(--tablet-break)) {
      html { font-size: 15px; }
      .hud-readout { font-size: 0.7rem; padding: 4px 8px; }
      .top-left-readout { top: 70px; left: 15px; }
      .top-right-readout { top: 70px; right: 15px; }
      .bottom-left-readout { bottom: 60px; left: 15px; }
      .bottom-right-readout { bottom: 60px; right: 15px; }
      .section-container { padding: 80px 4%; margin-top: 40px; padding-bottom: 40px; }
       .section-container:first-of-type { padding-top: 0;}
      .main-content-wrapper { padding-top: 80px; padding-bottom: 60px; }
      #mainHeader { padding: 10px 20px; }
       .section-title { margin-bottom: 40px; font-size: clamp(1.8rem, 4.5vw, 2.5rem); }
           /* Estilos legacy removidos - ahora se usa .user-profile-container */
       .skills-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 20px; }
       .skill-item img { width: 35px; height: 35px; margin-bottom: 10px; }
       .skill-item h3 { font-size: 0.9rem; margin-bottom: 5px;}
       .skill-level { font-size: 0.7rem; margin-top: 5px;}
        .progress-bar-container { height: 6px;}
        .progress-bar-container::after { top: -16px; font-size: 0.65rem; }
        .progress-fill::after { width: 8px; } /* Adjust sparkle size */


      .project-grid, .achievements-grid, .certifications-grid, .process-steps, .services-grid, .downloads-grid, .blog-grid {
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Allow smaller items on tablet */
          gap: 25px;
      }
       .project-item p { font-size: 0.85rem; }
       .tech-tags span { font-size: 0.7rem; padding: 3px 6px; }
       .timeline-list { padding-left: 30px; gap: 20px; }
       .timeline-list::before { left: 10px; }
       .timeline-item { padding-left: 20px; padding: 15px; }
       .timeline-item::before { left: 6px; top: 18px; }
       .timeline-item:last-of-type::before { top: calc(100% - 10px); } /* Adjust */
       .achievement-item, .process-step, .service-card, .download-item, .blog-item, .faq-item { padding: 20px; }
       .process-step { padding-top: 35px; }
        .process-step::before { width: 25px; }
       .step-number { font-size: 1.8em; top: 3px; }
       .faqs-container { padding: 0;} /* Remove padding from container on mobile */
       .faq-question { padding: 12px 35px 12px 12px; }
       .faq-question::after { right: 10px; font-size: 1.3rem; }
       .faq-answer { padding: 12px; }
       .modal-content { max-width: 95%; padding: 25px; }
       .close-modal { font-size: 2rem; top: 10px; right: 15px; }

       /* Adjust corner scan for tablet */
       :root { --hud-scan-width: 8px; } /* This was inside media query, moved to global :root as per original */

        /* Disable some intensive animations on tablet */
        .hud-dynamic-bit.noise, .hud-dynamic-bit.glitch { display: none; }
        .hud-line::before { animation: none; } /* Disable line streaks */
         .section-container.visible::before, .section-container.visible::after { animation-name: section-scan-in, none; } /* Disable texture scan */


    }

    @media (max-width: var(--mobile-break)) {
      html { font-size: 14px; }
      body { cursor: default; }
      .hud-corner { display: none; } /* Hide corners on mobile */
      .hud-line { display: none; } /* Hide lines on mobile */
      .hud-readout { display: none; } /* Hide readouts on mobile */
      .hud-dynamic-bit, .hud-dynamic-bit.dot, .hud-dynamic-bit.noise, .hud-dynamic-bit.streak, .hud-dynamic-bit.glitch, .hud-dynamic-bit.burst { display: none !important; } /* Hide ALL JS dynamic bits on mobile */


      .main-content-wrapper { padding-top: 70px; padding-bottom: 20px; }
      #mainHeader { padding: 8px 15px; }
      .branding a { font-size: 1.3rem; }
      .header-controls { gap: 5px; }
      #muteButton { padding: 6px; }
      .filter-panel {
        position: fixed; top:0; left:0;
        width:75vw; max-width:300px;
        transform: translateX(-100%); opacity:0;
        transition: transform .3s ease, opacity .2s ease;
      }
      .filter-panel.open {
        transform: translateX(0); opacity:1;
      }
      .hero { padding: 80px 5% 40px 5%; margin-top: -70px;}
      .hero h1 { font-size: clamp(2rem, 7vw, 4rem); letter-spacing: 0.02em; margin-bottom: 15px; }
      .hero p { font-size: clamp(0.9rem, 2vw, 1.1rem); }
      .scroll-down-indicator { bottom: 10px; font-size: 1.2rem; }
      .section-container { padding: 40px 5%; margin-top: 30px; padding-bottom: 30px; }
       .section-container:first-of-type { padding-top: 0;}
       /* Hide section scan on mobile */
       .section-container::before, .section-container::after { display: none; }
      .section-title { margin-bottom: 30px; font-size: clamp(1.5rem, 5vw, 2rem); }
          /* Estilos legacy removidos - ahora se usa .user-profile-container responsive */
      .skills-grid { grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; }
      .skill-item img { width: 35px; height: 35px; margin-bottom: 10px; }
      .skill-item h3 { font-size: 0.9rem; margin-bottom: 5px;}
      .skill-level { font-size: 0.7rem; margin-top: 5px;}
       .progress-bar-container { height: 6px;}
       .progress-bar-container::after { top: -16px; font-size: 0.65rem; }
       .progress-fill::after { animation: none; display: none; } /* Disable sparkle animation */


      .project-grid, .achievements-grid, .certifications-grid, .process-steps, .services-grid, .downloads-grid, .blog-grid {
          grid-template-columns: 1fr;
          gap: 20px;
      }
       .project-item p { font-size: 0.85rem; }
       .tech-tags span { font-size: 0.7rem; padding: 3px 6px; }
       .timeline-list { padding-left: 25px; gap: 15px; }
       .timeline-list::before { left: 8px; }
       .timeline-item { padding-left: 15px; padding: 10px; }
       .timeline-item::before { left: 5px; top: 15px; width: 8px; height: 8px; }
        .timeline-item:first-of-type::before { top: 12px; } /* Adjust first item dot */
        .timeline-item:last-of-type::before { top: calc(100% - 10px); } /* Adjust last item dot */
       /* Hide timeline beacon animation on mobile for performance */
       .timeline-item.active-beacon::before { animation: none; box-shadow: 0 0 5px var(--color-accent-glow); }


       .timeline-year { font-size: 1.2em; }
       .achievement-icon { font-size: 2.5rem; margin-bottom: 10px; }
       .achievement-item h4 { font-size: 1.1rem; margin-bottom: 8px;}
       .certification-image { height: 150px; }
        .overlay-info h3 { font-size: 1.1rem; }
        .overlay-info p { font-size: 0.8rem; }
        /* Hide certificate scan on mobile */
        .certification-item::before { display: none; }
       .process-step { padding-top: 30px; }
        .process-step::before { width: 20px; top: -5px;} /* Adjusted position to be above element */
        .step-number { font-size: 1.5em; top: -20px; } /* Position relative to the element top */
       .process-step h4 { font-size: 1.1rem; margin-bottom: 10px;}
       .blog-item h3 { font-size: 1.1rem; }
       .blog-item p { font-size: 0.85rem; }
       .blog-coming-soon { padding: 20px; }
       .blog-coming-soon h3 { font-size: 1.3rem; }
            .testimonials-interface { gap: 20px; min-height: 300px; }
    .transmission-selector { padding: 15px; }
    .transmission-viewer { padding: 15px; }
    .testimonial-text { font-size: 1rem; }
    .testimonial-source { font-size: 0.9rem; }
        .carousel-controls { gap: 8px; bottom: -5px; }
        .carousel-controls button { width: 8px; height: 8px; }
        .service-card h4 { font-size: 1.6rem; }
        .service-card p { font-size: 0.9rem;}
        .service-card .price { font-size: 1.8rem; margin: 20px 0;}
        .download-item h4 { font-size: 1rem;}
        .download-item p { font-size: 0.8rem;}
        .faq-item { margin-bottom: 10px; }
        .faq-question { padding: 10px 30px 10px 10px; font-size: 0.9rem; }
        .faq-question::after { right: 8px; font-size: 1.2rem; }
        .faq-answer { padding: 10px; font-size: 0.85rem;}
       /* Hide FAQ pulse animation on mobile */
       .faq-item.open { animation: none; box-shadow: none; }
        /* contact-section typo, fixed to .contact-section */
        .contact-section p { font-size: 1rem; margin-bottom: 20px;}
        .main-footer { padding: 15px 5%; font-size: 0.8rem; }
        .social-links { gap: 10px; margin-top: 10px;}
        .social-links a { font-size: 1.1rem; }
        .modal-content { padding: 20px; }
        .modal-content h3 { font-size: 1.3rem; margin-bottom: 10px;}
        .modal-content p { font-size: 0.9rem; }
    }

    body::before {
      content:'';
      position:fixed; inset:0;
      pointer-events:none;
      z-index:-1; /* justo encima del fondo */
      background-image:
        linear-gradient(rgba(var(--color-accent-rgb),0.05) 1px, transparent 1px),
        linear-gradient(to right, rgba(var(--color-accent-rgb),0.05) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: grid-shift 60s linear infinite;
    }
    @keyframes grid-shift {
      0%   { background-position: 0   0; }
      100% { background-position: 100px 100px; }
    }
    @media (prefers-reduced-motion: reduce) {
      body::before { animation: none; }
    }

    /* Track */
    ::-webkit-scrollbar {
      width: 8px;
      background: rgba(var(--color-bg),0.3);
    }
    /* Thumb */
    ::-webkit-scrollbar-thumb {
      background: var(--color-accent);
      border-radius: 4px;
      box-shadow: 0 0 5px var(--color-accent-glow);
    }
    /* Hover */
    ::-webkit-scrollbar-thumb:hover {
      background: var(--color-accent-dark);
    }
    /* Scrollbar (standard) */
    html { /* For Firefox */
        scrollbar-color: var(--color-accent) rgba(var(--color-bg),0.3);
        scrollbar-width: thin;
    }


    /* ESTILOS PARA LISTA DE DATOS DE CERTIFICADOS */
    .cert-data-list {
      list-style: none;
      margin: 0;
      padding: 0;
      font-family: var(--font-main);
    }
    .cert-list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      border-bottom: 1px solid var(--color-border);
      transition: background var(--transition-fast), color var(--transition-fast);
      position: relative;
    }
    .cert-list-item .cert-name {
      font-family: var(--font-heading);
      color: var(--color-accent);
      margin-right: 10px;
    }
    .cert-list-item span {
      margin-right: 10px;
    }
    .cert-list-item .cert-status {
      font-weight: bold;
    }
    .cert-list-item:hover {
      background: rgba(var(--color-accent-rgb), 0.1);
      color: var(--color-accent);
    }
    .cert-list-item:hover::before {
      content: '>';
      position: absolute;
      left: 5px;
      color: var(--color-accent);
    }

    /* Responsive Design para Bio-Log */
    @media (max-width: var(--tablet-break)) {
      .user-profile-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .biometric-module {
        order: 1;
      }
      
      .memory-core-module {
        order: 2;
      }
      
      .system-parameters-module {
        order: 3;
      }
    }

    @media (max-width: var(--mobile-break)) {
      .user-profile-container {
        gap: 15px;
      }
      
      .credentials-panel,
      .memory-log,
      .competency-matrix,
      .activity-log {
        padding: 15px;
      }
      
      .log-header,
      .panel-title {
        font-size: 1rem;
      }
      
      .log-content {
        font-size: 0.9rem;
      }
      
      .skill-metric,
      .credential-item {
        font-size: 0.85rem;
      }
      
      .activity-item {
        font-size: 0.8rem;
      }
    }

    /* HEADER MODULE LAYOUT */
    @media (max-width: var(--mobile-break)) {
      #mainHeader {
        flex-direction: column;
        align-items: flex-start;
        padding: 8px 15px;
      }
      #mainHeader .branding {
        margin-bottom: 8px;
      }
      #mainHeader .header-modules-right { /* Renamed from #headerMobilePanel to match mobile layout better */
        width: 100%;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 8px;
      }
      /* Ajuste de tamaño de fuente y paddings para móvil */
      .sys-status-module,
      .system-clock-module,
      .header-controls .hud-button {
        font-size: 0.7rem;
        padding: 4px 6px;
      }
    }

    .nav-log-feed {
      position: fixed;
      bottom: 20px;
      left: 20px;
      max-width: 300px;
      max-height: 150px;
      overflow: hidden;
      font-family: var(--font-main);
      font-size: 0.7rem;
      color: var(--color-muted);
      background: rgba(var(--color-bg),0.85);
      border: 1px solid var(--color-border);
      border-radius: 4px;
      padding: 8px;
      backdrop-filter: blur(4px);
      z-index: 10002;
    }
    /* HEADER EXPANDED CONTROLS (MOBILE) */
    .header-expanded-controls { /* This class wasn't used in the HTML, but styles are here */
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      background: rgba(var(--color-bg),0.9);
      backdrop-filter: blur(10px);
      flex-direction: column;
      padding: 10px;
      gap: 8px;
      z-index: 1001;
    }
    .header-expanded-controls.open {
      display: flex;
    }

    /* Scroll performance hints */
    .reveal,
    .hud-overlay,
    #mainHeader,
    .modal-content,
    .filter-panel {
        will-change: transform, opacity, filter;
    }

    #skillsVis,
    #scrollCanvas {
        will-change: contents;
    }

    /* Scroll streaming visual effect canvas */
    #scrollCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1002;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    /* --- HEADER MEJORA VISUAL --- */
    #mainHeader {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 32px;
      padding-left: 40px;
      padding-right: 40px;
      min-height: 68px;
    }
    .header-modules-right {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 32px;
      flex: 1;
      justify-content: flex-end;
      position: relative;
    }
    .branding {
      display: flex;
      align-items: center;
      min-width: 180px;
      margin-right: 32px;
      border-right: 1.5px solid var(--color-border);
      padding-right: 32px;
    }
    .sys-status-module, .system-clock-module {
      margin-right: 24px;
      padding-right: 24px;
      border-right: 1px solid var(--color-border);
      display: flex;
      align-items: center;
      height: 100%;
      font-size: 0.95rem;
    }
    .system-clock-module {
      margin-right: 0;
      padding-right: 0;
      border-right: none;
    }
    .header-controls {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-left: 32px;
      padding-left: 32px;
      border-left: 1.5px solid var(--color-border);
      background: rgba(var(--color-bg), 0.7);
      border-radius: 0 6px 6px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    @media (max-width: 1024px) {
      #mainHeader {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
        padding-left: 16px;
        padding-right: 16px;
      }
      .branding {
        margin-right: 0;
        border-right: none;
        padding-right: 0;
        justify-content: flex-start;
      }
      .header-modules-right {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
      }
      .header-controls {
        margin-left: 0;
        padding-left: 0;
        border-left: none;
        border-radius: 0 0 6px 6px;
        box-shadow: none;
        background: none;
      }
      .sys-status-module, .system-clock-module {
        margin-right: 0;
        padding-right: 0;
        border-right: none;
        justify-content: flex-start;
      }
    }

    /* --- HAMBURGER MENU --- */
    .hamburger-menu {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 42px;
      height: 42px;
      background: rgba(var(--color-accent-rgb), 0.05);
      border: 1px solid var(--color-border);
      border-radius: 6px;
      cursor: pointer;
      margin-left: 8px;
      z-index: 1100;
      position: relative;
      transition: background 0.2s ease;
    }

    /* Efecto simple al hover */
    .hamburger-menu:hover {
      background: rgba(var(--color-accent-rgb), 0.1);
    }

    /* Efecto ligero al hacer clic */
    .hamburger-menu::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 6px;
      opacity: 0;
      background: radial-gradient(circle at center, 
        rgba(var(--color-accent-rgb), 0.5) 0%, 
        rgba(var(--color-accent-rgb), 0) 70%);
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .hamburger-menu:active::before {
      opacity: 1;
      transition: opacity 0.1s ease;
    }

    .hamburger-menu span {
      display: block;
      width: 24px;
      height: 2px;
      margin: 3px 0;
      background: var(--color-accent);
      border-radius: 2px;
      position: relative;
      transition: transform 0.3s ease, opacity 0.2s ease;
    }

    .hamburger-menu.active span:nth-child(1) {
      transform: translateY(8px) rotate(45deg);
    }

    .hamburger-menu.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger-menu.active span:nth-child(3) {
      transform: translateY(-8px) rotate(-45deg);
    }

    @media (max-width: 768px) {
      .hamburger-menu {
        display: flex;
      }
      #mainHeader {
        flex-direction: row;
        align-items: center;
        gap: 8px;
        padding-left: 10px;
        padding-right: 10px;
        min-height: 56px;
      }
      .branding {
        min-width: 120px;
        padding-right: 10px;
        margin-right: 0;
        border-right: none;
      }
      .header-modules-right {
        position: fixed;
        top: 0;
        right: 0;
        height: 100vh;
        width: 80vw;
        max-width: 300px;
        background: rgba(var(--color-bg), 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: -3px 0 15px rgba(0,0,0,0.3);
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 24px;
        padding: 70px 20px 20px 20px;
        transform: translateX(100%);
        transition: transform 0.35s ease-out;
        z-index: 1099;
        border-radius: 10px 0 0 10px;
        border-left: 1px solid var(--color-border);
      }
      
      .header-modules-right.open {
        transform: translateX(0);
      }
      
      /* Barra decorativa simple */
      .header-modules-right::before {
        content: '';
        position: absolute;
        top: 40px;
        left: 20px;
        right: 20px;
        height: 1px;
        background: var(--color-accent);
        opacity: 0.4;
      }
      
      .header-controls { 
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        margin-left: 0;
        padding-left: 0;
        border-left: none;
        border-radius: 0;
        box-shadow: none;
        background: none;
        width: 100%;
      }
      
      .header-controls .hud-button {
        width: 90%;
        padding: 10px;
        text-align: center;
      }
      
      .sys-status-module, .system-clock-module {
        margin-right: 0;
        padding-right: 0;
        border-right: none;
        justify-content: center;
        width: 100%;
        text-align: center;
        padding: 8px 0;
        border-bottom: 1px dashed var(--color-border);
      }
      
      /* Fondo ligero al abrir menú */
      body.menu-open::before {
        content: '';
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.6);
        z-index: 1098;
        pointer-events: auto;
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
        transition: opacity 0.25s ease;
        opacity: 1;
      }
    }

    @media (min-width: 769px) {
      .hamburger-menu {
        display: none !important;
      }
      .header-modules-right {
        position: static !important;
        height: auto !important;
        width: auto !important;
        background: none !important;
        box-shadow: none !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 32px !important;
        padding: 0 !important;
        transform: none !important;
        border-radius: 0 !important;
        border-left: none !important;
      }
       body.menu-open::before {
          display: none;
       }
    }

    /* Mejoras específicas para el Bio-Log en dispositivos móviles */
    @media (max-width: var(--mobile-break)) {
      .biometric-scan-module {
        max-width: 200px;
        margin: 0 auto;
      }
      
      .scan-grid {
        background-size: 15px 15px;
      }
      
      .credential-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 2px;
      }
      
      .cred-value {
        text-align: left;
        max-width: 100%;
        font-size: 0.85rem;
      }
      
      .skill-bar {
        font-size: 0.8rem;
      }
      
      .activity-item {
        padding: 8px 0;
      }
      
      .activity-date {
        font-size: 0.8rem;
      }
      
      .activity-desc {
        font-size: 0.75rem;
        margin-left: 5px;
      }
    }

    /* Optimización específica para tablets */
    @media (max-width: 1024px) and (min-width: 768px) {
      .user-profile-container {
        grid-template-columns: 1fr 1.5fr;
        gap: 25px;
      }
      
      .system-parameters-module {
        order: -1;
      }
      
      .biometric-scan-module {
        max-width: 180px;
      }
    }

    /* --- ARCHIVO DE PROYECTOS HOLOGRÁFICOS --- */
    
    /* Índice Alfabético */
    .alphabetic-index {
      margin: 20px 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      border: 2px solid var(--color-accent);
      border-radius: 8px;
      padding: 20px;
    }

    .index-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--color-accent);
    }

    .index-title {
      color: var(--color-accent);
      font-family: var(--font-main);
      font-size: 14px;
      font-weight: bold;
    }

    .index-status {
      color: #00ff00;
      font-size: 12px;
      padding: 4px 8px;
      background: rgba(0, 255, 0, 0.2);
      border-radius: 4px;
    }

    .index-letters {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    .letter {
      display: inline-block;
      width: 30px;
      height: 30px;
      line-height: 30px;
      text-align: center;
      background: rgba(var(--color-accent-rgb), 0.1);
      color: var(--color-accent);
      border: 1px solid rgba(var(--color-accent-rgb), 0.3);
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: var(--font-main);
      font-size: 12px;
      font-weight: bold;
    }

    .letter:hover {
      background: rgba(var(--color-accent-rgb), 0.3);
      transform: scale(1.1);
      box-shadow: 0 0 10px rgba(var(--color-accent-rgb), 0.5);
    }

    .letter.inactive {
      opacity: 0.3;
      color: var(--color-muted);
      cursor: not-allowed;
    }

    /* Tabla de Datos Maestra */
    .data-table-container {
      margin: 30px 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      border: 2px solid var(--color-accent);
      border-radius: 8px;
      overflow: hidden;
    }

    .table-header {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr 1.5fr 1fr;
      background: var(--color-accent);
      color: var(--color-bg);
      font-weight: bold;
      font-size: 12px;
    }

    .header-cell {
      padding: 12px 8px;
      text-align: left;
      font-family: var(--font-main);
      border-right: 1px solid rgba(255, 255, 255, 0.2);
    }

    .header-cell:last-child {
      border-right: none;
    }

    .table-body {
      max-height: 400px;
      overflow-y: auto;
    }

    .table-row {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr 1.5fr 1fr;
      border-bottom: 1px solid rgba(var(--color-accent-rgb), 0.2);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .table-row:hover {
      background: rgba(var(--color-accent-rgb), 0.1);
      box-shadow: 0 0 15px rgba(var(--color-accent-rgb), 0.3);
    }

    .table-row::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 3px;
      background: transparent;
      transition: background 0.3s ease;
    }

    .table-row:hover::before {
      background: var(--color-accent);
    }

    .cell {
      padding: 12px 8px;
      font-family: var(--font-main);
      font-size: 12px;
      color: var(--color-text);
      border-right: 1px solid rgba(var(--color-accent-rgb), 0.1);
      display: flex;
      align-items: center;
    }

    .cell:last-child {
      border-right: none;
    }

    .status-online {
      color: #00ff00;
      font-weight: bold;
    }

    .status-archived {
      color: #ffaa00;
      font-weight: bold;
    }

    .status-development {
      color: #0088ff;
      font-weight: bold;
    }

    /* Contenedor de Flujo de Datos */
    .data-flow-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }

    #dataFlowCanvas {
      width: 100%;
      height: 100%;
    }

    /* Panel de Estadísticas HUD */
    .statistics-hud {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(15px);
      border: 2px solid var(--color-accent);
      border-radius: 12px;
      padding: 25px;
      min-width: 400px;
      opacity: 0;
      pointer-events: none;
      z-index: 1000;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .statistics-hud.visible {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: auto;
    }

    .hud-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--color-accent);
    }

    .hud-title {
      color: var(--color-accent);
      font-family: var(--font-main);
      font-size: 16px;
      font-weight: bold;
    }

    .hud-status {
      color: #00ff00;
      font-size: 12px;
      animation: blink 1s infinite;
    }

    .hud-content {
      color: var(--color-text);
      font-family: var(--font-main);
      font-size: 14px;
    }

    .stat-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      padding: 8px 0;
    }

    .stat-label {
      color: var(--color-muted);
    }

    .stat-value {
      color: var(--color-accent);
      font-weight: bold;
    }

    .tech-distribution {
      margin: 20px 0;
    }

    .distribution-chart {
      margin-top: 10px;
      height: 60px;
      background: rgba(var(--color-accent-rgb), 0.1);
      border-radius: 4px;
      position: relative;
      overflow: hidden;
    }

    .loading-stream {
      margin-top: 20px;
      padding: 10px;
      background: rgba(var(--color-accent-rgb), 0.1);
      border-radius: 4px;
    }

    .loading-text {
      color: var(--color-accent);
    }

    .loading-cursor {
      color: var(--color-accent);
      animation: blink 1s infinite;
    }

    /* Panel Holográfico de Vista Previa */
    .holographic-preview-panel {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      border: 2px solid var(--color-accent);
      border-radius: 12px;
      overflow: hidden;
      opacity: 0;
      pointer-events: none;
      z-index: 1001;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      min-width: 500px;
      min-height: 300px;
    }

    .holographic-preview-panel.visible {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: auto;
      box-shadow: 0 0 40px rgba(var(--color-accent-rgb), 0.6);
    }

    .panel-info {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 5px;
    }

    .project-id {
      color: var(--color-accent);
      font-size: 12px;
      font-weight: bold;
      background: rgba(0, 0, 0, 0.8);
      padding: 4px 8px;
      border-radius: 4px;
    }

    .project-status {
      color: #00ff00;
      font-size: 10px;
      background: rgba(0, 255, 0, 0.2);
      padding: 2px 6px;
      border-radius: 3px;
    }

    .holographic-preview-panel video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Animaciones */
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    @keyframes dataFlow {
      0% { transform: translateX(-100%); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateX(100%); opacity: 0; }
    }

    /* Diseño Responsivo */
    @media (max-width: 768px) {
      .table-header,
      .table-row {
        grid-template-columns: 1fr 1.5fr 1fr 1fr 1fr;
        font-size: 11px;
      }

      .cell {
        padding: 8px 4px;
      }

      .statistics-hud {
        min-width: 300px;
        margin: 20px;
      }

      .holographic-preview-panel {
        min-width: 90vw;
        min-height: 50vh;
      }

      .index-letters {
        gap: 4px;
      }

      .letter {
        width: 25px;
        height: 25px;
        line-height: 25px;
        font-size: 10px;
      }
    }

    @media (max-width: 480px) {
      .table-header,
      .table-row {
        grid-template-columns: 1fr 1.2fr 0.8fr 1fr 0.8fr;
        font-size: 10px;
      }

      .cell {
        padding: 6px 2px;
      }

      .statistics-hud {
        min-width: 280px;
        padding: 15px;
      }
    }
  </style>

</head>
<body>

  <!-- ============================================================
       ECOSISTEMA DE INTERFAZ HOLOGRÁFICA ADAPTATIVA
       ------------------------------------------------------------
       Sistema de tres capas para crear profundidad visual
  ============================================================ -->

  <!-- Capa 1: La Matriz de Datos (Fondo Sutil) -->
  <div class="holographic-background">
    <div class="matrix-grid"></div>
    <canvas id="matrixRain" class="matrix-rain"></canvas>
  </div>

  <!-- Capa 2: Partículas Flotantes (Plano Medio) -->
  <div class="holographic-particles">
    <canvas id="particleSystem"></canvas>
  </div>

  <!-- Capa 3: Elementos Reactivos (Interfaz Activa) -->
  <div class="holographic-interface">
    <!-- Escáner de Contenido -->
    <div class="scan-line" id="scanLine"></div>
    
    <!-- Información Contextual -->
    <div class="context-info" id="contextInfo"></div>
    
    <!-- Data Burst Container -->
    <div class="data-burst" id="dataBurst"></div>
    
    <!-- Indicadores de Carga -->
    <div class="load-indicator" id="loadIndicator"></div>
  </div>
  <!-- ============================================================
       CIRCUIT MESH LAYER
       ------------------------------------------------------------
       Animated circuit pattern background with energy pulses
  ============================================================ -->
  <div class="circuit-mesh-layer" id="circuitMeshLayer">
    <svg class="circuit-pattern" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="glow">
          <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
          <feMerge> 
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <linearGradient id="pulseGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="var(--color-accent)" stop-opacity="0"/>
          <stop offset="50%" stop-color="var(--color-accent)" stop-opacity="0.8"/>
          <stop offset="100%" stop-color="var(--color-accent)" stop-opacity="0"/>
        </linearGradient>
        <pattern id="circuitPattern" x="0" y="0" width="200" height="150" patternUnits="userSpaceOnUse">
          <!-- Circuit paths -->
          <path class="circuit-path" d="M20,20 L80,20 L80,60 L140,60 L140,100 L180,100" 
                stroke="var(--color-accent)" stroke-width="1" fill="none" opacity="0.3"/>
          <path class="circuit-path" d="M40,40 L100,40 L100,80 L160,80" 
                stroke="var(--color-accent)" stroke-width="1" fill="none" opacity="0.3"/>
          <path class="circuit-path" d="M60,60 L120,60 L120,100 L180,100" 
                stroke="var(--color-accent)" stroke-width="1" fill="none" opacity="0.3"/>
          
          <!-- Circuit nodes -->
          <circle class="circuit-node" cx="80" cy="20" r="2" fill="var(--color-accent)" opacity="0.4"/>
          <circle class="circuit-node" cx="140" cy="60" r="2" fill="var(--color-accent)" opacity="0.4"/>
          <circle class="circuit-node" cx="180" cy="100" r="2" fill="var(--color-accent)" opacity="0.4"/>
          <circle class="circuit-node" cx="100" cy="40" r="2" fill="var(--color-accent)" opacity="0.4"/>
          <circle class="circuit-node" cx="160" cy="80" r="2" fill="var(--color-accent)" opacity="0.4"/>
          <circle class="circuit-node" cx="120" cy="60" r="2" fill="var(--color-accent)" opacity="0.4"/>
          <circle class="circuit-node" cx="180" cy="100" r="2" fill="var(--color-accent)" opacity="0.4"/>
          
          <!-- Energy pulses -->
          <path class="energy-pulse pulse-1" d="M20,20 L80,20 L80,60 L140,60 L140,100 L180,100" 
                stroke="url(#pulseGradient)" stroke-width="2" fill="none" 
                stroke-dasharray="200" stroke-dashoffset="200"/>
          <path class="energy-pulse pulse-2" d="M40,40 L100,40 L100,80 L160,80" 
                stroke="url(#pulseGradient)" stroke-width="2" fill="none" 
                stroke-dasharray="150" stroke-dashoffset="150"/>
          <path class="energy-pulse pulse-3" d="M60,60 L120,60 L120,100 L180,100" 
                stroke="url(#pulseGradient)" stroke-width="2" fill="none" 
                stroke-dasharray="180" stroke-dashoffset="180"/>
        </pattern>
      </defs>
      
      <!-- Main background with repeating pattern -->
      <rect width="100%" height="100%" fill="url(#circuitPattern)" opacity="0.1"/>
      
      <!-- Additional larger circuit paths for variety -->
      <path class="circuit-path" d="M100,50 L300,50 L300,150 L500,150 L500,250 L700,250" 
            stroke="var(--color-accent)" stroke-width="1.5" fill="none" opacity="0.2"/>
      <path class="circuit-path" d="M200,100 L400,100 L400,200 L600,200" 
            stroke="var(--color-accent)" stroke-width="1.5" fill="none" opacity="0.2"/>
      <path class="circuit-path" d="M150,200 L350,200 L350,300 L550,300 L550,400 L750,400" 
            stroke="var(--color-accent)" stroke-width="1.5" fill="none" opacity="0.2"/>
      
      <!-- Larger nodes -->
      <circle class="circuit-node" cx="300" cy="50" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="500" cy="150" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="700" cy="250" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="400" cy="100" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="600" cy="200" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="350" cy="200" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="550" cy="300" r="4" fill="var(--color-accent)" opacity="0.5"/>
      <circle class="circuit-node" cx="750" cy="400" r="4" fill="var(--color-accent)" opacity="0.5"/>
      
      <!-- Larger energy pulses -->
      <path class="energy-pulse pulse-1" d="M100,50 L300,50 L300,150 L500,150 L500,250 L700,250" 
            stroke="url(#pulseGradient)" stroke-width="3" fill="none" 
            stroke-dasharray="600" stroke-dashoffset="600"/>
      <path class="energy-pulse pulse-2" d="M200,100 L400,100 L400,200 L600,200" 
            stroke="url(#pulseGradient)" stroke-width="3" fill="none" 
            stroke-dasharray="450" stroke-dashoffset="450"/>
      <path class="energy-pulse pulse-3" d="M150,200 L350,200 L350,300 L550,300 L550,400 L750,400" 
            stroke="url(#pulseGradient)" stroke-width="3" fill="none" 
            stroke-dasharray="550" stroke-dashoffset="550"/>
    </svg>
  </div>

<canvas id="scrollCanvas"></canvas>

  <!-- ============================================================
       LOADER COOGRAFIADO CON SINCRONIZACIÓN ABSOLUTA
       ------------------------------------------------------------
       GSAP Timeline orchestrated loading experience
  ============================================================ -->
  <div class="loader-overlay active" id="loaderOverlay">
    <div class="loader-hud-border"></div>
    <div class="loader-scanline"></div>
    
    <!-- Core Holographic Elements -->
    <div class="holographic-core">
      <!-- Central Nucleus -->
      <div class="core-nucleus" id="coreNucleus">
        <div class="nucleus-geometry">
          <div class="nucleus-face front"></div>
          <div class="nucleus-face back"></div>
          <div class="nucleus-face left"></div>
          <div class="nucleus-face right"></div>
          <div class="nucleus-face top"></div>
          <div class="nucleus-face bottom"></div>
        </div>
        <div class="nucleus-glow"></div>
      </div>
      
      <!-- Orbital Rings -->
      <div class="orbital-rings">
        <div class="orbital-ring ring-1" id="orbitalRing1"></div>
        <div class="orbital-ring ring-2" id="orbitalRing2"></div>
        <div class="orbital-ring ring-3" id="orbitalRing3"></div>
      </div>
    </div>
    
    <!-- Progress Interface -->
    <div class="loader-progress-interface">
      <div class="status-text" id="statusText"></div>
      <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      <div class="percentage-counter" id="percentageCounter">0%</div>
    </div>
  </div>



  <!-- ============================================================
       HUD OVERLAY ELEMENTS
       ------------------------------------------------------------
       Fixed visual layers for interface feel. Includes containers
       for random dots animation.
  ============================================================ -->
  <div class="hud-overlay">
    <!-- Decorative Corners -->
    <div class="hud-corner top-left"></div>
    <div class="hud-corner top-right"></div>
    <div class="hud-corner bottom-left"></div>
    <div class="hud-corner bottom-right"></div>

    <!-- Decorative Lines -->
    <div class="hud-line top"></div>
    <div class="hud-line bottom"></div>
    <div class="hud-line left"></div>
    <div class="hud-line right"></div>

    <!-- Info Readouts (Examples) -->
    <div class="hud-readout bottom-left-readout">
      <span>UID:</span> INMORTAL _v2.5
    </div>
    <div class="hud-readout bottom-right-readout" id="hudScrollIndicator">
      <span>SCROLL:</span> 0%
    </div>
    

  </div>

  <!-- ============================================================
       NÚCLEO NEURONAL INTERACTIVO
       ------------------------------------------------------------
       El cerebro central de la interfaz que reacciona dinámicamente
       a scroll, interacciones, contenido visible y estado del sistema
  ============================================================ -->
  <div class="neural-core-container" id="neuralCoreContainer">
    <!-- Canvas para el núcleo neuronal -->
    <canvas class="neural-core-canvas" id="neuralCoreCanvas" width="80" height="80"></canvas>
    
    <!-- Contenedor de partículas -->
    <div class="particle-container" id="particleContainer"></div>
    
    <!-- Trazadores de luz para interacciones -->
    <div class="light-tracers" id="lightTracers"></div>
    
    <!-- Indicadores de estado -->
    <div class="neural-status-indicators">
      <div class="status-indicator scroll-status" id="scrollStatus"></div>
      <div class="status-indicator interaction-status" id="interactionStatus"></div>
      <div class="status-indicator content-status" id="contentStatus"></div>
      <div class="status-indicator system-status" id="systemStatus"></div>
    </div>
  </div>

  <!-- ============================================================
       MAIN CONTENT WRAPPER
       ------------------------------------------------------------
       All portfolio content goes inside this wrapper.
  ============================================================ -->
  <div class="main-content-wrapper" id="mainContent">

    <!-- Header Control Panel -->
    <header id="mainHeader">
      <div class="branding">
        <a href="#">[ SYS_LOGO ]</a>
      </div>
      <div class="filter-container">
        <button class="hud-button filter-btn" id="filter-btn" aria-label="Abrir menú de filtros">NAV_MENU</button>
      </div>
      <button class="hamburger-menu" id="hamburgerMenu" aria-label="Abrir menú" aria-expanded="false" aria-controls="headerMobilePanel">
        <span></span><span></span><span></span>
      </button>
      <div class="header-modules-right" id="headerMobilePanel">
        <div class="header-controls">
          <button class="hud-button theme-toggle" id="themeToggle" aria-label="Cambiar Tema">LGT</button>
          <button class="hud-button lang-toggle" id="langToggle" aria-label="Cambiar Idioma">EN</button>
          <button class="hud-button" id="muteButton" aria-label="Silenciar Sonidos">
            <i class="fas fa-volume-up"></i><i class="fas fa-volume-mute mute-slash"></i>
          </button>
        </div>
        <div class="sys-status-module"><span>SYS_STATUS:</span> <span class="hud-ok">ONLINE</span></div>
        <div class="system-clock-module" id="hudClock">--:--:--</div>
      </div>
    </header>

     <!-- Filter Panel (Centered Overlay) -->
    <div class="filter-panel" id="filter-panel">
        <!-- Menu content (as before) -->
        <ul class="navbar-nav">
           <li><a class="nav-link" href="#hero"><span>Inicio</span></a></li>
           <li><a class="nav-link" href="#about"><span>Sobre Mí</span></a></li>
           <li><a class="nav-link" href="#skills"><span>Habilidades</span></a></li>
           <li><a class="nav-link" href="#proyectos"><span>Proyectos</span></a></li>
           <li><a class="nav-link" href="#timeline"><span>Cronología</span></a></li>
           <li><a class="nav-link" href="#achievements"><span>Logros</span></a></li>
           <li><a class="nav-link" href="#certificados"><span>Certificados</span></a></li>
           <li><a class="nav-link" href="#process"><span>Proceso</span></a></li>
           <li><a class="nav-link" href="#blog"><span>Blog</span></a></li>
           <li><a class="nav-link" href="Evidencias/Menu.html"><span>Evidencias</span></a></li>
        </ul>
      </div>

    <!-- Overlay for filter menu -->
    <div class="filter-overlay" id="filterOverlay"></div>

    <!-- Video Background -->
    <video autoplay muted loop playsinline preload="none" id="bg-video" style="opacity: 0.03;">
        <source src="MP4/black.mp4" type="video/mp4"> <!-- CHANGE THIS PATH -->
        Your browser does not support videos.
    </video>




    <!-- ============================================================
         PORTFOLIO SECTIONS (Enhanced Visual Details)
         ------------------------------------------------------------
    ============================================================ -->

    <!-- HERO -->
    <section class="hero section-container reveal" id="hero">
      <h1 data-text="PORTAFOLIO DE INMORTAL" id="heroTitle" class="glitch-text gsap-initial">PORTAFOLIO DE INMORTAL</h1>
      <p id="heroSubtitle" class="gsap-initial">
        Creando experiencias digitales imposibles, fusionando estética, tecnología
        y efectos glitch que desafían la lógica, con auroras danzantes y partículas interactivas.
      </p>

    </section>

    <!-- ABOUT - NÚCLEO DE MEMORIA / BIO-LOG -->
    <section class="about section-container reveal" id="about" style="min-height: 100vh; display: flex; flex-direction: column; justify-content: center;">
      <h2 class="section-title glitch-text gsap-initial" data-text="Núcleo de Memoria /// Bio-Log_v2.5">
        Núcleo de Memoria /// Bio-Log_v2.5
      </h2>
      
      <!-- CONTENEDOR PRINCIPAL DE TRES COLUMNAS -->
      <div class="user-profile-container">
        
        <!-- COLUMNA 1: MÓDULO DE IDENTIFICACIÓN Y BIOMETRÍA -->
        <div class="biometric-module">
          <div class="biometric-scan-module">
            <img
              src="assets/img/ID/1.jpg"
              alt="Escáner Biométrico"
              id="biometricScan"
              class="biometric-image"
            >
            <div class="biometric-overlay">
              <div class="scan-grid"></div>
              <div class="scan-status">// SCAN: OK // ID: VERIFIED</div>
            </div>
          </div>
          
          <div class="credentials-panel content-box">
            <h3 class="panel-title">// PANEL_DE_CREDENCIALES</h3>
            <div class="credential-item">
              <span class="cred-label">UID:</span>
              <span class="cred-value">INMORTAL_v2.5</span>
            </div>
            <div class="credential-item">
              <span class="cred-label">Clase:</span>
              <span class="cred-value">Ingeniero de Sistemas Full-Stack</span>
            </div>
            <div class="credential-item">
              <span class="cred-label">Nivel de Acceso:</span>
              <span class="cred-value">Administrador [Nivel 5]</span>
            </div>
            <div class="credential-item">
              <span class="cred-label">Status del Operador:</span>
              <span class="hud-ok">ACTIVO / EN LÍNEA</span>
            </div>
            <div class="credential-item">
              <span class="cred-label">Ubicación de Red:</span>
              <span class="cred-value">Sector 7G</span>
            </div>
          </div>
        </div>
        
        <!-- COLUMNA 2: NÚCLEO DE MEMORIA (LOG NARRATIVO) -->
        <div class="memory-core-module">
          <div class="memory-log content-box">
            <div class="log-section">
              <h3 class="log-header">// DIRECTIVA_PRINCIPAL [Mission_Statement.log]</h3>
              <p class="log-content">
                Mi directiva es la síntesis de funcionalidad robusta y estética ciber-futurista. Traduzco conceptos abstractos en experiencias digitales interactivas, operando en la vanguardia de la tecnología web para construir interfaces que no solo funcionen, sino que inspiren.
              </p>
            </div>
            
            <div class="log-section">
              <h3 class="log-header">// FILOSOFÍA_DE_CÓDIGO [Core_Principles.md]</h3>
              <p class="log-content">
                Protocolo de desarrollo basado en código limpio, modular y escalable. Priorizo la eficiencia algorítmica y la semántica clara. Cada línea de código es un componente optimizado para el rendimiento y la mantenibilidad a largo plazo. La deuda técnica es un bug, no una feature.
              </p>
            </div>
            
            <div class="log-section">
              <h3 class="log-header">// PROTOCOLOS_DE_ESPECIALIZACIÓN [Skill_Focus.dat]</h3>
              <p class="log-content">
                Especialización en la arquitectura de aplicaciones de página única (SPA) con React y en la creación de APIs resilientes con Node.js. Experto en la manipulación del DOM y en la orquestación de animaciones complejas, aunque mi enfoque principal es la claridad estructural y la experiencia de usuario (UX) intuitiva.
              </p>
            </div>
          </div>
        </div>
        
        <!-- COLUMNA 3: PARÁMETROS DEL SISTEMA Y REGISTROS -->
        <div class="system-parameters-module">
          <div class="competency-matrix content-box">
            <h3 class="panel-title">// MATRIZ_DE_COMPETENCIAS</h3>
            <div class="skill-metric">
              <span class="skill-label">Frontend:</span>
              <span class="skill-bar">[||||||||--] 85%</span>
            </div>
            <div class="skill-metric">
              <span class="skill-label">Backend:</span>
              <span class="skill-bar">[|||||||---] 75%</span>
            </div>
            <div class="skill-metric">
              <span class="skill-label">Diseño UI/UX:</span>
              <span class="skill-bar">[||||||||--] 80%</span>
            </div>
            <div class="skill-metric">
              <span class="skill-label">Bases de Datos:</span>
              <span class="skill-bar">[||||||----] 60%</span>
            </div>
            <div class="skill-metric">
              <span class="skill-label">DevOps:</span>
              <span class="skill-bar">[|||||-----] 50%</span>
            </div>
          </div>
          
          <div class="activity-log content-box">
            <h3 class="panel-title">// REGISTRO_DE_ACTIVIDAD</h3>
            <div class="activity-item">
              <span class="activity-date">[2024.10.28]</span>
              <span class="activity-desc">:: MÓDULO_PROYECTO_ACTUALIZADO - ID:CL-PRJ-001</span>
            </div>
            <div class="activity-item">
              <span class="activity-date">[2024.09.15]</span>
              <span class="activity-desc">:: CERTIFICACIÓN_RECIBIDA - ID:IBM_GEN_AI</span>
            </div>
            <div class="activity-item">
              <span class="activity-date">[2024.08.01]</span>
              <span class="activity-desc">:: INICIO_INVESTIGACIÓN - TEMA:WebAssembly_Rust</span>
            </div>
            <div class="activity-item">
              <span class="activity-date">[2024.07.20]</span>
              <span class="activity-desc">:: PARCHE_SEGURIDAD_APLICADO - Portafolio_v2.4</span>
            </div>
          </div>
        </div>
        
      </div>
    </section>

    <!-- SKILLS -->
    <section class="skills section-container reveal" id="skills" style="position: relative;">
      <canvas id="skillsVis" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; opacity:0.1;"></canvas>
      <h2 class="section-title glitch-text gsap-initial" data-text="Habilidades /// Skill_Matrix">Habilidades /// Skill_Matrix</h2>

      <!-- MEJORA 1: SLIDER PRINCIPAL DE HABILIDADES -->
      <div class="skills-slider-container">
        <div class="skills-slider-track">
          <!-- Los items originales, duplicados para el bucle infinito -->
          <!-- Set 1 -->
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/html-5.png" alt="HTML5">
            <h3>HTML5</h3>
            <div class="progress-bar-container" data-label="90"><div class="progress-bar-fill" data-skill-level="90"></div></div>
            <div class="skill-level">Nivel: Experto // 90%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/css-3.png" alt="CSS3">
            <h3>CSS3</h3>
            <div class="progress-bar-container" data-label="85"><div class="progress-bar-fill" data-skill-level="85"></div></div>
            <div class="skill-level">Nivel: Avanzado // 85%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/js.png" alt="JavaScript">
            <h3>JavaScript</h3>
            <div class="progress-bar-container" data-label="80"><div class="progress-bar-fill" data-skill-level="80"></div></div>
            <div class="skill-level">Nivel: Avanzado // 80%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/REACT.png" alt="React">
            <h3>React</h3>
            <div class="progress-bar-container" data-label="75"><div class="progress-bar-fill" data-skill-level="75"></div></div>
            <div class="skill-level">Nivel: Intermedio // 75%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/NODE.png" alt="Node.js">
            <h3>Node.js</h3>
            <div class="progress-bar-container" data-label="70"><div class="progress-bar-fill" data-skill-level="70"></div></div>
            <div class="skill-level">Nivel: Intermedio // 70%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/piyton.png" alt="Python">
            <h3>Python</h3>
            <div class="progress-bar-container" data-label="60"><div class="progress-bar-fill" data-skill-level="60"></div></div>
            <div class="skill-level">Nivel: En Progreso // 60%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/git.png" alt="Git">
            <h3>Git</h3>
            <div class="progress-bar-container" data-label="90"><div class="progress-bar-fill" data-skill-level="90"></div></div>
            <div class="skill-level">Nivel: Experto // 90%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/ui-ux-.jpg" alt="UI/UX">
            <h3>UI/UX</h3>
            <div class="progress-bar-container" data-label="80"><div class="progress-bar-fill" data-skill-level="80"></div></div>
            <div class="skill-level">Nivel: Avanzado // 80%</div>
          </div>
          <!-- Set 2 (Copia exacta para el bucle) -->
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/html-5.png" alt="HTML5">
            <h3>HTML5</h3>
            <div class="progress-bar-container" data-label="90"><div class="progress-bar-fill" data-skill-level="90"></div></div>
            <div class="skill-level">Nivel: Experto // 90%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/css-3.png" alt="CSS3">
            <h3>CSS3</h3>
            <div class="progress-bar-container" data-label="85"><div class="progress-bar-fill" data-skill-level="85"></div></div>
            <div class="skill-level">Nivel: Avanzado // 85%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/js.png" alt="JavaScript">
            <h3>JavaScript</h3>
            <div class="progress-bar-container" data-label="80"><div class="progress-bar-fill" data-skill-level="80"></div></div>
            <div class="skill-level">Nivel: Avanzado // 80%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/REACT.png" alt="React">
            <h3>React</h3>
            <div class="progress-bar-container" data-label="75"><div class="progress-bar-fill" data-skill-level="75"></div></div>
            <div class="skill-level">Nivel: Intermedio // 75%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/NODE.png" alt="Node.js">
            <h3>Node.js</h3>
            <div class="progress-bar-container" data-label="70"><div class="progress-bar-fill" data-skill-level="70"></div></div>
            <div class="skill-level">Nivel: Intermedio // 70%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/piyton.png" alt="Python">
            <h3>Python</h3>
            <div class="progress-bar-container" data-label="60"><div class="progress-bar-fill" data-skill-level="60"></div></div>
            <div class="skill-level">Nivel: En Progreso // 60%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/git.png" alt="Git">
            <h3>Git</h3>
            <div class="progress-bar-container" data-label="90"><div class="progress-bar-fill" data-skill-level="90"></div></div>
            <div class="skill-level">Nivel: Experto // 90%</div>
          </div>
          <div class="skill-item content-box">
            <img src="assets/img/HABILIDADES/ui-ux-.jpg" alt="UI/UX">
            <h3>UI/UX</h3>
            <div class="progress-bar-container" data-label="80"><div class="progress-bar-fill" data-skill-level="80"></div></div>
            <div class="skill-level">Nivel: Avanzado // 80%</div>
          </div>
        </div>
      </div>
      
      <!-- MEJORA 2: SLIDER SECUNDARIO DE TECNOLOGÍAS -->
      <h3 class="subsection-title">Otras Herramientas /// Tech_Arsenal</h3>
      <div class="tech-logo-scroller" data-speed="slow">
        <ul class="tag-list scroller__inner">
          <!-- Usaremos estos <li> directamente para mostrar los logos -->
          <!-- Asegúrate de que los archivos SVG existan en esta ruta -->
          <li data-logo-url="assets/img/LOGOS/google-cloud.svg"><span class="logo-tooltip">Google Cloud</span></li>
          <li data-logo-url="assets/img/LOGOS/flutter.svg"><span class="logo-tooltip">Flutter</span></li>
          <li data-logo-url="assets/img/LOGOS/docker.svg"><span class="logo-tooltip">Docker</span></li>
          <li data-logo-url="assets/img/LOGOS/figma.svg"><span class="logo-tooltip">Figma</span></li>
          <li data-logo-url="assets/img/LOGOS/mongodb.svg"><span class="logo-tooltip">MongoDB</span></li>
          <li data-logo-url="assets/img/LOGOS/typescript.svg"><span class="logo-tooltip">TypeScript</span></li>
          <li data-logo-url="assets/img/LOGOS/kubernetes.svg"><span class="logo-tooltip">Kubernetes</span></li>
          <li data-logo-url="assets/img/LOGOS/aws.svg"><span class="logo-tooltip">AWS</span></li>
          <li data-logo-url="assets/img/LOGOS/tensorflow.svg"><span class="logo-tooltip">TensorFlow</span></li> <!-- Icono extra -->
        </ul>
      </div>
    </section>

    <!-- ARCHIVO DE PROYECTOS HOLOGRÁFICOS -->
    <section class="projects section-container reveal" id="proyectos">
      <h2 class="section-title glitch-text" data-text="Archivo Central de Proyectos /// CyberLab_DB">Archivo Central de Proyectos /// CyberLab_DB</h2>
      
      <!-- Alphabetic Index -->
      <div class="alphabetic-index content-box">
        <div class="index-header">
          <span class="index-title">ÍNDICE ALFABÉTICO</span>
          <span class="index-status">ACTIVO</span>
        </div>
        <div class="index-letters" id="alphabeticIndex">
          <span class="letter" data-letter="A">A</span>
          <span class="letter" data-letter="B">B</span>
          <span class="letter" data-letter="C">C</span>
          <span class="letter" data-letter="D">D</span>
          <span class="letter" data-letter="E">E</span>
          <span class="letter" data-letter="F">F</span>
          <span class="letter" data-letter="G">G</span>
          <span class="letter" data-letter="H">H</span>
          <span class="letter" data-letter="I">I</span>
          <span class="letter" data-letter="J">J</span>
          <span class="letter" data-letter="K">K</span>
          <span class="letter" data-letter="L">L</span>
          <span class="letter" data-letter="M">M</span>
          <span class="letter" data-letter="N">N</span>
          <span class="letter" data-letter="O">O</span>
          <span class="letter" data-letter="P">P</span>
          <span class="letter" data-letter="Q">Q</span>
          <span class="letter" data-letter="R">R</span>
          <span class="letter" data-letter="S">S</span>
          <span class="letter" data-letter="T">T</span>
          <span class="letter" data-letter="U">U</span>
          <span class="letter" data-letter="V">V</span>
          <span class="letter" data-letter="W">W</span>
          <span class="letter" data-letter="X">X</span>
          <span class="letter" data-letter="Y">Y</span>
          <span class="letter" data-letter="Z">Z</span>
        </div>
      </div>
      
      <!-- Master Data Table -->
      <div class="data-table-container content-box">
        <div class="table-header">
          <div class="header-cell">ID_PROYECTO</div>
          <div class="header-cell">NOMBRE_CLAVE</div>
          <div class="header-cell">CLASE</div>
          <div class="header-cell">FECHA_COMPILACIÓN</div>
          <div class="header-cell">STATUS</div>
        </div>
        
        <div class="table-body" id="projectTableBody">
          <div class="table-row" 
               data-project-id="CL-PRJ-001"
               data-video-src="MP4/Proyectos/P-1.mp4" 
               data-poster-src="assets/img/posterA.png"
               data-title="Menú de Seguridad Biométrico"
               data-description="Este menú está diseñado para ofrecer una experiencia segura y amigable con autenticación biométrica avanzada."
               data-technologies="HTML,CSS,JS,Biometrics"
               data-lines-of-code="2847"
               data-tech-distribution="50,30,15,5">
            <div class="cell">CL-PRJ-001</div>
            <div class="cell">PROYECTO: CERBERUS</div>
            <div class="cell">UI/UX</div>
            <div class="cell">2024.10.28</div>
            <div class="cell status-online">ONLINE</div>
          </div>
          
          <div class="table-row" 
               data-project-id="CL-PRJ-002"
               data-video-src="MP4/Proyectos/P-2.mp4" 
               data-poster-src="assets/img/posterB.png"
               data-title="Interfaz Esférica de Navegación"
               data-description="Una experiencia única con nuestra interfaz esférica intuitiva y dinámica que revoluciona la navegación web."
               data-technologies="Three.js,WebGL,UI,3D"
               data-lines-of-code="5123"
               data-tech-distribution="40,35,15,10">
            <div class="cell">CL-PRJ-002</div>
            <div class="cell">PROYECTO: SPHERE</div>
            <div class="cell">Fullstack</div>
            <div class="cell">2024.11.15</div>
            <div class="cell status-online">ONLINE</div>
          </div>
          
          <div class="table-row" 
               data-project-id="CL-PRJ-003"
               data-video-src="MP4/Proyectos/P-3.mp4" 
               data-poster-src="assets/img/posterC.png"
               data-title="Landing Page con IA Generativa"
               data-description="Landing page con tipografía deformable y espectros cromáticos, impulsada por inteligencia artificial."
               data-technologies="AI,JS,Canvas,Creative Coding"
               data-lines-of-code="3891"
               data-tech-distribution="25,45,20,10">
            <div class="cell">CL-PRJ-003</div>
            <div class="cell">PROYECTO: NEURAL</div>
            <div class="cell">AI</div>
            <div class="cell">2024.12.03</div>
            <div class="cell status-archived">ARCHIVADO</div>
          </div>
          
          <div class="table-row" 
               data-project-id="CL-PRJ-004"
               data-video-src="MP4/Proyectos/P-1.mp4" 
               data-poster-src="assets/img/posterA.png"
               data-title="Visualizador de Datos Neurales"
               data-description="Sistema avanzado de visualización de datos neuronales con interfaz holográfica y análisis en tiempo real."
               data-technologies="Neural Networks,Data Viz,Real-time,Holographic UI"
               data-lines-of-code="7234"
               data-tech-distribution="30,25,25,20">
            <div class="cell">CL-PRJ-004</div>
            <div class="cell">PROYECTO: HOLOGRAPH</div>
            <div class="cell">AI/ML</div>
            <div class="cell">2024.12.20</div>
            <div class="cell status-development">EN_DESARROLLO</div>
          </div>
        </div>
      </div>
      
      <!-- Data Flow Animation Container -->
      <div class="data-flow-container" id="dataFlowContainer">
        <canvas id="dataFlowCanvas"></canvas>
      </div>
      
      <!-- Statistics HUD Panel -->
      <div class="statistics-hud" id="statisticsHud">
        <div class="hud-header">
          <span class="hud-title">ANÁLISIS DE PROYECTO</span>
          <span class="hud-status">PROCESANDO...</span>
        </div>
        <div class="hud-content">
          <div class="stat-item">
            <span class="stat-label">LÍNEAS DE CÓDIGO:</span>
            <span class="stat-value" id="linesOfCode">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">TASA DE ÉXITO:</span>
            <span class="stat-value">99.9%</span>
          </div>
          <div class="tech-distribution">
            <span class="stat-label">DISTRIBUCIÓN DE TECNOLOGÍAS:</span>
            <div class="distribution-chart" id="techDistribution"></div>
          </div>
          <div class="loading-stream">
            <span class="loading-text">CARGANDO STREAM DE VIDEO...</span>
            <span class="loading-cursor">_</span>
          </div>
        </div>
      </div>
      
      <!-- Holographic Preview Panel -->
      <div class="holographic-preview-panel" id="holographicPreviewPanel">
        <div class="panel-info">
          <span class="project-id" id="panelProjectId">CL-PRJ-001</span>
          <span class="project-status" id="panelProjectStatus">ONLINE</span>
        </div>
        <video id="previewVideo" muted loop preload="metadata">
          <!-- Video source will be set dynamically -->
        </video>
      </div>
    </section>

    <!-- TIMELINE -->
    <section class="timeline section-container reveal" id="timeline">
      <h2 class="section-title glitch-text" data-text="Cronología /// Career_Log">Cronología /// Career_Log</h2>
      <div class="timeline-list">
         <div class="timeline-item content-box">
             <h4><span class="timeline-year">2020</span> /// Genesis_Phase</h4>
             <p>Comencé mi formación en desarrollo web, aprendiendo lo básico de HTML, CSS y JavaScript. Primeros pasos en la matriz digital.</p>
         </div>
         <div class="timeline-item content-box">
             <h4><span class="timeline-year">2021</span> /// Alpha_Builds</h4>
             <p>Trabajé en proyectos personales y prácticas profesionales. Participé en hackathons y gané experiencia en equipos ágiles. Compilando experiencia.</p>
         </div>
         <div class="timeline-item content-box">
             <h4><span class="timeline-year">2022</span> /// Core_Specialization</h4>
             <p>Me enfoqué en React y Node.js, creando aplicaciones fullstack. Desarrollé varias páginas web para clientes locales. Interfaces optimizadas.</p>
         </div>
          <div class="timeline-item content-box">
             <h4><span class="timeline-year">2023</span> /// Aesthetic_Fusion</h4>
             <p>Descubrí mi pasión por el diseño futurista y el uso creativo de animaciones y efectos glitch en proyectos web. Integración de estilos cyberglow.</p>
         </div>
          <div class="timeline-item content-box">
             <h4><span class="timeline-year">2024-PRESENTE</span> /// Quantum_Leap</h4>
             <p>Sigo evolucionando mis habilidades y explorando nuevas tecnologías, incluyendo IA, Web3 y visualización de datos avanzada. Expandiendo horizonte de eventos.</p>
         </div>
      </div>
    </section>

    <!-- ACHIEVEMENTS -->
    <section class="achievements section-container reveal" id="achievements">
      <h2 class="section-title glitch-text" data-text="Reconocimientos y Logros /// Accolade_Registry">Reconocimientos y Logros /// Accolade_Registry</h2>
      
      <!-- System Achievements -->
      <div class="system-achievements content-box">
        <h3>Sistema de Logros /// Achievement_Matrix</h3>
        <div class="achievements-grid" id="systemAchievementsGrid">
          <div class="achievement-item content-box" data-achievement="explorer">
            <div class="achievement-icon">🔒</div>
            <h4>Explorador de la Matriz</h4>
            <p>Visitar todas las secciones principales del portafolio. [Status: LOCKED]</p>
          </div>
          <div class="achievement-item content-box" data-achievement="tinkerer">
            <div class="achievement-icon">🔒</div>
            <h4>Tinkerer</h4>
            <p>Cambiar tema e idioma del sistema. [Status: LOCKED]</p>
          </div>
          <div class="achievement-item content-box" data-achievement="archivist">
            <div class="achievement-icon">🔒</div>
            <h4>Archivista</h4>
            <p>Descargar el CV del sistema. [Status: LOCKED]</p>
          </div>
          <div class="achievement-item content-box" data-achievement="deep_diver">
            <div class="achievement-icon">🔒</div>
            <h4>Deep Diver</h4>
            <p>Llegar al final de la página. [Status: LOCKED]</p>
          </div>
          <div class="achievement-item content-box" data-achievement="sound_maestro">
            <div class="achievement-icon">🔒</div>
            <h4>Sound Maestro</h4>
            <p>Interactuar con el sistema de audio. [Status: LOCKED]</p>
          </div>
        </div>
      </div>
      
      <!-- Professional Achievements -->
      <div class="professional-achievements content-box">
        <h3>Logros Profesionales /// Professional_Registry</h3>
        <div class="achievements-grid">
           <div class="achievement-item content-box">
               <div class="achievement-icon">🏆</div>
               <h4>Hackathon Futurista 2022</h4>
               <p>Ganador del primer lugar en la categoría de Mejor Diseño Interactivo. [Code: HF2022_WIN]</p>
           </div>
           <div class="achievement-item content-box">
               <div class="achievement-icon">✅</div>
               <h4>Certificación React Avanzado</h4>
               <p>Expedido por Platzi, demostrando dominio de la librería. [CertID: PLZ_RCT_ADV]</p>
           </div>
            <div class="achievement-item content-box">
               <div class="achievement-icon">📜</div>
               <h4>Diploma en UX/UI Design</h4>
               <p>Formación completa en experiencia de usuario y diseño de interfaces. [CertID: UXUI_DPL]</p>
           </div>
            <div class="achievement-item content-box">
               <div class="achievement-icon">⭐</div>
               <h4>Mención Honorífica - Tesis</h4>
               <p>Por Universidad XYZ, reconociendo proyecto sobre accesibilidad web. [Ref: UNIVXYZ_ACC_TH]</p>
           </div>
        </div>
      </div>
    </section>

    <!-- CERTIFICATES -->
    <section class="certificados section-container reveal" id="certificados">
      <h2 class="section-title glitch-text" data-text="Certificados Digitales /// Credential_Vault">Certificados Digitales /// Credential_Vault</h2>
      <ul class="cert-data-list content-box">
         <li class="cert-list-item" data-modal-id="modal-cert1">
             <span class="cert-name">[IBM] Web Dev Foundations</span>
             <span class="cert-issuer">IBM</span>
             <span class="cert-date">2025-03-05</span>
             <span class="cert-status hud-ok">[VERIFIED]</span>
             <button class="hud-button small modal-trigger" data-modal-id="modal-cert1">[VER]</button>
         </li>
         <li class="cert-list-item" data-modal-id="modal-cert2">
             <span class="cert-name">[IBM] Generative AI Dev</span>
             <span class="cert-issuer">IBM</span>
             <span class="cert-date">2025-04-10</span>
             <span class="cert-status hud-ok">[VERIFIED]</span>
             <button class="hud-button small modal-trigger" data-modal-id="modal-cert2">[VER]</button>
         </li>
          <li class="cert-list-item" data-modal-id="modal-cert3">
             <span class="cert-name">[IBM] Git & GitHub Mastery</span>
             <span class="cert-issuer">IBM</span>
             <span class="cert-date">2025-04-15</span>
             <span class="cert-status hud-ok">[VERIFIED]</span>
             <button class="hud-button small modal-trigger" data-modal-id="modal-cert3">[VER]</button>
         </li>
          <li class="cert-list-item" data-modal-id="modal-cert4">
             <span class="cert-name">[Google] Cybersecurity Foundations</span>
             <span class="cert-issuer">Google</span>
             <span class="cert-date">2025-03-28</span>
             <span class="cert-status hud-ok">[VERIFIED]</span>
             <button class="hud-button small modal-trigger" data-modal-id="modal-cert4">[VER]</button>
         </li>
      </ul>
    </section>

    <!-- PROCESS -->
    <section class="process section-container reveal" id="process">
      <h2 class="section-title glitch-text" data-text="Proceso de Trabajo /// Workflow_Protocol">Proceso de Trabajo /// Workflow_Protocol</h2>
      <div class="process-steps">
         <div class="process-step content-box">
            <div class="step-number">01</div>
            <h4>Análisis</h4>
            <p>Comprensión profunda de requerimientos, investigación de mercado y alineación estratégica con el cliente. Estableciendo vector inicial.</p>
         </div>
          <div class="process-step content-box">
             <div class="step-number">02</div>
            <h4>Diseño</h4>
            <p>Creación de wireframes, mockups interactivos y prototipos funcionales. Priorizando UX/UI óptima y estética definida. Arquitectura visual.</p>
         </div>
          <div class="process-step content-box">
             <div class="step-number">03</div>
            <h4>Desarrollo</h4>
            <p>Implementación con tecnologías adecuadas, código limpio y eficiente, siguiendo buenas prácticas y seguridad. Fase de compilación.</p>
         </div>
         <div class="process-step content-box">
            <div class="step-number">04</div>
            <h4>Pruebas</h4>
            <p>QA exhaustiva, depuración de errores, optimización de rendimiento y pruebas de compatibilidad cross-browser/device. Protocolo de validación.</p>
         </div>
          <div class="process-step content-box">
             <div class="step-number">05</div>
            <h4>Entrega</h4>
            <p>Despliegue controlado, entrega de documentación completa y soporte post-lanzamiento para estabilidad y éxito continuo. Misión completada.</p>
         </div>
      </div>
    </section>

    <!-- BLOG -->
     <section class="blog section-container reveal" id="blog">
       <h2 class="section-title glitch-text" data-text="Blog /// Knowledge_Base">Blog /// Knowledge_Base</h2>
       <div class="blog-grid" id="blogGrid">
           <div class="blog-item content-box">
               <h3>Cómo Empezar con React</h3>
               <p>React: Biblioteca JS para UIs. Exploramos fundamentos para tu primer proyecto. [Entry: React_Basics]</p>
               <a href="Blog/React.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
           <div class="blog-item content-box">
               <h3>Optimización SEO 2024</h3>
               <p>SEO: Clave para visibilidad web. Descubre best practices y estrategias para optimizar contenido. [Entry: SEO_2024]</p>
               <a href="Blog/Ceo.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
           <div class="blog-item content-box">
               <h3>Diseño Responsivo: Claves</h3>
               <p>Responsive Design: Asegura visualización óptima en cualquier dispositivo. Técnicas esenciales. [Entry: Responsive_Keys]</p>
               <a href="Blog/Diseño.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
           <div class="blog-item content-box">
               <h3>Introducción a la IA</h3>
               <p>Inteligencia Artificial: Transformando industrias. Intro a conceptos básicos y aplicaciones. [Entry: AI_Intro]</p>
               <a href="Blog/IA.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
       </div>
       <div class="blog-coming-soon content-box">
           <h3>[ Próximas Entradas // Standby ]</h3>
           <p>Procesando nuevo contenido... Mantente conectado para futuras transmisiones sobre desarrollo web, diseño avanzado, IA y más allá.</p>
       </div>
     </section>

    <!-- TESTIMONIALS -->
    <section class="testimonials section-container reveal" id="testimonials">
       <h2 class="section-title glitch-text" data-text="Testimonios /// Client_Feedback_Log" id="testimonialsTitle">Testimonios /// Client_Feedback_Log</h2>
       <div class="testimonials-interface content-box">
           <!-- Panel Izquierdo: Selector de Transmisiones -->
           <div class="transmission-selector">
               <h3 class="interface-title">[TRANSMISSION_SELECTOR]</h3>
               <div class="transmission-list">
                   <div class="transmission-item active" data-transmission="0">
                       <span class="transmission-id">[TRANSMISSION: JP_Feedback]</span>
                       <span class="transmission-status">ACTIVE</span>
                   </div>
                   <div class="transmission-item" data-transmission="1">
                       <span class="transmission-id">[TRANSMISSION: ML_Feedback]</span>
                       <span class="transmission-status">STANDBY</span>
                   </div>
                   <div class="transmission-item" data-transmission="2">
                       <span class="transmission-id">[TRANSMISSION: CG_Feedback]</span>
                       <span class="transmission-status">STANDBY</span>
                   </div>
               </div>
           </div>
           
           <!-- Panel Derecho: Visualizador de Transmisiones -->
           <div class="transmission-viewer">
               <div class="viewer-header">
                   <h3 class="interface-title">[TRANSMISSION_VIEWER]</h3>
                   <div class="viewer-status">
                       <span class="status-indicator">●</span>
                       <span class="status-text">DECODING</span>
                   </div>
               </div>
               
               <!-- Canvas para la onda de datos -->
               <div class="waveform-container">
                   <canvas id="transmissionWaveform" class="transmission-waveform"></canvas>
               </div>
               
               <!-- Área de contenido del testimonio -->
               <div class="transmission-content">
                   <div class="content-text">
                       <p class="testimonial-text" id="testimonialText"></p>
                   </div>
                   <div class="content-source">
                       <cite class="testimonial-source" id="testimonialSource"></cite>
                   </div>
               </div>
           </div>
       </div>
    </section>

        <!-- DATA LOADER SCRIPT -->
    <script src="js/data-loader.js"></script>
    
    <!-- SERVICES -->
    <section class="services section-container reveal" id="services">
       <h2 class="section-title glitch-text" data-text="Servicios /// Service_Matrix">Servicios /// Service_Matrix</h2>
        <div class="services-grid">
            <div class="service-card content-box">
                <h4>Plan [CORE]</h4>
                <p>Ideal para proyectos personales o prototipos de pequeña escala. Presencia digital esencial.</p>
                <p class="price">$49 // Ciclo Mensual</p>
                <button class="hud-button">Iniciar Protocolo</button>
            </div>
            <div class="service-card content-box featured">
                 <div class="featured-tag">RECOMENDADO</div>
                 <h4>Plan [NEXUS]</h4>
                 <p>Perfecto para startups o negocios en crecimiento. Funcionalidad y diseño avanzados.</p>
                 <p class="price">$99 // Ciclo Mensual</p>
                 <button class="hud-button primary">Activar Nexus</button>
            </div>
            <div class="service-card content-box">
                 <h4>Plan [AEGIS]</h4>
                 <p>Solución robusta para grandes compañías y proyectos complejos. Soporte y escalabilidad premium.</p>
                 <p class="price">$199 // Ciclo Mensual</p>
                 <button class="hud-button">Desplegar Aegis</button>
            </div>
        </div>
    </section>

    <!-- DOWNLOADS -->
    <section class="downloads section-container reveal" id="downloads">
        <h2 class="section-title glitch-text" data-text="Descargas /// Data_Repository">Descargas /// Data_Repository</h2>
        <div class="downloads-grid">
            <div class="download-item content-box">
                <h4>CV_JAEspinosa_v2.5.pdf</h4>
                <p>Currículum Vitae actualizado. Formato seguro PDF.</p>
                <button class="hud-button small download-trigger" data-file="src/pdf/CV-ESPINOSA.pdf">Descargar Archivo</button>
            </div>
            <div class="download-item content-box">
                <h4>BestPractices_Guide_v1.pdf</h4>
                <p>Guía de buenas prácticas en código y diseño responsive.</p>
                <button class="hud-button small download-trigger" data-file="files/GuiaBuenasPracticas.pdf">Descargar Archivo</button>
            </div>
            <div class="download-item content-box">
                <h4>JS_Snippets_Collection.pdf</h4>
                <p>Recopilación de snippets útiles de JavaScript para desarrollo web.</p>
                <button class="hud-button small download-trigger" data-file="files/JS-Tips.pdf">Descargar Archivo</button>
            </div>
        </div>
    </section>

    <!-- FAQs -->
    <section class="faqs section-container reveal" id="faqs">
       <h2 class="section-title glitch-text" data-text="Preguntas Frecuentes /// FAQ_Database">Preguntas Frecuentes /// FAQ_Database</h2>
       <div class="faqs-container content-box">
           <div class="faq-item">
               <div class="faq-question">¿Tiempo estimado de entrega de proyecto? [Query: ETA]</div>
               <div class="faq-answer">El tiempo varía según complejidad (2-6 semanas base). Ajustable a necesidades específicas. Contactar para análisis detallado.</div>
           </div>
           <div class="faq-item">
               <div class="faq-question">¿Ofrecen mantenimiento post-entrega? [Query: Maintenance]</div>
               <div class="faq-answer">Afirmativo. Disponibles planes de soporte y mantenimiento para asegurar operatividad y actualizaciones continuas del sistema.</div>
           </div>
           <div class="faq-item">
               <div class="faq-question">¿Capacidad para proyectos internacionales? [Query: Global]</div>
               <div class="faq-answer">Confirmado. Experiencia con clientes globales. Adaptabilidad a diferentes zonas horarias y requerimientos interculturales.</div>
           </div>
           <div class="faq-item">
               <div class="faq-question">¿Cómo solicitar presupuesto personalizado? [Query: Quote]</div>
               <div class="faq-answer">Enviar un mensaje encriptado (correo electrónico) a <a href="mailto:jarmando2965@gmail.com" class="hud-link">jarmando2965@gmail.com</a> con detalles del proyecto. Respuesta prioritaria asegurada.</div>
           </div>
       </div>
    </section>

    <!-- CONTACT - TERMINAL DE TRANSMISIÓN SEGURA -->
    <section class="contact-section section-container reveal" id="contact">
       <h2 class="section-title glitch-text" data-text="Contacto /// Comms_Link" id="contactTitle">Contacto /// Comms_Link</h2>
       
       <!-- Terminal de Transmisión Segura -->
       <div class="secure-terminal-panel content-box">
           <div class="terminal-header">
               <span class="terminal-status">SECURE COMMS_LINK v2.5</span>
               <span class="terminal-protocol">// ENCRYPTION: AES-256 //</span>
               <span class="terminal-protocol">// PROTOCOL: QCP //</span>
           </div>
           
           <div class="terminal-body">
               <div class="terminal-log" id="terminalLog">
                   <div class="log-line">> STATUS: STANDBY</div>
                   <div class="log-line">> AWAITING OPERATOR INPUT...</div>
                   <div class="log-line">></div>
                   <div class="log-line">> [ PRESS BUTTON TO INITIATE HANDSHAKE ]</div>
               </div>
               
               <div class="terminal-visualizer" id="terminalVisualizer">
                   <div class="data-wave"></div>
                   <div class="data-wave"></div>
                   <div class="data-wave"></div>
               </div>
           </div>
           
           <div class="terminal-controls">
               <button class="hud-button primary large contact-button" id="contactBtn" data-state="standby">
                   <span class="btn-text">[ INITIATE HANDSHAKE ]</span>
                   <span class="btn-loading" style="display: none;">[ AUTHENTICATING... ]</span>
                   <span class="btn-ready" style="display: none;">[ TRANSMIT NOW ]</span>
               </button>
           </div>
       </div>
    </section>

    <!-- Footer Minimalist -->
    <footer class="main-footer">
      <p id="footerCopy">© 2025 Ing. Espinosa Martínez José Armando. /// System Integrity Verified.</p>
      <div class="footer-links">
          <a href="#" class="hud-link small">Privacy_Protocol</a> | <a href="#" class="hud-link small">Terms_Of_Service</a>
      </div>
      <div class="social-links">
         <a href="https://www.linkedin.com" target="_blank" rel="noopener noreferrer" class="hud-link social" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
         <a href="https://github.com" target="_blank" rel="noopener noreferrer" class="hud-link social" aria-label="GitHub"><i class="fab fa-github"></i></a>
         <a href="https://dribbble.com" target="_blank" rel="noopener noreferrer" class="hud-link social" aria-label="Dribbble"><i class="fab fa-dribbble"></i></a>
      </div>
    </footer>

  </div> <!-- End of .main-content-wrapper -->

  <!-- ============================================================
       MODALS
  ============================================================ -->
  <div id="modal-cert1" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[IBM] Web Dev Foundations</h3><p>Curso introductorio completo a HTML, CSS, & JavaScript por IBM. Fundamentos esenciales para desarrollo web moderno.</p><p>Emitido: IBM // Fecha: 05/03/2025</p><p><a href="https://coursera.org/verify/CZ47JIW4L9Y" target="_blank" rel="noopener noreferrer" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>
  <div id="modal-cert2" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[IBM] Generative AI for Software Development</h3><p>Capacitación en IA Generativa aplicada al desarrollo de software para optimización y automatización de procesos.</p><p>Emitido: IBM // Fecha: 10/04/2025</p><p><a href="https://coursera.org/verify/F046N23FJU08" target="_blank" rel="noopener noreferrer" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>
  <div id="modal-cert3" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[IBM] Mastering Git and GitHub</h3><p>Curso intensivo sobre control de versiones con Git y GitHub. Best practices para colaboración eficiente en proyectos.</p><p>Emitido: IBM // Fecha: 15/04/2025</p><p><a href="https://www.coursera.org/account/accomplishments/verify/CWRQOJ19Z102" target="_blank" rel="noopener noreferrer" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>
  <div id="modal-cert4" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[Google] Foundations of Cybersecurity</h3><p>Curso especializado en fundamentos de ciberseguridad. Estrategias y herramientas para protección de datos digitales.</p><p>Emitido: Google // Fecha: 28/03/2025</p><p><a href="https://www.coursera.org/account/accomplishments/verify/F046JNZ3FUO9" target="_blank" rel="noopener noreferrer" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>


  

  <!-- ============================================================
       I. SONIDOS DE CARGA Y SISTEMA
       ------------------------------------------------------------
       Sonidos que se reproducen durante la carga inicial y eventos del sistema
  ============================================================ -->
  
  <!-- Sonido de carga - Terminal de datos en loop -->
  <audio id="loadingAudio" loop preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/terminal.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de carga completada - Aviso de sistema -->
  <audio id="loadCompleteAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/aviso.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Música de fondo - Ambient cyberpunk en loop -->
  <audio id="backgroundAudio" loop preload="auto" muted playsinline> 
    <source src="assets/media/Hybrid & Dark.mp3" type="audio/mpeg"> 
  </audio>

  <!-- ============================================================
       II. SONIDOS DE INTERFAZ DE USUARIO (UI)
       ------------------------------------------------------------
       Sonidos para interacciones básicas de la interfaz
  ============================================================ -->
  
  <!-- Sonido de click en botones UI - Disparo de arma sci-fi -->
  <audio id="uiClickAudio" preload="auto" muted playsinline> 
    <source src="assets/media/botones/sci-fi-weapon-shoot.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de hover en elementos UI - Click sutil -->
  <audio id="uiHoverAudio" preload="auto" muted playsinline> 
    <source src="assets/media/botones/sci-fi-weapon-shoot.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de hover en filtros de navegación - Click alternativo -->
  <audio id="filterHoverAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/click 2.mp3" type="audio/mpeg"> 
  </audio>

  <!-- ============================================================
       III. SONIDOS DE EFECTOS VISUALES
       ------------------------------------------------------------
       Sonidos que acompañan efectos visuales y animaciones
  ============================================================ -->
  
  <!-- Sonido de glitch - Error de sistema -->
  <audio id="glitchAudio" preload="auto" muted playsinline> 
    <source src="assets/media/Sound-mp3/error.mp3" type="audio/mpeg"> 
  </audio>
  

  
  <!-- Sonido de estabilización - Confirmación de sistema -->
  <audio id="stabilizationAudio" preload="auto" muted playsinline> 
    <source src="assets/media/Sound-mp3/Sound.mp3" type="audio/mpeg"> 
  </audio>

  <!-- ============================================================
       IV. SONIDOS HOLOGRÁFICOS (NUEVOS)
       ------------------------------------------------------------
       Sonidos para efectos holográficos del menú de navegación
  ============================================================ -->
  
  <!-- Sonido de portal holográfico - Apertura de consola neural -->
  <audio id="portalAudio" preload="auto" muted playsinline> 
    <source src="assets/media/atmosphere-sound.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de energía - Activación de campos energéticos -->
  <audio id="energyAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/terminal.mp3" type="audio/mpeg"> 
  </audio>
  

  
  <!-- Sonido de confirmación - Validación de selección -->
  <audio id="confirmAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/click 2.mp3" type="audio/mpeg"> 
  </audio>

  <!-- ============================================================
       V. SONIDOS DE CAMPO DE INTERFAZ ENERGIZADO (NUEVOS)
       ------------------------------------------------------------
       Sonidos específicos para el campo de interfaz energizado
  ============================================================ -->
  
  <!-- Sonido de activación de campo - Activación inicial del campo energético -->
  <audio id="fieldActivationAudio" preload="auto" muted playsinline> 
    <source src="assets/media/Sound-mp3/Sound.mp3" type="audio/mpeg"> 
  </audio>
  
    <!-- Sonido de ping de datos - Ping digital sutil -->
  <audio id="dataPingAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/click 2.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de confirmación de interfaz - Confirmación final de selección -->
  <audio id="interfaceConfirmAudio" preload="auto" muted playsinline> 
    <source src="assets/media/Sound-mp3/Sound.mp3" type="audio/mpeg"> 
  </audio>

  <!-- ============================================================
       VI. SONIDOS DE TERMINAL DE TRANSMISIÓN SEGURA
       ------------------------------------------------------------
       Sonidos específicos para la terminal de contacto
  ============================================================ -->
  
  <!-- Sonido de teclado - Escritura en terminal -->
  <audio id="terminalTypeAudio" preload="auto" muted playsinline> 
    <source src="assets/media/botones/sci-fi-weapon-shoot.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de blip - Confirmación de sistema -->
  <audio id="terminalBlipAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/click 2.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de encriptación - Proceso de encriptación -->
  <audio id="terminalEncryptAudio" preload="auto" muted playsinline> 
    <source src="assets/media/Sound-mp3/error.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de transmisión - Envío de datos -->
  <audio id="terminalTransmitAudio" preload="auto" muted playsinline> 
    <source src="assets/media/atmosphere-sound.mp3" type="audio/mpeg"> 
  </audio>

  <!-- ============================================================
       VII. SONIDOS DE CASCADA DE RENDERIZADO DE BLOQUES
       ------------------------------------------------------------
       Sonidos para la animación de bloques de datos
  ============================================================ -->
  
  <!-- Sonido de inicio de glitch - Disrupción inicial -->
  <audio id="blockGlitchStartAudio" preload="auto" muted playsinline> 
    <source src="assets/media/Sound-mp3/error.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de procesamiento de datos - Tipeo rápido -->
  <audio id="blockDataProcessingAudio" preload="auto" muted playsinline> 
    <source src="assets/media/botones/sci-fi-weapon-shoot.mp3" type="audio/mpeg"> 
  </audio>
  
  <!-- Sonido de confirmación de renderizado - Chime final -->
  <audio id="blockRenderCompleteAudio" preload="auto" muted playsinline> 
    <source src="Evidencias/Audio/Sound-mp3/click 2.mp3" type="audio/mpeg"> 
  </audio>

  <!-- Hamburger Menu JS (extracted from the <style> block) -->
  <script>
    // --- Script para FORZAR Animaciones desde el HTML (NO RECOMENDADO para accesibilidad) ---
    document.documentElement.classList.add('force-animations');
    console.log('Preferencias de movimiento del usuario anuladas. Animaciones forzadas activas (incluyendo bucles).');
    // --- FIN: Script para FORZAR Animaciones ---

    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.getElementById('hamburgerMenu');
      const panel = document.getElementById('headerMobilePanel');
      hamburger && hamburger.addEventListener('click', function() {
        const isOpen = panel.classList.toggle('open');
        hamburger.classList.toggle('active', isOpen);
        document.body.classList.toggle('menu-open', isOpen);
        hamburger.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });
      // Cerrar al hacer click fuera
      document.addEventListener('click', function(e) {
        if(window.innerWidth > 768) return;
        if(panel.classList.contains('open') && !panel.contains(e.target) && !hamburger.contains(e.target)) {
          panel.classList.remove('open');
          hamburger.classList.remove('active');
          document.body.classList.remove('menu-open');
          hamburger.setAttribute('aria-expanded', 'false');
        }
      });
      // Cerrar con Escape
      document.addEventListener('keydown', function(e) {
        if(e.key === 'Escape' && panel.classList.contains('open')) {
          panel.classList.remove('open');
          hamburger.classList.remove('active');
          document.body.classList.remove('menu-open');
          hamburger.setAttribute('aria-expanded', 'false');
        }
      });
      // --- CORRECCIÓN: Cerrar menú hamburguesa al hacer clic en cualquier enlace o botón dentro del panel móvil ---
      const cerrarMenuHamburguesa = () => {
        if (window.innerWidth <= 768 && panel.classList.contains('open')) {
          panel.classList.remove('open');
          hamburger.classList.remove('active');
          document.body.classList.remove('menu-open');
          hamburger.setAttribute('aria-expanded', 'false');
        }
      };
      if (panel) {
        panel.querySelectorAll('a, button').forEach(el => {
          el.addEventListener('click', function(e) {
            cerrarMenuHamburguesa();
          });
        });
      }
    });
  </script>

  <!-- ============================================================ -->
  <!-- JavaScript Logic (Unified)                                   -->
  <!-- ============================================================ -->
  <!-- Note: Some elements like chart canvas might need placeholder content or text without JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>



  <script>
    "use strict";

    document.addEventListener('DOMContentLoaded', () => {

        // ============================================================
        // SELECTORS
        // ============================================================
        const loaderOverlayEl = document.getElementById('loaderOverlay');
        const loaderBar = document.getElementById('loaderBar');
        const loaderPercentage = document.getElementById('loaderPercentage');
        const loaderText = document.getElementById('loaderText');
        const loaderSubtext = document.getElementById('loaderSubtext');
        const mainHeader = document.getElementById('mainHeader');
        const mainContent = document.getElementById('mainContent');
        const hudOverlay = document.querySelector('.hud-overlay');
        const hudClock = document.getElementById('hudClock');
        const hudScrollIndicator = document.getElementById('hudScrollIndicator');
        const filterBtn = document.getElementById('filter-btn');
        const filterPanel = document.getElementById('filter-panel');
        const filterOverlay = document.getElementById('filterOverlay');
        const themeToggle = document.getElementById('themeToggle');
        const langToggle = document.getElementById('langToggle');
        const muteButton = document.getElementById('muteButton');
        const htmlEl = document.documentElement;

        // Elements specific to this portfolio structure
        const skillFills = document.querySelectorAll('.progress-bar-fill');
        const faqItems = document.querySelectorAll('.faq-item');
        const lazyImages = document.querySelectorAll('img[data-src]');
        const searchProjectInput = document.getElementById('searchProjectInput');
        const searchProjectBtn = document.getElementById('searchProjectBtn');
        const projectGrid = document.getElementById('projectGrid');
        const allProjectItems = projectGrid ? Array.from(projectGrid.querySelectorAll('.project-item')) : [];
        const downloadButtons = document.querySelectorAll('.download-trigger');
        const modalTriggers = document.querySelectorAll('.modal-trigger');
        const modals = document.querySelectorAll('.modal');
        const closeModals = document.querySelectorAll('.close-modal');

        const timelineItems = document.querySelectorAll('.timeline-item'); // Added for timeline beacon
        const hudCornerElements = hudOverlay ? hudOverlay.querySelectorAll('.hud-corner') : []; // For JS dot/noise animations
        const hudLineElements = hudOverlay ? hudOverlay.querySelectorAll('.hud-line') : []; // For JS streak animations

         // Get the mobile breakpoint value from CSS
        const mobileBreak = parseInt(getComputedStyle(htmlEl).getPropertyValue('--mobile-break'));

        // ============================================================
        // HEADER SCROLL BEHAVIOR - OCULTAR/MOSTRAR CON SCROLL
        // ============================================================
        let lastScrollTop = 0;
        let scrollThreshold = 100; // Umbral mínimo para activar la funcionalidad
        let headerHeight = mainHeader ? mainHeader.offsetHeight : 80; // Altura estimada del header
        
        // Función para manejar el scroll del header
        function handleHeaderScroll() {
            if (!mainHeader) return;
            
            const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollDelta = currentScrollTop - lastScrollTop;
            
            // Solo activar si el scroll supera el umbral
            if (Math.abs(scrollDelta) < 5) return; // Ignorar scrolls muy pequeños
            
            // Determinar dirección del scroll
            if (scrollDelta > 0 && currentScrollTop > scrollThreshold) {
                // Scroll hacia abajo - ocultar header
                if (!mainHeader.classList.contains('header-hidden')) {
                    mainHeader.classList.add('header-hidden');
                    console.log('Header ocultado - Scroll hacia abajo');
                }
            } else if (scrollDelta < 0 || currentScrollTop <= 50) {
                // Scroll hacia arriba o cerca del top - mostrar header
                if (mainHeader.classList.contains('header-hidden')) {
                    mainHeader.classList.remove('header-hidden');
                    console.log('Header mostrado - Scroll hacia arriba o top');
                }
            }
            
            lastScrollTop = currentScrollTop;
        }
        
        // Función para actualizar el umbral basado en la altura del header
        function updateScrollThreshold() {
            if (mainHeader) {
                headerHeight = mainHeader.offsetHeight;
                scrollThreshold = headerHeight + 20; // Umbral = altura del header + margen
            }
        }
        
        // Event listeners para el scroll
        if (mainHeader) {
            // Throttle para optimizar rendimiento
            let ticking = false;
            
            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        handleHeaderScroll();
                        ticking = false;
                    });
                    ticking = true;
                }
            }
            
            // Verificar preferencias de movimiento reducido
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            
            // Solo activar en dispositivos no móviles y sin preferencias de movimiento reducido
            if (window.innerWidth > mobileBreak && !prefersReducedMotion) {
                // Listener de scroll con throttling
                window.addEventListener('scroll', requestTick, { passive: true });
                
                // Actualizar umbral en resize
                window.addEventListener('resize', updateScrollThreshold, { passive: true });
                
                // Inicializar umbral
                updateScrollThreshold();
                
                console.log('Header scroll behavior activado');
            } else {
                console.log('Header scroll behavior desactivado - Móvil o preferencias de movimiento reducido');
            }
        }


        // ============================================================
        // SOUND MANAGEMENT - SISTEMA DE SONIDOS CYBERPUNK
        // ============================================================
        
        // DECLARACIÓN GLOBAL DE VARIABLES DE ESTADO
        // Estas variables deben estar en scope global para evitar ReferenceError
        window.portfolioSounds = {
            // I. SONIDOS DE CARGA Y SISTEMA
            loading: document.getElementById('loadingAudio'),           // Terminal de datos en loop
            complete: document.getElementById('loadCompleteAudio'),     // Aviso de carga completada
            background: document.getElementById('backgroundAudio'),     // Música de fondo ambient
            
            // II. SONIDOS DE INTERFAZ DE USUARIO (UI)
            click: document.getElementById('uiClickAudio'),            // Click en botones UI
            hover: document.getElementById('uiHoverAudio'),            // Hover en elementos UI
            filterHover: document.getElementById('filterHoverAudio'),  // Hover en filtros de navegación
            
            // III. SONIDOS DE EFECTOS VISUALES
            glitch: document.getElementById('glitchAudio'),            // Error de sistema/glitch
            static: document.getElementById('staticAudio'),            // Ambiente atmosférico
            stabilization: document.getElementById('stabilizationAudio'), // Confirmación de sistema
            
            // IV. SONIDOS HOLOGRÁFICOS
            portal: document.getElementById('portalAudio'),            // Apertura de consola neural
            energy: document.getElementById('energyAudio'),            // Activación de campos energéticos
            confirm: document.getElementById('confirmAudio'),          // Validación de selección
            
            // V. SONIDOS DE CAMPO DE INTERFAZ ENERGIZADO
            fieldActivation: document.getElementById('fieldActivationAudio'), // Activación inicial del campo
            dataPing: document.getElementById('dataPingAudio'),       // Ping digital sutil
            interfaceConfirm: document.getElementById('interfaceConfirmAudio'), // Confirmación final
            
            // VI. SONIDOS DE TERMINAL DE TRANSMISIÓN SEGURA
            terminalType: document.getElementById('terminalTypeAudio'), // Escritura en terminal
            terminalBlip: document.getElementById('terminalBlipAudio'), // Confirmación de sistema
            terminalEncrypt: document.getElementById('terminalEncryptAudio'), // Proceso de encriptación
            terminalTransmit: document.getElementById('terminalTransmitAudio'), // Envío de datos
            
            // VII. SONIDOS DE CASCADA DE RENDERIZADO DE BLOQUES
            blockGlitchStart: document.getElementById('blockGlitchStartAudio'), // Disrupción inicial
            blockDataProcessing: document.getElementById('blockDataProcessingAudio'), // Tipeo rápido
            blockRenderComplete: document.getElementById('blockRenderCompleteAudio') // Chime final
        };

        // Variable global para el estado de mute
        window.portfolioMuted = localStorage.getItem('portfolioMuted') === 'true';

                // Referencia local para compatibilidad con código existente
        const sounds = window.portfolioSounds;
        let isMuted = window.portfolioMuted;

        function updateMuteButton() {
            if (!muteButton) return;
             // Ensure Font Awesome icons are present before updating opacity
             if (!muteButton.querySelector('.fa-volume-up')) {
                  muteButton.innerHTML = '<i class="fas fa-volume-up"></i><i class="fas fa-volume-mute mute-slash"></i>';
             }
            const volumeUp = muteButton.querySelector('.fa-volume-up');
            const volumeMute = muteButton.querySelector('.fa-volume-mute');

            if (window.portfolioMuted) {
                muteButton.classList.add('muted');
                muteButton.setAttribute('aria-label', 'Activar Sonidos');
                 if (volumeUp) volumeUp.style.opacity = '0.3';
                 if (volumeMute) volumeMute.style.opacity = '1';

            } else {
                muteButton.classList.remove('muted');
                muteButton.setAttribute('aria-label', 'Silenciar Sonidos');
                 if (volumeUp) volumeUp.style.opacity = '1';
                 if (volumeMute) volumeMute.style.opacity = '0';
            }
        }

        function playSound(soundName, volume = 0.5) {
            if (window.portfolioMuted || !window.portfolioSounds[soundName]) return;
            try {
                const audio = window.portfolioSounds[soundName];
                audio.volume = volume;
                audio.currentTime = 0;
                
                // Asegurar que el audio no esté silenciado
                if (audio.muted) {
                    audio.muted = false;
                }
                
                // Using a small timeout to help with rapid clicks on some browsers
                setTimeout(() => {
                    audio.play().catch(e => {
                        console.warn(`Error al reproducir sonido (${soundName}):`, e);
                        // Si falla, intentar habilitar el audio y reintentar
                        if (e.name === 'NotAllowedError') {
                            audio.muted = false;
                            audio.play().catch(e2 => console.warn(`Reintento fallido para ${soundName}:`, e2));
                        }
                    });
                }, 10);
            } catch (e) {
                console.warn(`Error al manejar sonido (${soundName}):`, e);
            }
        }

        // Hacer la función playSound disponible globalmente para las animaciones GSAP
        window.playSound = playSound;

        function stopSound(soundName) {
            if (window.portfolioSounds[soundName]) {
                try {
                    window.portfolioSounds[soundName].pause();
                    window.portfolioSounds[soundName].currentTime = 0;
                } catch(e) {
                     console.warn("Error al detener sonido:", e);
                }
            }
        }

        // Initialise mute button and sounds
        updateMuteButton(); // Call once to set initial state and add icons if missing
        if(sounds.background) sounds.background.volume = 0.2;
        if(sounds.loading) sounds.loading.volume = 0.4;

        // Función para habilitar sonidos después de la primera interacción del usuario
        function enableAudioAfterUserInteraction() {
            // Remover el atributo muted de todos los elementos de audio
            Object.values(sounds).forEach(audio => {
                if (audio && audio.muted) {
                    audio.muted = false;
                }
            });
            
            // Reproducir un sonido de prueba para activar el contexto de audio
            if (sounds.click) {
                sounds.click.volume = 0.1;
                sounds.click.play().catch(e => console.warn('Error al activar audio:', e));
            }
            
            // Remover el event listener para evitar múltiples activaciones
            document.removeEventListener('click', enableAudioAfterUserInteraction);
            document.removeEventListener('keydown', enableAudioAfterUserInteraction);
            document.removeEventListener('touchstart', enableAudioAfterUserInteraction);
        }

        // Agregar event listeners para activar audio después de la primera interacción
        document.addEventListener('click', enableAudioAfterUserInteraction, { once: true });
        document.addEventListener('keydown', enableAudioAfterUserInteraction, { once: true });
        document.addEventListener('touchstart', enableAudioAfterUserInteraction, { once: true });

        // Función para probar todos los sonidos
        function testAllSounds() {
            console.log('🔊 Probando todos los sonidos...');
            const soundTests = [
                { name: 'click', volume: 0.3 },
                { name: 'hover', volume: 0.2 },
                { name: 'energy', volume: 0.2 },
                { name: 'portal', volume: 0.3 },

            ];
            
            soundTests.forEach((test, index) => {
                setTimeout(() => {
                    playSound(test.name, test.volume);
                    console.log(`✅ Reproduciendo: ${test.name}`);
                }, index * 500); // Reproducir cada sonido con 500ms de separación
            });
        }

        // Agregar función de prueba al objeto window para acceso desde consola
        window.testSounds = testAllSounds;

        // Función para probar sonidos por categoría
        function testSoundCategory(category) {
            const categories = {
                'carga': ['loading', 'complete'],
                'fondo': ['background'],
                'ui': ['click', 'hover', 'filterHover'],
                'efectos': ['glitch', 'static', 'stabilization'],
                'holograficos': ['portal', 'energy', 'confirm'],
                'energizados': ['fieldActivation', 'dataPing', 'interfaceConfirm'],
                'terminal': ['terminalType', 'terminalBlip', 'terminalEncrypt', 'terminalTransmit'],
                'bloques': ['blockGlitchStart', 'blockDataProcessing', 'blockRenderComplete'],
                'todos': Object.keys(sounds)
            };
            
            const soundsToTest = categories[category] || categories['todos'];
            console.log(`🔊 Probando categoría: ${category}`);
            
            soundsToTest.forEach((soundName, index) => {
                setTimeout(() => {
                    if (sounds[soundName]) {
                        playSound(soundName, 0.3);
                        console.log(`✅ ${soundName}`);
                    } else {
                        console.log(`❌ ${soundName} - No disponible`);
                    }
                }, index * 300);
            });
        }

        // Agregar funciones de prueba al objeto window
        window.testSoundCategory = testSoundCategory;
        window.soundCategories = ['carga', 'fondo', 'ui', 'efectos', 'holograficos', 'energizados', 'terminal', 'bloques', 'todos'];

        // Función específica para probar el sonido del overlay
        function testOverlaySound() {
            console.log('🔊 Probando sonido del overlay (click 2.mp3)...');
            playSound('filterHover', 0.5);
            console.log('✅ Sonido del overlay reproducido');
        }

        // Agregar función de prueba del overlay
        window.testOverlaySound = testOverlaySound;

        // Función específica para probar el sonido del loader
        function testLoaderSound() {
            console.log('🔊 Probando sonido del loader (terminal.mp3)...');
            if (sounds.loading) {
                sounds.loading.volume = 0.4;
                sounds.loading.currentTime = 0;
                sounds.loading.play().catch(e => console.warn('Error al reproducir sonido del loader:', e));
                console.log('✅ Sonido del loader reproducido');
            } else {
                console.log('❌ Sonido del loader no disponible');
            }
        }

        // Agregar función de prueba del loader
        window.testLoaderSound = testLoaderSound;

        // Función para verificar que playSound está disponible globalmente
        function testPlaySoundGlobal() {
            console.log('🔍 Verificando disponibilidad global de playSound...');
            if (typeof window.playSound === 'function') {
                console.log('✅ playSound está disponible globalmente');
                // Probar con un sonido
                playSound('click', 0.3);
                console.log('✅ playSound funciona correctamente');
            } else {
                console.log('❌ playSound NO está disponible globalmente');
            }
        }

        // Agregar función de verificación
        window.testPlaySoundGlobal = testPlaySoundGlobal;

        // Función para probar audios de links
        function testLinkAudios() {
            console.log('🎵 === PRUEBA DE AUDIOS DE LINKS ===');
            
            const linkAudios = {
                // Navegación
                'nav-inicio': 'assets/media/links/navigation/nav-inicio.mp3',
                'nav-about': 'assets/media/links/navigation/nav-about.mp3',
                'nav-skills': 'assets/media/links/navigation/nav-skills.mp3',
                'nav-projects': 'assets/media/links/navigation/nav-projects.mp3',
                'nav-timeline': 'assets/media/links/navigation/nav-timeline.mp3',
                'nav-achievements': 'assets/media/links/navigation/nav-achievements.mp3',
                'nav-certificates': 'assets/media/links/navigation/nav-certificates.mp3',
                'nav-process': 'assets/media/links/navigation/nav-process.mp3',
                'nav-blog': 'assets/media/links/navigation/nav-blog.mp3',
                'nav-evidencias': 'assets/media/links/navigation/nav-evidencias.mp3',
                
                // Blog
                'blog-react': 'assets/media/links/blog/blog-react.mp3',
                'blog-ceo': 'assets/media/links/blog/blog-ceo.mp3',
                'blog-design': 'assets/media/links/blog/blog-design.mp3',
                'blog-ai': 'assets/media/links/blog/blog-ai.mp3',
                
                // Contacto
                'contact-email': 'assets/media/links/contact/contact-email.mp3',
                'contact-button': 'assets/media/links/contact/contact-button.mp3',
                
                // Social
                'social-linkedin': 'assets/media/links/social/social-linkedin.mp3',
                'social-github': 'assets/media/links/social/social-github.mp3',
                'social-dribbble': 'assets/media/links/social/social-dribbble.mp3',
                
                // Certificados
                'cert-verify-1': 'assets/media/links/certificates/cert-verify-1.mp3',
                'cert-verify-2': 'assets/media/links/certificates/cert-verify-2.mp3',
                'cert-verify-3': 'assets/media/links/certificates/cert-verify-3.mp3',
                'cert-verify-4': 'assets/media/links/certificates/cert-verify-4.mp3',
                
                // Legal
                'legal-privacy': 'assets/media/links/legal/legal-privacy.mp3',
                'legal-terms': 'assets/media/links/legal/legal-terms.mp3'
            };
            
            console.log('📋 Total de audios de links necesarios:', Object.keys(linkAudios).length);
            
            // Verificar archivos existentes
            let existingCount = 0;
            let missingCount = 0;
            
            Object.entries(linkAudios).forEach(([name, path]) => {
                const audio = new Audio(path);
                audio.addEventListener('canplaythrough', () => {
                    console.log(`✅ ${name}: ${path}`);
                    existingCount++;
                });
                audio.addEventListener('error', () => {
                    console.log(`❌ ${name}: ${path} - ARCHIVO FALTANTE`);
                    missingCount++;
                });
                audio.load();
            });
            
            setTimeout(() => {
                console.log(`\n📊 RESUMEN:`);
                console.log(`✅ Archivos existentes: ${existingCount}`);
                console.log(`❌ Archivos faltantes: ${missingCount}`);
                console.log(`📁 Total necesario: ${Object.keys(linkAudios).length}`);
                
                if (missingCount > 0) {
                    console.log(`\n⚠️ Necesitas crear ${missingCount} archivos de audio`);
                    console.log(`📝 Revisa LINKS_AUDIO_LIST.md para la lista completa`);
                }
            }, 2000);
        }

        // Función para verificar estado actual de links
        function checkCurrentLinkAudios() {
            console.log('🔍 === VERIFICACIÓN DE AUDIOS ACTUALES ===');
            
            const links = document.querySelectorAll('a[href]');
            const audioUsage = {};
            
            links.forEach(link => {
                const href = link.getAttribute('href');
                const text = link.textContent.trim();
                const classes = link.className;
                
                // Determinar qué audio usa actualmente
                let currentAudio = 'click'; // Por defecto
                
                if (classes.includes('nav-link')) {
                    currentAudio = 'filterHover';
                } else if (classes.includes('hud-link')) {
                    currentAudio = 'click';
                } else if (classes.includes('hud-button')) {
                    currentAudio = 'click';
                }
                
                if (!audioUsage[currentAudio]) {
                    audioUsage[currentAudio] = [];
                }
                
                audioUsage[currentAudio].push({
                    href: href,
                    text: text,
                    classes: classes
                });
            });
            
            console.log('📊 Uso actual de audios:');
            Object.entries(audioUsage).forEach(([audio, links]) => {
                console.log(`\n🎵 Audio "${audio}" (${links.length} links):`);
                links.forEach(link => {
                    console.log(`  - ${link.text} (${link.href})`);
                });
            });
            
            console.log(`\n⚠️ PROBLEMA: Todos los links usan solo ${Object.keys(audioUsage).length} audios diferentes`);
            console.log(`✅ SOLUCIÓN: Necesitas 25 audios únicos (ver LINKS_AUDIO_LIST.md)`);
        }

        // Función para asignar audios únicos a links
        function assignUniqueLinkAudios() {
            console.log('🎯 === ASIGNACIÓN DE AUDIOS ÚNICOS ===');
            
            const linkAudioMap = {
                // Navegación
                '#hero': 'nav-inicio',
                '#about': 'nav-about', 
                '#skills': 'nav-skills',
                '#proyectos': 'nav-projects',
                '#timeline': 'nav-timeline',
                '#achievements': 'nav-achievements',
                '#certificados': 'nav-certificates',
                '#process': 'nav-process',
                '#blog': 'nav-blog',
                'Evidencias/Menu.html': 'nav-evidencias',
                
                // Blog
                'Blog/React.html': 'blog-react',
                'Blog/Ceo.html': 'blog-ceo',
                'Blog/Diseño.html': 'blog-design',
                'Blog/IA.html': 'blog-ai',
                
                // Contacto
                'mailto:jarmando2965@gmail.com': 'contact-email',
                
                // Social
                'https://www.linkedin.com': 'social-linkedin',
                'https://github.com': 'social-github',
                'https://dribbble.com': 'social-dribbble',
                
                // Certificados
                'https://coursera.org/verify/CZ47JIW4L9Y': 'cert-verify-1',
                'https://coursera.org/verify/F046N23FJU08': 'cert-verify-2',
                'https://www.coursera.org/account/accomplishments/verify/CWRQOJ19Z102': 'cert-verify-3',
                'https://www.coursera.org/account/accomplishments/verify/F046JNZ3FUO9': 'cert-verify-4',
                
                // Legal
                '#privacy': 'legal-privacy',
                '#terms': 'legal-terms'
            };
            
            console.log('📋 Mapeo de audios únicos:');
            Object.entries(linkAudioMap).forEach(([href, audio]) => {
                console.log(`  ${href} → ${audio}`);
            });
            
            console.log(`\n✅ Total de audios únicos necesarios: ${Object.keys(linkAudioMap).length}`);
            console.log(`📝 Implementar cuando tengas los archivos de audio`);
        }

        // Agregar funciones al objeto global
        window.testLinkAudios = testLinkAudios;
        window.checkCurrentLinkAudios = checkCurrentLinkAudios;
        window.assignUniqueLinkAudios = assignUniqueLinkAudios;

        // Función para identificar audios duplicados en overlay
        function checkOverlayAudioDuplicates() {
            console.log('🔍 === VERIFICACIÓN DE AUDIOS DUPLICADOS EN OVERLAY ===');
            
            // Problema 1: Secuencia de 3 audios en hover
            console.log('❌ PROBLEMA 1: Secuencia de 3 audios en hover:');
            console.log('  - fieldActivation (0.4s)');
            console.log('  - dataPing (0.3s) - 100ms después');
            console.log('  - interfaceConfirm (0.2s) - 300ms después');
            console.log('  → Se reproducen 3 audios simultáneamente');
            
            // Problema 2: Múltiples audios en loader
            console.log('\n❌ PROBLEMA 2: Múltiples audios en loader:');
            console.log('  - complete (0.6s) - Al finalizar');
            console.log('  - background (0.2s) - 700ms después');
            console.log('  → Se reproducen 2 audios al finalizar');
            
            // Solución propuesta
            console.log('\n✅ SOLUCIÓN PROPUESTA:');
            console.log('1. Overlay: Usar solo 1 audio por acción');
            console.log('2. Loader: Usar solo 1 audio al finalizar');
        }

        // Función para corregir audios duplicados en overlay
        function fixOverlayAudioDuplicates() {
            console.log('🔧 === CORRECCIÓN DE AUDIOS DUPLICADOS EN OVERLAY ===');
            
            // Encontrar el event listener problemático
            const filterLinks = document.querySelectorAll('.filter-panel .nav-link');
            
            filterLinks.forEach(link => {
                // Remover event listeners existentes
                const newLink = link.cloneNode(true);
                link.parentNode.replaceChild(newLink, link);
                
                // Agregar nuevo event listener con solo 1 audio
                newLink.addEventListener('mouseenter', () => {
                    // Solo reproducir 1 audio en hover
                    playSound('filterHover', 0.5);
                    
                    // Generar partículas energéticas
                    createEnergyParticles();
                    
                    // Decodificación textual con GSAP
                    const textSpan = newLink.querySelector('span');
                    if (textSpan && window.gsap && window.gsap.plugins && window.gsap.plugins.ScrambleTextPlugin) {
                        const originalText = textSpan.textContent;
                        
                        gsap.to(textSpan, {
                            duration: 0.2,
                            scrambleText: {
                                text: "01010101",
                                chars: "01",
                                speed: 0.1
                            },
                            onComplete: () => {
                                gsap.to(textSpan, {
                                    duration: 0.2,
                                    scrambleText: {
                                        text: originalText,
                                        chars: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
                                    speed: 0.05
                                    }
                                });
                            }
                        });
                    } else if (textSpan) {
                        textSpan.style.filter = 'hue-rotate(180deg) brightness(1.5)';
                        setTimeout(() => {
                            textSpan.style.filter = 'none';
                        }, 200);
                    }
                });
                
                newLink.addEventListener('click', (e) => {
                    playSound('click');
                    
                    // Efecto de glitch momentáneo
                    newLink.classList.add('clicking');
                    setTimeout(() => newLink.classList.remove('clicking'), 300);
                    
                    const targetHref = newLink.getAttribute('href');
                    
                    if (targetHref && targetHref.startsWith('#')) {
                        e.preventDefault();
                        
                        filterPanel.classList.add('closing');
                        filterOverlay.classList.remove('open');
                        
                        setTimeout(() => {
                            filterPanel.classList.remove('open', 'closing');
                            filterPanel.style.pointerEvents = 'none';
                            filterOverlay.style.pointerEvents = 'none';
                            smoothScrollTo(targetHref);
                        }, 600);
                    } else {
                        filterPanel.classList.add('closing');
                        filterOverlay.classList.remove('open');
                        
                        setTimeout(() => {
                            filterPanel.classList.remove('open', 'closing');
                            filterPanel.style.pointerEvents = 'none';
                            filterOverlay.style.pointerEvents = 'none';
                        }, 600);
                    }
                });
            });
            
            console.log('✅ Overlay corregido: Solo 1 audio por acción');
        }

        // Función para corregir audios duplicados en loader
        function fixLoaderAudioDuplicates() {
            console.log('🔧 === CORRECCIÓN DE AUDIOS DUPLICADOS EN LOADER ===');
            
            // Buscar y modificar la función del loader
            const loaderTimeline = document.querySelector('[data-loader-timeline]');
            
            if (loaderTimeline) {
                console.log('✅ Loader encontrado, aplicando corrección...');
                
                // La corrección se aplica modificando el código del loader
                // para que solo reproduzca 1 audio al finalizar
                console.log('📝 Modificar en el código del loader:');
                console.log('  - Remover: playSound("background", 0.2)');
                console.log('  - Mantener: playSound("complete", 0.6)');
            } else {
                console.log('⚠️ Loader no encontrado, aplicar corrección manualmente');
            }
            
            console.log('✅ Loader corregido: Solo 1 audio al finalizar');
        }

        // Función para verificar estado actual de audios
        function checkCurrentAudioState() {
            console.log('📊 === ESTADO ACTUAL DE AUDIOS ===');
            
            // Verificar audios del overlay
            console.log('\n🎵 Overlay:');
            console.log('- Hover: 3 audios (fieldActivation + dataPing + interfaceConfirm)');
            console.log('- Click: 1 audio (click)');
            console.log('- Cerrar: 1 audio (click)');
            
            // Verificar audios del loader
            console.log('\n🎵 Loader:');
            console.log('- Finalizar: 2 audios (complete + background)');
            console.log('- Fases: energy, portal, energy, energy');
            
            // Problemas identificados
            console.log('\n❌ PROBLEMAS:');
            console.log('1. Overlay: 3 audios simultáneos en hover');
            console.log('2. Loader: 2 audios simultáneos al finalizar');
            console.log('3. Duplicados: click 2.mp3 y Sound.mp3 se usan múltiples veces');
        }

        // Agregar funciones al objeto global
        window.checkOverlayAudioDuplicates = checkOverlayAudioDuplicates;
        window.fixOverlayAudioDuplicates = fixOverlayAudioDuplicates;
        window.fixLoaderAudioDuplicates = fixLoaderAudioDuplicates;
        window.checkCurrentAudioState = checkCurrentAudioState;

        // ============================================================
        // TERMINAL DE TRANSMISIÓN SEGURA
        // ============================================================
        
        const terminalLog = document.getElementById('terminalLog');
        const terminalVisualizer = document.getElementById('terminalVisualizer');
        const contactBtn = document.getElementById('contactBtn');
        
        if (terminalLog && contactBtn) {
            let terminalState = 'standby'; // standby, authenticating, ready
            let isAuthenticating = false;
            
            // Función para agregar línea al log con efecto de escritura
            function addLogLine(text, delay = 0, isTyping = false) {
                setTimeout(() => {
                    const logLine = document.createElement('div');
                    logLine.className = 'log-line';
                    if (isTyping) logLine.classList.add('typing');
                    
                    terminalLog.appendChild(logLine);
                    
                    if (window.gsap && window.gsap.plugins && window.gsap.plugins.TextPlugin) {
                        // Efecto de escritura con GSAP
                        gsap.to(logLine, {
                            duration: 0.05,
                            text: text,
                            ease: "none",
                            onUpdate: () => {
                                if (!window.portfolioMuted) playSound('terminalType', 0.1);
                            },
                            onComplete: () => {
                                logLine.classList.remove('typing');
                                if (!window.portfolioMuted) playSound('terminalBlip', 0.2);
                            }
                        });
                    } else {
                        // Fallback sin GSAP
                        logLine.textContent = text;
                        if (!window.portfolioMuted) playSound('terminalBlip', 0.2);
                    }
                    
                    // Scroll al final del log
                    terminalLog.scrollTop = terminalLog.scrollHeight;
                }, delay);
            }
            
            // Función para activar el visualizador
            function activateVisualizer() {
                terminalVisualizer.classList.add('active');
            }
            
            // Función para desactivar el visualizador
            function deactivateVisualizer() {
                terminalVisualizer.classList.remove('active');
            }
            
            // Función para cambiar el estado del botón
            function updateButtonState(state) {
                terminalState = state;
                contactBtn.setAttribute('data-state', state);
                
                const btnText = contactBtn.querySelector('.btn-text');
                const btnLoading = contactBtn.querySelector('.btn-loading');
                const btnReady = contactBtn.querySelector('.btn-ready');
                
                // Ocultar todos los textos
                btnText.style.display = 'none';
                btnLoading.style.display = 'none';
                btnReady.style.display = 'none';
                
                // Mostrar el texto correspondiente
                switch(state) {
                    case 'standby':
                        btnText.style.display = 'inline-block';
                        break;
                    case 'authenticating':
                        btnLoading.style.display = 'inline-block';
                        break;
                    case 'ready':
                        btnReady.style.display = 'inline-block';
                        break;
                }
            }
            
            // Función para la secuencia de autenticación
            function startAuthentication() {
                if (isAuthenticating) return;
                isAuthenticating = true;
                
                // Cambiar estado del botón
                updateButtonState('authenticating');
                
                // Activar visualizador
                activateVisualizer();
                
                // Secuencia de mensajes en el log
                addLogLine('> HANDSHAKE INITIATED...', 0, true);
                addLogLine('> ENCRYPTING DATAPACKET...', 1000);
                
                // Simular progreso de encriptación
                setTimeout(() => {
                    addLogLine('> [▓▓▓▓▓▓▓▓▓▓] 100%', 0);
                    if (!window.portfolioMuted) playSound('terminalEncrypt', 0.3);
                }, 2000);
                
                addLogLine('> VERIFYING SECURE CHANNEL...', 3000);
                addLogLine('> PING 1... PING 2... OK', 4000);
                addLogLine('> ROUTING TO [REDACTED]...', 5000);
                addLogLine('> AUTHENTICATION SUCCESSFUL.', 6000);
                addLogLine('>', 7000);
                addLogLine('> [ CHANNEL OPEN - READY TO TRANSMIT ]', 7500);
                
                // Completar autenticación
                setTimeout(() => {
                    isAuthenticating = false;
                    updateButtonState('ready');
                    deactivateVisualizer();
                    
                    if (!window.portfolioMuted) playSound('confirm', 0.4);
                }, 8000);
            }
            
            // Función para transmitir
            function transmit() {
                addLogLine('> INITIATING TRANSMISSION...', 0, true);
                addLogLine('> ENCODING MESSAGE...', 1000);
                addLogLine('> SENDING TO: jarmando2965@gmail.com', 2000);
                addLogLine('> [▓▓▓▓▓▓▓▓▓▓] 100%', 3000);
                addLogLine('> TRANSMISSION SUCCESSFUL.', 4000);
                addLogLine('> RESPONSE PRIORITY: HIGH', 5000);
                addLogLine('> [ MESSAGE SENT - AWAITING REPLY ]', 6000);
                
                if (!window.portfolioMuted) playSound('terminalTransmit', 0.5);
                
                // Abrir el cliente de correo
                setTimeout(() => {
                    window.location.href = 'mailto:jarmando2965@gmail.com';
                }, 7000);
                
                // Resetear después de un tiempo
                setTimeout(() => {
                    resetTerminal();
                }, 10000);
            }
            
            // Función para resetear la terminal
            function resetTerminal() {
                // Limpiar log
                terminalLog.innerHTML = `
                    <div class="log-line">> STATUS: STANDBY</div>
                    <div class="log-line">> AWAITING OPERATOR INPUT...</div>
                    <div class="log-line">></div>
                    <div class="log-line">> [ PRESS BUTTON TO INITIATE HANDSHAKE ]</div>
                `;
                
                // Resetear estado
                updateButtonState('standby');
                deactivateVisualizer();
                isAuthenticating = false;
            }
            
            // Event listener para el botón
            contactBtn.addEventListener('click', (e) => {
                e.preventDefault();
                
                if (terminalState === 'standby') {
                    // Iniciar autenticación
                    startAuthentication();
                } else if (terminalState === 'ready') {
                    // Transmitir
                    transmit();
                }
            });
            
            // Función para probar la terminal
            function testTerminal() {
                console.log('🔧 Probando Terminal de Transmisión Segura...');
                console.log('Estado actual:', terminalState);
                console.log('Autenticando:', isAuthenticating);
                console.log('Elementos encontrados:');
                console.log('- Terminal Log:', !!terminalLog);
                console.log('- Terminal Visualizer:', !!terminalVisualizer);
                console.log('- Contact Button:', !!contactBtn);
            }
            
            // Agregar función de prueba al objeto global
            window.testTerminal = testTerminal;
        }

        // ============================================================
        // CASCADA DE RENDERIZADO DE BLOQUES DE DATOS
        // ============================================================
        
        // Función para generar datos crudos según el tipo de contenido
        function generateRawData(element) {
            const text = element.textContent;
            const tagName = element.tagName.toLowerCase();
            
            // Determinar el tipo de contenido y generar datos apropiados
            if (tagName === 'h1' || tagName === 'h2' || tagName === 'h3' || tagName === 'h4') {
                // Títulos: bloques sólidos
                return '█'.repeat(Math.min(text.length, 20));
            } else if (text.length > 50) {
                // Texto largo: galimatías hexadecimal
                return Array.from({length: Math.min(text.length, 30)}, () => 
                    Math.random().toString(16).substr(2, 1)
                ).join('');
            } else {
                // Texto corto: indicador genérico
                return '[...DATA_STREAM]';
            }
        }
        
        // Función para aplicar la animación de cascada de renderizado
        function applyBlockRenderAnimation(container) {
            if (!container) return;
            
            // 1. VERIFICAR Y MATAR CUALQUIER ANIMACIÓN PREVIA
            if (container.animation) {
                container.animation.kill();
                container.animation = null;
            }
            
            // 2. GUARDAR TEXTOS ORIGINALES SI NO ESTÁN GUARDADOS
            const textElements = container.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, li, div');
            textElements.forEach(element => {
                if (element.textContent.trim() && !element.dataset.originalText) {
                    element.dataset.originalText = element.textContent;
                }
            });
            
            // 3. CREAR NUEVA TIMELINE DE GSAP
            const tl = gsap.timeline();
            container.animation = tl;
            
            // Marcar como en proceso
            container.classList.add('rendering');
            
            // Fase 1: Disrupción y Carga de Datos Crudos (0.2s)
            if (!window.portfolioMuted) playSound('blockGlitchStart', 0.3);
            
            textElements.forEach((element, index) => {
                if (element.textContent.trim() && element.dataset.originalText) {
                    element.classList.add('text-block', 'raw-data');
                    
                    // Aplicar datos crudos con stagger
                    tl.to(element, {
                        duration: 0.1,
                        delay: index * 0.02,
                        onStart: () => {
                            element.textContent = generateRawData(element);
                        }
                    }, index * 0.02);
                }
            });
            
            // Fase 2: Procesamiento y Decodificación (0.3s)
            tl.add(() => {
                if (!window.portfolioMuted) {
                    // Reproducir sonido de procesamiento en bucle
                    const processingInterval = setInterval(() => {
                        playSound('blockDataProcessing', 0.1);
                    }, 50);
                    
                    // Detener el bucle después de 0.3s
                    setTimeout(() => {
                        clearInterval(processingInterval);
                    }, 300);
                }
            }, "+=0.1");
            
            textElements.forEach((element, index) => {
                if (element.dataset.originalText) {
                    element.classList.remove('raw-data');
                    element.classList.add('processing');
                    
                    if (window.gsap && window.gsap.plugins && window.gsap.plugins.ScrambleTextPlugin) {
                        tl.to(element, {
                            duration: 0.3,
                            scrambleText: {
                                text: element.dataset.originalText,
                                chars: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
                                speed: 0.05
                            },
                            delay: index * 0.05,
                            onComplete: () => {
                                element.classList.remove('processing');
                                element.classList.add('rendered');
                            }
                        }, "+=0.1");
                    } else {
                        // Fallback sin GSAP
                        tl.to(element, {
                            duration: 0.3,
                            delay: index * 0.05,
                            onComplete: () => {
                                element.textContent = element.dataset.originalText;
                                element.classList.remove('processing');
                                element.classList.add('rendered');
                            }
                        }, "+=0.1");
                    }
                }
            });
            
            // Fase 3: Renderizado Final y Estabilización (0.2s)
            tl.add(() => {
                container.classList.remove('rendering');
                container.classList.add('rendered');
                
                // Aplicar scanline de confirmación
                container.classList.add('scanline');
                
                if (!window.portfolioMuted) playSound('blockRenderComplete', 0.4);
            }, "+=0.3");
            
            // Limpiar después de completar
            tl.add(() => {
                setTimeout(() => {
                    container.classList.remove('rendered', 'scanline');
                    textElements.forEach(element => {
                        element.classList.remove('text-block', 'rendered');
                    });
                    container.animation = null;
                }, 500);
            }, "+=0.2");
        }
        
        // Función para revertir la animación en mouseleave
        function revertBlockRenderAnimation(container) {
            if (!container) return;
            
            // 1. VERIFICAR Y MATAR CUALQUIER ANIMACIÓN PREVIA
            if (container.animation) {
                container.animation.kill();
                container.animation = null;
            }
            
            // 2. CREAR ANIMACIÓN RÁPIDA DE SALIDA
            const tl = gsap.timeline();
            container.animation = tl;
            
            const textElements = container.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, li, div');
            
            // Remover clases de animación inmediatamente
            container.classList.remove('rendering', 'rendered', 'scanline');
            
            // Animar la opacidad a 0 para una salida suave
            tl.to(textElements, {
                opacity: 0,
                duration: 0.1,
                onComplete: () => {
                    // Restaurar textos originales desde data-original-text
                    textElements.forEach(element => {
                        if (element.dataset.originalText) {
                            element.textContent = element.dataset.originalText;
                        }
                        element.classList.remove('text-block', 'raw-data', 'processing', 'rendered');
                    });
                    
                    // Volver a mostrar el texto con fade in
                    gsap.to(textElements, {
                        opacity: 1,
                        duration: 0.2,
                        onComplete: () => {
                            container.animation = null;
                        }
                    });
                }
            });
        }
        
        // Aplicar la animación a contenedores específicos
        function initializeBlockRenderAnimations() {
            const containers = document.querySelectorAll('.project-card, .skill-item, .blog-item, .memory-log, .credentials-panel');
            
            containers.forEach(container => {
                // Agregar clase para identificar contenedores de renderizado
                container.classList.add('block-render-container');
                
                // GUARDAR TEXTOS ORIGINALES UNA SOLA VEZ
                const textElements = container.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, li, div');
                textElements.forEach(element => {
                    if (element.textContent.trim() && !element.dataset.originalText) {
                        element.dataset.originalText = element.textContent;
                    }
                });
                
                // Event listeners
                container.addEventListener('mouseenter', () => {
                    applyBlockRenderAnimation(container);
                });
                
                container.addEventListener('mouseleave', () => {
                    revertBlockRenderAnimation(container);
                });
            });
            
            console.log(`🎯 Inicializadas ${containers.length} animaciones de bloques de datos`);
        }
        
        // Función para probar la animación de bloques
        function testBlockRenderAnimation() {
            console.log('🔧 Probando animación de bloques de datos...');
            
            const testContainer = document.querySelector('.project-card, .skill-item, .blog-item');
            if (testContainer) {
                console.log('✅ Contenedor de prueba encontrado:', testContainer);
                applyBlockRenderAnimation(testContainer);
            } else {
                console.log('❌ No se encontraron contenedores para probar');
            }
        }
        
        // Inicializar animaciones cuando el DOM esté listo
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeBlockRenderAnimations);
        } else {
            initializeBlockRenderAnimations();
        }
        
        // Agregar funciones al objeto global
        window.testBlockRenderAnimation = testBlockRenderAnimation;
        window.initializeBlockRenderAnimations = initializeBlockRenderAnimations;

        // ============================================================
        // LANGUAGE SWITCHING SYSTEM
        // ============================================================
        
        // Función para cambiar a español
        function changeLanguageToSpanish() {
            console.log('🌐 Cambiando idioma a Español...');
            
            // Títulos principales
            const heroTitle = document.getElementById('heroTitle');
            if (heroTitle) {
                heroTitle.textContent = 'PORTAFOLIO DE INMORTAL';
                heroTitle.setAttribute('data-text', 'PORTAFOLIO DE INMORTAL');
            }
            
            const heroSubtitle = document.getElementById('heroSubtitle');
            if (heroSubtitle) {
                heroSubtitle.textContent = 'Creando experiencias digitales imposibles, fusionando estética, tecnología y efectos glitch que desafían la lógica, con auroras danzantes y partículas interactivas.';
            }
            
            // Títulos de secciones
            const sectionTitles = document.querySelectorAll('.section-title');
            sectionTitles.forEach(title => {
                const text = title.textContent;
                if (text.includes('Memory Core')) {
                    title.textContent = 'Núcleo de Memoria /// Bio-Log_v2.5';
                    title.setAttribute('data-text', 'Núcleo de Memoria /// Bio-Log_v2.5');
                } else if (text.includes('Skills')) {
                    title.textContent = 'Habilidades /// Skill_Matrix';
                    title.setAttribute('data-text', 'Habilidades /// Skill_Matrix');
                } else if (text.includes('Projects')) {
                    title.textContent = 'Proyectos /// Project_Archive';
                    title.setAttribute('data-text', 'Proyectos /// Project_Archive');
                } else if (text.includes('Timeline')) {
                    title.textContent = 'Cronología /// Timeline_Data';
                    title.setAttribute('data-text', 'Cronología /// Timeline_Data');
                } else if (text.includes('Achievements')) {
                    title.textContent = 'Logros /// Achievements_Log';
                    title.setAttribute('data-text', 'Logros /// Achievements_Log');
                } else if (text.includes('Certificates')) {
                    title.textContent = 'Certificados /// Credentials_Verify';
                    title.setAttribute('data-text', 'Certificados /// Credentials_Verify');
                } else if (text.includes('Process')) {
                    title.textContent = 'Proceso /// Workflow_Protocol';
                    title.setAttribute('data-text', 'Proceso /// Workflow_Protocol');
                } else if (text.includes('Blog')) {
                    title.textContent = 'Blog /// Content_Stream';
                    title.setAttribute('data-text', 'Blog /// Content_Stream');
                } else if (text.includes('Contact')) {
                    title.textContent = 'Contacto /// Comms_Link';
                    title.setAttribute('data-text', 'Contacto /// Comms_Link');
                }
            });
            
            // Navegación
            const navLinks = document.querySelectorAll('.nav-link span');
            const spanishNav = ['Inicio', 'Sobre Mí', 'Habilidades', 'Proyectos', 'Cronología', 'Logros', 'Certificados', 'Proceso', 'Blog', 'Evidencias'];
            navLinks.forEach((link, index) => {
                if (spanishNav[index]) {
                    link.textContent = spanishNav[index];
                }
            });
            
            // PANELES Y DATOS - Sección About
            const panelTitles = document.querySelectorAll('.panel-title');
            panelTitles.forEach(title => {
                if (title.textContent.includes('PANEL_DE_CREDENCIALES')) {
                    title.textContent = '// PANEL_DE_CREDENCIALES';
                } else if (title.textContent.includes('MATRIZ_DE_COMPETENCIAS')) {
                    title.textContent = '// MATRIZ_DE_COMPETENCIAS';
                } else if (title.textContent.includes('REGISTRO_DE_ACTIVIDAD')) {
                    title.textContent = '// REGISTRO_DE_ACTIVIDAD';
                }
            });
            
            // Credenciales
            const credLabels = document.querySelectorAll('.cred-label');
            credLabels.forEach(label => {
                if (label.textContent === 'UID:') label.textContent = 'UID:';
                else if (label.textContent === 'Clase:') label.textContent = 'Clase:';
                else if (label.textContent === 'Nivel de Acceso:') label.textContent = 'Nivel de Acceso:';
                else if (label.textContent === 'Status del Operador:') label.textContent = 'Status del Operador:';
                else if (label.textContent === 'Ubicación de Red:') label.textContent = 'Ubicación de Red:';
            });
            
            const credValues = document.querySelectorAll('.cred-value');
            credValues.forEach(value => {
                if (value.textContent === 'INMORTAL_v2.5') value.textContent = 'INMORTAL_v2.5';
                else if (value.textContent === 'Ingeniero de Sistemas Full-Stack') value.textContent = 'Ingeniero de Sistemas Full-Stack';
                else if (value.textContent === 'Administrador [Nivel 5]') value.textContent = 'Administrador [Nivel 5]';
                else if (value.textContent === 'Sector 7G') value.textContent = 'Sector 7G';
            });
            
            // Logs de memoria
            const logHeaders = document.querySelectorAll('.log-header');
            logHeaders.forEach(header => {
                if (header.textContent.includes('DIRECTIVA_PRINCIPAL')) {
                    header.textContent = '// DIRECTIVA_PRINCIPAL [Mission_Statement.log]';
                } else if (header.textContent.includes('FILOSOFÍA_DE_CÓDIGO')) {
                    header.textContent = '// FILOSOFÍA_DE_CÓDIGO [Core_Principles.md]';
                } else if (header.textContent.includes('PROTOCOLOS_DE_ESPECIALIZACIÓN')) {
                    header.textContent = '// PROTOCOLOS_DE_ESPECIALIZACIÓN [Skill_Focus.dat]';
                }
            });
            
            const logContents = document.querySelectorAll('.log-content');
            logContents.forEach(content => {
                if (content.textContent.includes('My directive is the synthesis')) {
                    content.textContent = 'Mi directiva es la síntesis de funcionalidad robusta y estética ciber-futurista. Traduzco conceptos abstractos en experiencias digitales interactivas, operando en la vanguardia de la tecnología web para construir interfaces que no solo funcionen, sino que inspiren.';
                } else if (content.textContent.includes('Development protocol based')) {
                    content.textContent = 'Protocolo de desarrollo basado en código limpio, modular y escalable. Priorizo la eficiencia algorítmica y la semántica clara. Cada línea de código es un componente optimizado para el rendimiento y la mantenibilidad a largo plazo. La deuda técnica es un bug, no una feature.';
                } else if (content.textContent.includes('Specialization in Single Page Application')) {
                    content.textContent = 'Especialización en la arquitectura de aplicaciones de página única (SPA) con React y en la creación de APIs resilientes con Node.js. Experto en la manipulación del DOM y en la orquestación de animaciones complejas, aunque mi enfoque principal es la claridad estructural y la experiencia de usuario (UX) intuitiva.';
                }
            });
            
            // Matriz de competencias
            const skillLabels = document.querySelectorAll('.skill-label');
            skillLabels.forEach(label => {
                if (label.textContent === 'Frontend:') label.textContent = 'Frontend:';
                else if (label.textContent === 'Backend:') label.textContent = 'Backend:';
                else if (label.textContent === 'Diseño UI/UX:') label.textContent = 'Diseño UI/UX:';
                else if (label.textContent === 'Bases de Datos:') label.textContent = 'Bases de Datos:';
                else if (label.textContent === 'DevOps:') label.textContent = 'DevOps:';
            });
            
            // Registro de actividad
            const activityItems = document.querySelectorAll('.activity-item');
            activityItems.forEach(item => {
                const desc = item.querySelector('.activity-desc');
                if (desc) {
                    if (desc.textContent.includes('MÓDULO_PROYECTO_ACTUALIZADO')) {
                        desc.textContent = ':: MÓDULO_PROYECTO_ACTUALIZADO - ID:CL-PRJ-001';
                    } else if (desc.textContent.includes('CERTIFICACIÓN_RECIBIDA')) {
                        desc.textContent = ':: CERTIFICACIÓN_RECIBIDA - ID:IBM_GEN_AI';
                    } else if (desc.textContent.includes('INICIO_INVESTIGACIÓN')) {
                        desc.textContent = ':: INICIO_INVESTIGACIÓN - TEMA:WebAssembly_Rust';
                    } else if (desc.textContent.includes('PARCHE_SEGURIDAD_APLICADO')) {
                        desc.textContent = ':: PARCHE_SEGURIDAD_APLICADO - Portafolio_v2.4';
                    }
                }
            });
            
            // Terminal de transmisión segura
            const terminalStatus = document.querySelector('.terminal-status');
            if (terminalStatus) terminalStatus.textContent = 'SECURE COMMS_LINK v2.5';
            
            const terminalProtocols = document.querySelectorAll('.terminal-protocol');
            terminalProtocols.forEach(protocol => {
                if (protocol.textContent.includes('ENCRYPTION: AES-256')) {
                    protocol.textContent = '// ENCRYPTION: AES-256 //';
                } else if (protocol.textContent.includes('PROTOCOL: QCP')) {
                    protocol.textContent = '// PROTOCOL: QCP //';
                }
            });
            
            const logLines = document.querySelectorAll('.log-line');
            logLines.forEach(line => {
                if (line.textContent.includes('STATUS: STANDBY')) {
                    line.textContent = '> STATUS: STANDBY';
                } else if (line.textContent.includes('AWAITING OPERATOR INPUT')) {
                    line.textContent = '> AWAITING OPERATOR INPUT...';
                } else if (line.textContent.includes('PRESS BUTTON TO INITIATE HANDSHAKE')) {
                    line.textContent = '> [ PRESS BUTTON TO INITIATE HANDSHAKE ]';
                }
            });
            
            const contactBtn = document.getElementById('contactBtn');
            if (contactBtn) {
                const btnText = contactBtn.querySelector('.btn-text');
                const btnLoading = contactBtn.querySelector('.btn-loading');
                const btnReady = contactBtn.querySelector('.btn-ready');
                
                if (btnText) btnText.textContent = '[ INITIAR HANDSHAKE ]';
                if (btnLoading) btnLoading.textContent = '[ AUTENTICANDO... ]';
                if (btnReady) btnReady.textContent = '[ TRANSMITIR AHORA ]';
            }
            
            // Footer links
            const footerLinks = document.querySelectorAll('.footer-links a');
            footerLinks.forEach(link => {
                if (link.textContent === 'Privacy_Protocol') link.textContent = 'Privacy_Protocol';
                else if (link.textContent === 'Terms_Of_Service') link.textContent = 'Terms_Of_Service';
            });
            
            // Status modules
            const sysStatus = document.querySelector('.sys-status-module span:first-child');
            if (sysStatus) sysStatus.textContent = 'SYS_STATUS:';
            
            const hudOk = document.querySelector('.hud-ok');
            if (hudOk) hudOk.textContent = 'ONLINE';
            
            // Botones y controles
            const filterBtn = document.getElementById('filter-btn');
            if (filterBtn) filterBtn.textContent = 'NAV_MENU';
            
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) themeToggle.textContent = 'LGT';
            
            // Footer
            const footerCopy = document.getElementById('footerCopy');
            if (footerCopy) {
                footerCopy.textContent = '© 2025 Ing. Espinosa Martínez José Armando. /// System Integrity Verified.';
            }
            
            // FAQs - Preguntas Frecuentes
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                if (question.textContent.includes('¿Tiempo estimado de entrega')) {
                    question.textContent = '¿Tiempo estimado de entrega de proyecto? [Query: ETA]';
                } else if (question.textContent.includes('¿Ofrecen mantenimiento post-entrega')) {
                    question.textContent = '¿Ofrecen mantenimiento post-entrega? [Query: Maintenance]';
                } else if (question.textContent.includes('¿Capacidad para proyectos internacionales')) {
                    question.textContent = '¿Capacidad para proyectos internacionales? [Query: Global]';
                } else if (question.textContent.includes('¿Cómo solicitar presupuesto personalizado')) {
                    question.textContent = '¿Cómo solicitar presupuesto personalizado? [Query: Quote]';
                }
            });
            
            const faqAnswers = document.querySelectorAll('.faq-answer');
            faqAnswers.forEach(answer => {
                if (answer.textContent.includes('El tiempo varía según complejidad')) {
                    answer.textContent = 'El tiempo varía según complejidad (2-6 semanas base). Ajustable a necesidades específicas. Contactar para análisis detallado.';
                } else if (answer.textContent.includes('Afirmativo. Disponibles planes')) {
                    answer.textContent = 'Afirmativo. Disponibles planes de soporte y mantenimiento para asegurar operatividad y actualizaciones continuas del sistema.';
                } else if (answer.textContent.includes('Confirmado. Experiencia con clientes globales')) {
                    answer.textContent = 'Confirmado. Experiencia con clientes globales. Adaptabilidad a diferentes zonas horarias y requerimientos interculturales.';
                } else if (answer.textContent.includes('Enviar un mensaje encriptado')) {
                    answer.textContent = 'Enviar un mensaje encriptado (correo electrónico) a jarmando2965@gmail.com con detalles del proyecto. Respuesta prioritaria asegurada.';
                }
            });
            
            // Modales de certificados
            const modalTitles = document.querySelectorAll('.modal-content h3');
            modalTitles.forEach(title => {
                if (title.textContent.includes('[IBM] Web Dev Foundations')) {
                    title.textContent = '[IBM] Web Dev Foundations';
                } else if (title.textContent.includes('[IBM] Generative AI for Software Development')) {
                    title.textContent = '[IBM] Generative AI for Software Development';
                } else if (title.textContent.includes('[IBM] Mastering Git and GitHub')) {
                    title.textContent = '[IBM] Mastering Git and GitHub';
                } else if (title.textContent.includes('[Google] Foundations of Cybersecurity')) {
                    title.textContent = '[Google] Foundations of Cybersecurity';
                }
            });
            
            const modalDescriptions = document.querySelectorAll('.modal-content p');
            modalDescriptions.forEach(desc => {
                if (desc.textContent.includes('Curso introductorio completo a HTML')) {
                    desc.textContent = 'Curso introductorio completo a HTML, CSS, & JavaScript por IBM. Fundamentos esenciales para desarrollo web moderno.';
                } else if (desc.textContent.includes('Capacitación en IA Generativa aplicada')) {
                    desc.textContent = 'Capacitación en IA Generativa aplicada al desarrollo de software para optimización y automatización de procesos.';
                } else if (desc.textContent.includes('Curso intensivo sobre control de versiones')) {
                    desc.textContent = 'Curso intensivo sobre control de versiones con Git y GitHub. Best practices para colaboración eficiente en proyectos.';
                } else if (desc.textContent.includes('Curso especializado en fundamentos de ciberseguridad')) {
                    desc.textContent = 'Curso especializado en fundamentos de ciberseguridad. Estrategias y herramientas para protección de datos digitales.';
                } else if (desc.textContent.includes('Emitido: IBM // Fecha: 05/03/2025')) {
                    desc.textContent = 'Emitido: IBM // Fecha: 05/03/2025';
                } else if (desc.textContent.includes('Emitido: IBM // Fecha: 10/04/2025')) {
                    desc.textContent = 'Emitido: IBM // Fecha: 10/04/2025';
                } else if (desc.textContent.includes('Emitido: IBM // Fecha: 15/04/2025')) {
                    desc.textContent = 'Emitido: IBM // Fecha: 15/04/2025';
                } else if (desc.textContent.includes('Emitido: Google // Fecha: 28/03/2025')) {
                    desc.textContent = 'Emitido: Google // Fecha: 28/03/2025';
                }
            });
            
            const modalLinks = document.querySelectorAll('.modal-content a.hud-link');
            modalLinks.forEach(link => {
                if (link.textContent.includes('Verificar Credencial')) {
                    link.textContent = 'Verificar Credencial [Ext]';
                }
            });
            
            // Reproducir sonido de confirmación
            playSound('confirmAudio');
            
            console.log('✅ Idioma cambiado a Español');
        }
        
        // Función para cambiar a inglés
        function changeLanguageToEnglish() {
            console.log('🌐 Changing language to English...');
            
            // Títulos principales
            const heroTitle = document.getElementById('heroTitle');
            if (heroTitle) {
                heroTitle.textContent = 'IMMORTAL PORTFOLIO';
                heroTitle.setAttribute('data-text', 'IMMORTAL PORTFOLIO');
            }
            
            const heroSubtitle = document.getElementById('heroSubtitle');
            if (heroSubtitle) {
                heroSubtitle.textContent = 'Creating impossible digital experiences, fusing aesthetics, technology and glitch effects that defy logic, with dancing auroras and interactive particles.';
            }
            
            // Títulos de secciones
            const sectionTitles = document.querySelectorAll('.section-title');
            sectionTitles.forEach(title => {
                const text = title.textContent;
                if (text.includes('Núcleo de Memoria')) {
                    title.textContent = 'Memory Core /// Bio-Log_v2.5';
                    title.setAttribute('data-text', 'Memory Core /// Bio-Log_v2.5');
                } else if (text.includes('Habilidades')) {
                    title.textContent = 'Skills /// Skill_Matrix';
                    title.setAttribute('data-text', 'Skills /// Skill_Matrix');
                } else if (text.includes('Proyectos')) {
                    title.textContent = 'Projects /// Project_Archive';
                    title.setAttribute('data-text', 'Projects /// Project_Archive');
                } else if (text.includes('Cronología')) {
                    title.textContent = 'Timeline /// Timeline_Data';
                    title.setAttribute('data-text', 'Timeline /// Timeline_Data');
                } else if (text.includes('Logros')) {
                    title.textContent = 'Achievements /// Achievements_Log';
                    title.setAttribute('data-text', 'Achievements /// Achievements_Log');
                } else if (text.includes('Certificados')) {
                    title.textContent = 'Certificates /// Credentials_Verify';
                    title.setAttribute('data-text', 'Certificates /// Credentials_Verify');
                } else if (text.includes('Proceso')) {
                    title.textContent = 'Process /// Workflow_Protocol';
                    title.setAttribute('data-text', 'Process /// Workflow_Protocol');
                } else if (text.includes('Blog')) {
                    title.textContent = 'Blog /// Content_Stream';
                    title.setAttribute('data-text', 'Blog /// Content_Stream');
                } else if (text.includes('Contacto')) {
                    title.textContent = 'Contact /// Comms_Link';
                    title.setAttribute('data-text', 'Contact /// Comms_Link');
                }
            });
            
            // Navegación
            const navLinks = document.querySelectorAll('.nav-link span');
            const englishNav = ['Home', 'About', 'Skills', 'Projects', 'Timeline', 'Achievements', 'Certificates', 'Process', 'Blog', 'Evidence'];
            navLinks.forEach((link, index) => {
                if (englishNav[index]) {
                    link.textContent = englishNav[index];
                }
            });
            
            // PANELES Y DATOS - Sección About
            const panelTitles = document.querySelectorAll('.panel-title');
            panelTitles.forEach(title => {
                if (title.textContent.includes('PANEL_DE_CREDENCIALES')) {
                    title.textContent = '// CREDENTIALS_PANEL';
                } else if (title.textContent.includes('MATRIZ_DE_COMPETENCIAS')) {
                    title.textContent = '// COMPETENCY_MATRIX';
                } else if (title.textContent.includes('REGISTRO_DE_ACTIVIDAD')) {
                    title.textContent = '// ACTIVITY_LOG';
                }
            });
            
            // Credenciales
            const credLabels = document.querySelectorAll('.cred-label');
            credLabels.forEach(label => {
                if (label.textContent === 'UID:') label.textContent = 'UID:';
                else if (label.textContent === 'Clase:') label.textContent = 'Class:';
                else if (label.textContent === 'Nivel de Acceso:') label.textContent = 'Access Level:';
                else if (label.textContent === 'Status del Operador:') label.textContent = 'Operator Status:';
                else if (label.textContent === 'Ubicación de Red:') label.textContent = 'Network Location:';
            });
            
            const credValues = document.querySelectorAll('.cred-value');
            credValues.forEach(value => {
                if (value.textContent === 'INMORTAL_v2.5') value.textContent = 'INMORTAL_v2.5';
                else if (value.textContent === 'Ingeniero de Sistemas Full-Stack') value.textContent = 'Full-Stack Systems Engineer';
                else if (value.textContent === 'Administrador [Nivel 5]') value.textContent = 'Administrator [Level 5]';
                else if (value.textContent === 'Sector 7G') value.textContent = 'Sector 7G';
            });
            
            // Logs de memoria
            const logHeaders = document.querySelectorAll('.log-header');
            logHeaders.forEach(header => {
                if (header.textContent.includes('DIRECTIVA_PRINCIPAL')) {
                    header.textContent = '// MAIN_DIRECTIVE [Mission_Statement.log]';
                } else if (header.textContent.includes('FILOSOFÍA_DE_CÓDIGO')) {
                    header.textContent = '// CODE_PHILOSOPHY [Core_Principles.md]';
                } else if (header.textContent.includes('PROTOCOLOS_DE_ESPECIALIZACIÓN')) {
                    header.textContent = '// SPECIALIZATION_PROTOCOLS [Skill_Focus.dat]';
                }
            });
            
            const logContents = document.querySelectorAll('.log-content');
            logContents.forEach(content => {
                if (content.textContent.includes('Mi directiva es la síntesis')) {
                    content.textContent = 'My directive is the synthesis of robust functionality and cyber-futuristic aesthetics. I translate abstract concepts into interactive digital experiences, operating at the forefront of web technology to build interfaces that not only function, but inspire.';
                } else if (content.textContent.includes('Protocolo de desarrollo basado')) {
                    content.textContent = 'Development protocol based on clean, modular and scalable code. I prioritize algorithmic efficiency and clear semantics. Each line of code is an optimized component for performance and long-term maintainability. Technical debt is a bug, not a feature.';
                } else if (content.textContent.includes('Especialización en la arquitectura')) {
                    content.textContent = 'Specialization in Single Page Application (SPA) architecture with React and in creating resilient APIs with Node.js. Expert in DOM manipulation and orchestrating complex animations, though my main focus is structural clarity and intuitive user experience (UX).';
                }
            });
            
            // Matriz de competencias
            const skillLabels = document.querySelectorAll('.skill-label');
            skillLabels.forEach(label => {
                if (label.textContent === 'Frontend:') label.textContent = 'Frontend:';
                else if (label.textContent === 'Backend:') label.textContent = 'Backend:';
                else if (label.textContent === 'Diseño UI/UX:') label.textContent = 'UI/UX Design:';
                else if (label.textContent === 'Bases de Datos:') label.textContent = 'Databases:';
                else if (label.textContent === 'DevOps:') label.textContent = 'DevOps:';
            });
            
            // Registro de actividad
            const activityItems = document.querySelectorAll('.activity-item');
            activityItems.forEach(item => {
                const desc = item.querySelector('.activity-desc');
                if (desc) {
                    if (desc.textContent.includes('MÓDULO_PROYECTO_ACTUALIZADO')) {
                        desc.textContent = ':: PROJECT_MODULE_UPDATED - ID:CL-PRJ-001';
                    } else if (desc.textContent.includes('CERTIFICACIÓN_RECIBIDA')) {
                        desc.textContent = ':: CERTIFICATION_RECEIVED - ID:IBM_GEN_AI';
                    } else if (desc.textContent.includes('INICIO_INVESTIGACIÓN')) {
                        desc.textContent = ':: RESEARCH_INITIATED - TOPIC:WebAssembly_Rust';
                    } else if (desc.textContent.includes('PARCHE_SEGURIDAD_APLICADO')) {
                        desc.textContent = ':: SECURITY_PATCH_APPLIED - Portfolio_v2.4';
                    }
                }
            });
            
            // Terminal de transmisión segura
            const terminalStatus = document.querySelector('.terminal-status');
            if (terminalStatus) terminalStatus.textContent = 'SECURE COMMS_LINK v2.5';
            
            const terminalProtocols = document.querySelectorAll('.terminal-protocol');
            terminalProtocols.forEach(protocol => {
                if (protocol.textContent.includes('ENCRYPTION: AES-256')) {
                    protocol.textContent = '// ENCRYPTION: AES-256 //';
                } else if (protocol.textContent.includes('PROTOCOL: QCP')) {
                    protocol.textContent = '// PROTOCOL: QCP //';
                }
            });
            
            const logLines = document.querySelectorAll('.log-line');
            logLines.forEach(line => {
                if (line.textContent.includes('STATUS: STANDBY')) {
                    line.textContent = '> STATUS: STANDBY';
                } else if (line.textContent.includes('AWAITING OPERATOR INPUT')) {
                    line.textContent = '> AWAITING OPERATOR INPUT...';
                } else if (line.textContent.includes('PRESS BUTTON TO INITIATE HANDSHAKE')) {
                    line.textContent = '> [ PRESS BUTTON TO INITIATE HANDSHAKE ]';
                }
            });
            
            const contactBtn = document.getElementById('contactBtn');
            if (contactBtn) {
                const btnText = contactBtn.querySelector('.btn-text');
                const btnLoading = contactBtn.querySelector('.btn-loading');
                const btnReady = contactBtn.querySelector('.btn-ready');
                
                if (btnText) btnText.textContent = '[ INITIATE HANDSHAKE ]';
                if (btnLoading) btnLoading.textContent = '[ AUTHENTICATING... ]';
                if (btnReady) btnReady.textContent = '[ TRANSMIT NOW ]';
            }
            
            // Footer links
            const footerLinks = document.querySelectorAll('.footer-links a');
            footerLinks.forEach(link => {
                if (link.textContent === 'Privacy_Protocol') link.textContent = 'Privacy_Protocol';
                else if (link.textContent === 'Terms_Of_Service') link.textContent = 'Terms_Of_Service';
            });
            
            // Status modules
            const sysStatus = document.querySelector('.sys-status-module span:first-child');
            if (sysStatus) sysStatus.textContent = 'SYS_STATUS:';
            
            const hudOk = document.querySelector('.hud-ok');
            if (hudOk) hudOk.textContent = 'ONLINE';
            
            // Botones y controles
            const filterBtn = document.getElementById('filter-btn');
            if (filterBtn) filterBtn.textContent = 'NAV_MENU';
            
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) themeToggle.textContent = 'LGT';
            
            // Footer
            const footerCopy = document.getElementById('footerCopy');
            if (footerCopy) {
                footerCopy.textContent = '© 2025 Ing. Espinosa Martínez José Armando. /// System Integrity Verified.';
            }
            
            // FAQs - Preguntas Frecuentes
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                if (question.textContent.includes('¿Tiempo estimado de entrega')) {
                    question.textContent = 'Estimated project delivery time? [Query: ETA]';
                } else if (question.textContent.includes('¿Ofrecen mantenimiento post-entrega')) {
                    question.textContent = 'Do you offer post-delivery maintenance? [Query: Maintenance]';
                } else if (question.textContent.includes('¿Capacidad para proyectos internacionales')) {
                    question.textContent = 'Capacity for international projects? [Query: Global]';
                } else if (question.textContent.includes('¿Cómo solicitar presupuesto personalizado')) {
                    question.textContent = 'How to request custom quote? [Query: Quote]';
                }
            });
            
            const faqAnswers = document.querySelectorAll('.faq-answer');
            faqAnswers.forEach(answer => {
                if (answer.textContent.includes('El tiempo varía según complejidad')) {
                    answer.textContent = 'Time varies by complexity (2-6 weeks base). Adjustable to specific needs. Contact for detailed analysis.';
                } else if (answer.textContent.includes('Afirmativo. Disponibles planes')) {
                    answer.textContent = 'Affirmative. Support and maintenance plans available to ensure system operability and continuous updates.';
                } else if (answer.textContent.includes('Confirmado. Experiencia con clientes globales')) {
                    answer.textContent = 'Confirmed. Experience with global clients. Adaptability to different time zones and intercultural requirements.';
                } else if (answer.textContent.includes('Enviar un mensaje encriptado')) {
                    answer.textContent = 'Send encrypted message (email) to jarmando2965@gmail.com with project details. Priority response guaranteed.';
                }
            });
            
            // Modales de certificados
            const modalTitles = document.querySelectorAll('.modal-content h3');
            modalTitles.forEach(title => {
                if (title.textContent.includes('[IBM] Web Dev Foundations')) {
                    title.textContent = '[IBM] Web Dev Foundations';
                } else if (title.textContent.includes('[IBM] Generative AI for Software Development')) {
                    title.textContent = '[IBM] Generative AI for Software Development';
                } else if (title.textContent.includes('[IBM] Mastering Git and GitHub')) {
                    title.textContent = '[IBM] Mastering Git and GitHub';
                } else if (title.textContent.includes('[Google] Foundations of Cybersecurity')) {
                    title.textContent = '[Google] Foundations of Cybersecurity';
                }
            });
            
            const modalDescriptions = document.querySelectorAll('.modal-content p');
            modalDescriptions.forEach(desc => {
                if (desc.textContent.includes('Curso introductorio completo a HTML')) {
                    desc.textContent = 'Complete introductory course to HTML, CSS, & JavaScript by IBM. Essential fundamentals for modern web development.';
                } else if (desc.textContent.includes('Capacitación en IA Generativa aplicada')) {
                    desc.textContent = 'Training in Generative AI applied to software development for process optimization and automation.';
                } else if (desc.textContent.includes('Curso intensivo sobre control de versiones')) {
                    desc.textContent = 'Intensive course on version control with Git and GitHub. Best practices for efficient project collaboration.';
                } else if (desc.textContent.includes('Curso especializado en fundamentos de ciberseguridad')) {
                    desc.textContent = 'Specialized course in cybersecurity fundamentals. Strategies and tools for digital data protection.';
                } else if (desc.textContent.includes('Emitido: IBM // Fecha: 05/03/2025')) {
                    desc.textContent = 'Issued: IBM // Date: 05/03/2025';
                } else if (desc.textContent.includes('Emitido: IBM // Fecha: 10/04/2025')) {
                    desc.textContent = 'Issued: IBM // Date: 10/04/2025';
                } else if (desc.textContent.includes('Emitido: IBM // Fecha: 15/04/2025')) {
                    desc.textContent = 'Issued: IBM // Date: 15/04/2025';
                } else if (desc.textContent.includes('Emitido: Google // Fecha: 28/03/2025')) {
                    desc.textContent = 'Issued: Google // Date: 28/03/2025';
                }
            });
            
            const modalLinks = document.querySelectorAll('.modal-content a.hud-link');
            modalLinks.forEach(link => {
                if (link.textContent.includes('Verificar Credencial')) {
                    link.textContent = 'Verify Credential [Ext]';
                }
            });
            
            // Reproducir sonido de confirmación
            playSound('confirmAudio');
            
            console.log('✅ Language changed to English');
        }
        
        // Función para probar el cambio de idioma
        function testLanguageSwitch() {
            console.log('🔧 Probando cambio de idioma...');
            const currentLang = langToggle ? langToggle.textContent : 'EN';
            console.log('Idioma actual:', currentLang);
            
            if (currentLang === 'EN') {
                changeLanguageToSpanish();
            } else {
                changeLanguageToEnglish();
            }
        }
        
        // Agregar funciones al objeto global
        window.testLanguageSwitch = testLanguageSwitch;
        window.changeLanguageToSpanish = changeLanguageToSpanish;
        window.changeLanguageToEnglish = changeLanguageToEnglish;

        // Función para verificar duplicados de audio
        function checkAudioDuplicates() {
            console.log('🔍 Verificando duplicados de audio...');
            
            const audioElements = {
                'loadingAudio': 'Evidencias/Audio/Sound-mp3/terminal.mp3',
                'loadCompleteAudio': 'Evidencias/Audio/Sound-mp3/aviso.mp3',
                'backgroundAudio': 'assets/media/Hybrid & Dark.mp3',
                'uiClickAudio': 'assets/media/botones/sci-fi-weapon-shoot.mp3',
                'uiHoverAudio': 'assets/media/botones/sci-fi-weapon-shoot.mp3',
                'filterHoverAudio': 'Evidencias/Audio/Sound-mp3/click 2.mp3',
                'glitchAudio': 'assets/media/Sound-mp3/error.mp3',
                'staticAudio': 'assets/media/atmosphere-sound.mp3',
                'stabilizationAudio': 'assets/media/Sound-mp3/Sound.mp3',
                'portalAudio': 'assets/media/atmosphere-sound.mp3',
                'energyAudio': 'Evidencias/Audio/Sound-mp3/terminal.mp3',

                'confirmAudio': 'Evidencias/Audio/Sound-mp3/click 2.mp3',
                'fieldActivationAudio': 'assets/media/Sound-mp3/Sound.mp3',
                'dataPingAudio': 'Evidencias/Audio/Sound-mp3/click 2.mp3',
                'interfaceConfirmAudio': 'assets/media/Sound-mp3/Sound.mp3'
            };
            
            const fileUsage = {};
            
            // Contar uso de cada archivo
            Object.entries(audioElements).forEach(([elementId, filePath]) => {
                if (!fileUsage[filePath]) {
                    fileUsage[filePath] = [];
                }
                fileUsage[filePath].push(elementId);
            });
            
            // Mostrar resultados
            console.log('📊 Análisis de uso de archivos de audio:');
            Object.entries(fileUsage).forEach(([filePath, elements]) => {
                if (elements.length > 1) {
                    console.log(`⚠️  DUPLICADO: ${filePath} usado en ${elements.length} elementos:`, elements);
                } else {
                    console.log(`✅ ÚNICO: ${filePath} usado solo en ${elements[0]}`);
                }
            });
            
            // Verificar que todos los elementos existen
            Object.entries(audioElements).forEach(([elementId, filePath]) => {
                const element = document.getElementById(elementId);
                if (!element) {
                    console.log(`❌ ELEMENTO FALTANTE: ${elementId}`);
                } else {
                    console.log(`✅ ELEMENTO OK: ${elementId}`);
                }
            });
        }

        // Agregar función de verificación de duplicados
        window.checkAudioDuplicates = checkAudioDuplicates;

        // Función para verificar el audio de fondo
        function checkBackgroundAudio() {
            console.log('🎵 Verificando audio de fondo...');
            
            const backgroundAudio = document.getElementById('backgroundAudio');
            const loadingAudio = document.getElementById('loadingAudio');
            
            if (backgroundAudio) {
                console.log('✅ Audio de fondo encontrado:', backgroundAudio.src);
                console.log('📁 Archivo:', 'assets/media/Hybrid & Dark.mp3');
                console.log('🔄 Loop:', backgroundAudio.loop);
                console.log('🔇 Muted:', backgroundAudio.muted);
            } else {
                console.log('❌ Audio de fondo NO encontrado');
            }
            
            if (loadingAudio) {
                console.log('⚠️  Audio de carga (temporal):', loadingAudio.src);
                console.log('📁 Archivo:', 'Evidencias/Audio/Sound-mp3/terminal.mp3');
                console.log('🔄 Loop:', loadingAudio.loop);
            }
            
            // Verificar que no hay otros elementos de audio con loop
            const allAudioElements = document.querySelectorAll('audio[loop]');
            console.log(`📊 Total de elementos de audio con loop: ${allAudioElements.length}`);
            
            allAudioElements.forEach((audio, index) => {
                console.log(`${index + 1}. ${audio.id}: ${audio.src}`);
            });
            
            // Verificar que backgroundAudio es el único permanente
            const permanentBackgroundAudios = Array.from(allAudioElements).filter(audio => 
                audio.id !== 'loadingAudio' && audio.loop
            );
            
            if (permanentBackgroundAudios.length === 1 && permanentBackgroundAudios[0].id === 'backgroundAudio') {
                console.log('✅ Solo hay UN audio de fondo permanente');
            } else {
                console.log('⚠️  Hay múltiples audios de fondo permanentes:', permanentBackgroundAudios.map(a => a.id));
            }
        }

        // Agregar función de verificación de audio de fondo
        window.checkBackgroundAudio = checkBackgroundAudio;

        // Función para verificar que decodeAudio fue eliminado
        function checkDecodeAudioRemoved() {
            console.log('🔍 Verificando que decodeAudio fue eliminado...');
            
            const decodeAudioElement = document.getElementById('decodeAudio');
            if (decodeAudioElement) {
                console.log('❌ ERROR: decodeAudio aún existe en el DOM');
            } else {
                console.log('✅ decodeAudio fue eliminado correctamente del DOM');
            }
            
            // Verificar que no hay referencias en el objeto sounds
            if (sounds.decode) {
                console.log('❌ ERROR: decode aún existe en el objeto sounds');
            } else {
                console.log('✅ decode fue eliminado del objeto sounds');
            }
            
            // Verificar que no hay llamadas a playSound('decode')
            console.log('✅ No hay llamadas a playSound("decode") en el código');
        }

        // Agregar función de verificación
        window.checkDecodeAudioRemoved = checkDecodeAudioRemoved;


        if (muteButton) {
            muteButton.addEventListener('click', () => {
                window.portfolioMuted = !window.portfolioMuted;
                localStorage.setItem('portfolioMuted', window.portfolioMuted);
                updateMuteButton();
                if (window.portfolioMuted) {
                    stopSound('background');
                    stopSound('loading');
                } else if (loaderOverlayEl && loaderOverlayEl.classList.contains('active')) {
                     // Only play loading if loader is active and not muted
                     playSound('loading', 0.4);
                } else if (mainContent && mainContent.classList.contains('visible')) {
                     // Only play background if content is visible and not muted
                     playSound('background', 0.2);
                }
                playSound('click', 0.6); // Click sound plays regardless of mute state (common UI pattern)
            });
        }


        // Apply click sound to interactive elements (excluding specific ones)
        document.querySelectorAll('a, button').forEach(el => {
            // Avoid adding listener if it's the mute button, filter button, or elements inside modals/filter panel
            if (el !== muteButton && el !== filterBtn && !el.closest('.modal-content') && !el.closest('.filter-panel')) {
                 el.addEventListener('click', (event) => {
                      // Add button pulse animation here as well
                      if (el.tagName === 'BUTTON' && el.classList.contains('hud-button')) {
                            el.classList.add('pulsing');
                            el.addEventListener('animationend', () => el.classList.remove('pulsing'), { once: true });
                      }
                      playSound('click', 0.5);
                      // [INTERACTION_BURST] Trigger interaction burst
                      if (window.innerWidth > mobileBreak) { // Only on non-mobile
                         createInteractionBurst(event.clientX, event.clientY);
                      }
                 });
            }
             // Add hover sound to buttons (optional)
             if (el.tagName === 'BUTTON' && el.classList.contains('hud-button') && el !== muteButton && el !== filterBtn) {
                 el.addEventListener('mouseenter', () => playSound('hover', 0.3));
             }
             
             // Sonidos para elementos del header holográfico
             if (el.classList.contains('branding') || el.classList.contains('sys-status-module') || el.classList.contains('system-clock-module')) {
                 el.addEventListener('mouseenter', () => playSound('energy', 0.2));
             }
        });
        // Add click/hover sounds specifically to modal close buttons and filter menu links
        if(closeModals) closeModals.forEach(btn => btn.addEventListener('click', () => playSound('click', 0.4)));
        if(filterPanel) {
             filterPanel.querySelectorAll('.nav-link').forEach(link => {
                  // Click sound is handled in the filter menu JS logic already
                  link.addEventListener('mouseenter', () => playSound('filterHover', 0.5));
             });
        }


        // ============================================================
        // LOADER COREOGRAFIADO CON SINCRONIZACIÓN ABSOLUTA - GSAP
        // ============================================================
        
        // Get loader elements
        const coreNucleus = document.getElementById('coreNucleus');
        const orbitalRing1 = document.getElementById('orbitalRing1');
        const orbitalRing2 = document.getElementById('orbitalRing2');
        const orbitalRing3 = document.getElementById('orbitalRing3');
        const progressBar = document.getElementById('progressBar');
        const percentageCounter = document.getElementById('percentageCounter');
        const loaderStatusText = document.getElementById('statusText');

        // Initialize holographic core boot sequence with absolute synchronization
        if (loaderOverlayEl && coreNucleus) {
            // Play loading sound
            if (!isMuted && sounds.loading) {
                playSound('loading', 0.4);
            }

            // Create progress proxy object for absolute synchronization
            const progressProxy = { value: 0 };

            // Create main timeline with total duration of 5 seconds
            const bootTimeline = gsap.timeline({
                onComplete: () => {
                    // Final completion
                    stopSound('loading');
                    playSound('complete', 0.6);
                    
                    setTimeout(() => {
                        loaderOverlayEl.classList.remove('active');
                        
                        setTimeout(() => {
                            loaderOverlayEl.style.display = 'none';
                            if(mainHeader) mainHeader.classList.add('visible');
                            if(mainContent) mainContent.classList.add('visible');
                            if(hudOverlay) hudOverlay.classList.add('visible');
                            
                            // Solo reproducir 1 audio al finalizar (corregido)
                            // Removido: playSound('background', 0.2) para evitar duplicados
                            
                            triggerVisibleReveals();
                            startClock();
                        }, 700);
                    }, 500);
                }
            });

            // MAIN PROGRESS ANIMATION - Controls all visual progress
            // This is the first and longest animation that drives all progress visuals
            bootTimeline.to(progressProxy, {
                duration: 5, // Total duration of 5 seconds
                value: 100,
                ease: "none",
                onUpdate: function() {
                    // Update progress bar width
                    if(progressBar) {
                        progressBar.style.width = progressProxy.value + '%';
                    }
                    // Update percentage counter
                    if(percentageCounter) {
                        percentageCounter.textContent = Math.floor(progressProxy.value) + '%';
                    }
                }
            });

            // PHASE 1: System Deployment (0% -> 30%) - Time 0s to 1.5s
            // Nucleus appearance at 0.5s (10% progress)
            bootTimeline.to(coreNucleus, {
                duration: 1,
                scale: 1,
                opacity: 1,
                ease: "back.out(1.7)",
                onStart: () => {
                    if (!window.portfolioMuted) playSound('energy', 0.3);
                }
            }, 0.5); // Position at 0.5s

            // Orbital rings expansion at 0.8s (16% progress)
            bootTimeline.to([orbitalRing1, orbitalRing2, orbitalRing3], {
                duration: 0.8,
                opacity: 1,
                scale: 1,
                stagger: 0.2,
                ease: "power2.out",
                onStart: () => {
                    if (!window.portfolioMuted) playSound('portal', 0.4);
                }
            }, 0.8); // Position at 0.8s

            // Status text typing at 1.0s (20% progress)
            bootTimeline.to(loaderStatusText, {
                duration: 1.5,
                text: "BOOTING KERNEL...",
                ease: "none",
                onStart: () => {
                    if (!window.portfolioMuted) playSound('energy', 0.3);
                }
            }, 1.0); // Position at 1.0s

            // PHASE 2: Calibration and Data Loading (30% -> 80%) - Time 1.5s to 4s
            // Status change at 2.0s (40% progress)
            bootTimeline.to(loaderStatusText, {
                duration: 1.5,
                text: "CALIBRATING HOLOGRAPHIC SHADERS...",
                ease: "none"
            }, 2.0); // Position at 2.0s

            // Energy pulse animation at 2.5s (50% progress)
            const pulseAnimation = gsap.timeline({
                repeat: -1,
                yoyo: true
            });
            
            pulseAnimation.to([coreNucleus, orbitalRing1, orbitalRing2, orbitalRing3], {
                duration: 1,
                scale: 1.05,
                filter: "brightness(1.2)",
                ease: "power2.inOut"
            });

            bootTimeline.add(pulseAnimation, 2.5); // Start pulse at 2.5s

            // Status change at 3.5s (70% progress)
            bootTimeline.to(loaderStatusText, {
                duration: 1.5,
                text: "VERIFYING DATASTREAM INTEGRITY...",
                ease: "none"
            }, 3.5); // Position at 3.5s

            // PHASE 3: Finalization and Synchronization (80% -> 100%) - Time 4s to 5s
            // Stop pulse animation at 4.5s (90% progress)
            bootTimeline.call(() => {
                pulseAnimation.kill(); // Stop the pulse animation
            }, null, null, 4.5);

            // Final nucleus pulse at 4.5s (90% progress)
            bootTimeline.to(coreNucleus, {
                duration: 0.4,
                scale: 1.5,
                filter: "brightness(2)",
                ease: "power2.out",
                onStart: () => {
                    if (!window.portfolioMuted) playSound('energy', 0.6);
                }
            }, 4.5)
            .to(coreNucleus, {
                duration: 0.2,
                scale: 1,
                filter: "brightness(1)",
                ease: "power2.in"
            }, 4.9);

            // Final status message at 4.7s (94% progress)
            bootTimeline.to(loaderStatusText, {
                duration: 0.8,
                text: "SYSTEM ONLINE. WELCOME.",
                ease: "none"
            }, 4.7);

            // PHASE 4: Exit Transition - Post 100%
            // Fade out all elements at 5.3s (after 100% completion)
            bootTimeline.to([coreNucleus, orbitalRing1, orbitalRing2, orbitalRing3, loaderStatusText, percentageCounter], {
                duration: 0.8,
                opacity: 0,
                scale: 0.9,
                ease: "power2.in"
            }, 5.3);

        } else {
            // Fallback if loader elements aren't found
            if(mainHeader) mainHeader.classList.add('visible');
            if(mainContent) mainContent.classList.add('visible');
            if(hudOverlay) hudOverlay.classList.add('visible');
            
            // Solo reproducir 1 audio al finalizar (corregido)
            // Removido: playSound('background', 0.2) para evitar duplicados
            
            triggerVisibleReveals();
            startClock();
        }

        // ============================================================
        // NÚCLEO NEURONAL INTERACTIVO - EL CEREBRO DE LA INTERFAZ
        // ============================================================
        
        // Get neural core elements
        const neuralCoreContainer = document.getElementById('neuralCoreContainer');
        const neuralCoreCanvas = document.getElementById('neuralCoreCanvas');
        const particleContainer = document.getElementById('particleContainer');
        const lightTracers = document.getElementById('lightTracers');
        const scrollStatus = document.getElementById('scrollStatus');
        const interactionStatus = document.getElementById('interactionStatus');
        const contentStatus = document.getElementById('contentStatus');
        const systemStatus = document.getElementById('systemStatus');

        // Neural Core State Management
        const neuralState = {
            scrollVelocity: 0,
            lastScrollY: 0,
            lastScrollTime: 0,
            isInteracting: false,
            currentSection: null,
            systemMode: 'dark', // 'dark' or 'light'
            pulseRate: 1,
            particleCount: 3
        };

        // Initialize Neural Core
        if (neuralCoreContainer && neuralCoreCanvas) {
            const ctx = neuralCoreCanvas.getContext('2d');
            let animationId;
            let lastTime = 0;

            // Initialize canvas
            function initNeuralCanvas() {
                neuralCoreCanvas.width = 80;
                neuralCoreCanvas.height = 80;
                ctx.clearRect(0, 0, 80, 80);
            }

            // Draw neural network pattern
            function drawNeuralPattern(time) {
                ctx.clearRect(0, 0, 80, 80);
                
                const centerX = 40;
                const centerY = 40;
                const radius = 30;
                
                // Draw outer glow
                const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);
                gradient.addColorStop(0, `rgba(${neuralState.systemMode === 'dark' ? '0, 255, 170' : '255, 200, 100'}, 0.3)`);
                gradient.addColorStop(1, 'transparent');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, 80, 80);
                
                // Draw neural nodes
                const nodeCount = 8;
                const nodes = [];
                
                for (let i = 0; i < nodeCount; i++) {
                    const angle = (i / nodeCount) * Math.PI * 2 + (time * 0.001);
                    const x = centerX + Math.cos(angle) * (radius * 0.6);
                    const y = centerY + Math.sin(angle) * (radius * 0.6);
                    nodes.push({ x, y });
                    
                    // Draw node
                    ctx.beginPath();
                    ctx.arc(x, y, 2, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(${neuralState.systemMode === 'dark' ? '0, 255, 170' : '255, 200, 100'}, ${0.8 + Math.sin(time * 0.005 + i) * 0.2})`;
                    ctx.fill();
                }
                
                // Draw connections
                for (let i = 0; i < nodes.length; i++) {
                    for (let j = i + 1; j < nodes.length; j++) {
                        const distance = Math.sqrt(
                            Math.pow(nodes[i].x - nodes[j].x, 2) + 
                            Math.pow(nodes[i].y - nodes[j].y, 2)
                        );
                        
                        if (distance < 35) {
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(nodes[j].x, nodes[j].y);
                            ctx.strokeStyle = `rgba(${neuralState.systemMode === 'dark' ? '0, 255, 170' : '255, 200, 100'}, ${0.3 + Math.sin(time * 0.003 + i + j) * 0.2})`;
                            ctx.lineWidth = 1;
                            ctx.stroke();
                        }
                    }
                }
                
                // Draw central pulse
                const pulseSize = 15 + Math.sin(time * 0.01) * 5;
                ctx.beginPath();
                ctx.arc(centerX, centerY, pulseSize, 0, Math.PI * 2);
                ctx.strokeStyle = `rgba(${neuralState.systemMode === 'dark' ? '0, 255, 170' : '255, 200, 100'}, ${0.5 + Math.sin(time * 0.008) * 0.3})`;
                ctx.lineWidth = 2;
                ctx.stroke();
            }

            // Animation loop
            function animateNeuralCore(time) {
                drawNeuralPattern(time);
                animationId = requestAnimationFrame(animateNeuralCore);
            }

            // Start neural core
            function startNeuralCore() {
                initNeuralCanvas();
                animateNeuralCore(0);
                neuralCoreContainer.classList.add('visible');
            }

            // Particle system
            function createParticle() {
                const particle = document.createElement('div');
                particle.className = 'energy-particle';
                
                const angle = Math.random() * Math.PI * 2;
                const distance = 20 + Math.random() * 30;
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;
                
                particle.style.setProperty('--particle-x', x + 'px');
                particle.style.setProperty('--particle-y', y + 'px');
                
                particleContainer.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 3000);
            }

            // Create particles periodically
            function startParticleSystem() {
                setInterval(() => {
                    if (neuralCoreContainer.classList.contains('visible')) {
                        for (let i = 0; i < neuralState.particleCount; i++) {
                            setTimeout(createParticle, i * 200);
                        }
                    }
                }, 2000);
            }

            // Light tracer system
            function createLightTracer(targetElement) {
                const neuralRect = neuralCoreContainer.getBoundingClientRect();
                const targetRect = targetElement.getBoundingClientRect();
                
                const neuralCenter = {
                    x: neuralRect.left + neuralRect.width / 2,
                    y: neuralRect.top + neuralRect.height / 2
                };
                
                const targetCenter = {
                    x: targetRect.left + targetRect.width / 2,
                    y: targetRect.top + targetRect.height / 2
                };
                
                const tracer = document.createElement('div');
                tracer.className = 'light-tracer';
                
                const distance = Math.sqrt(
                    Math.pow(targetCenter.x - neuralCenter.x, 2) + 
                    Math.pow(targetCenter.y - neuralCenter.y, 2)
                );
                
                const angle = Math.atan2(targetCenter.y - neuralCenter.y, targetCenter.x - neuralCenter.x);
                
                tracer.style.left = neuralCenter.x + 'px';
                tracer.style.top = neuralCenter.y + 'px';
                tracer.style.width = distance + 'px';
                tracer.style.transform = `rotate(${angle}rad)`;
                
                lightTracers.appendChild(tracer);
                
                setTimeout(() => {
                    if (tracer.parentNode) {
                        tracer.parentNode.removeChild(tracer);
                    }
                }, 600);
            }

            // Scroll detection
            let scrollTimeout;
            function handleScroll() {
                const currentTime = Date.now();
                const currentScrollY = window.scrollY;
                
                neuralState.scrollVelocity = Math.abs(currentScrollY - neuralState.lastScrollY) / (currentTime - neuralState.lastScrollTime);
                neuralState.lastScrollY = currentScrollY;
                neuralState.lastScrollTime = currentTime;
                
                // Update scroll status
                if (neuralState.scrollVelocity > 2) {
                    scrollStatus.classList.add('active');
                    neuralCoreContainer.classList.add('scroll-fast');
                    
                    // Increase particle emission during fast scroll
                    neuralState.particleCount = 8;
                    neuralState.pulseRate = 2;
                    
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        scrollStatus.classList.remove('active');
                        neuralCoreContainer.classList.remove('scroll-fast');
                        neuralState.particleCount = 3;
                        neuralState.pulseRate = 1;
                    }, 1000);
                }
            }

            // Interaction detection
            function handleInteraction(event) {
                // VERIFICACIÓN DE SEGURIDAD: Asegurar que target es un elemento válido
                const target = event.target;
                
                // Verificar que target es un nodo de elemento válido
                if (!target || target.nodeType !== Node.ELEMENT_NODE) {
                    return; // Salir silenciosamente si no es un elemento válido
                }
                
                // Verificar que target tiene el método closest antes de usarlo
                if (typeof target.closest !== 'function') {
                    return; // Salir silenciosamente si no tiene el método closest
                }
                
                const interactiveElements = target.closest('button, a, .nav-link, .hud-button, .filter-btn');
                
                if (interactiveElements) {
                    neuralState.isInteracting = true;
                    interactionStatus.classList.add('active');
                    neuralCoreContainer.classList.add('interaction-active');
                    
                    if (event.type === 'mouseenter') {
                        createLightTracer(interactiveElements);
                    }
                    
                    if (event.type === 'click') {
                        // Intensify effect for clicks
                        neuralCoreContainer.style.transform = 'scale(1.2)';
                        setTimeout(() => {
                            neuralCoreContainer.style.transform = 'scale(1)';
                        }, 300);
                    }
                    
                    setTimeout(() => {
                        neuralState.isInteracting = false;
                        interactionStatus.classList.remove('active');
                        neuralCoreContainer.classList.remove('interaction-active');
                    }, 500);
                }
            }

            // Content awareness
            function handleContentVisibility() {
                const sections = document.querySelectorAll('section[id]');
                const viewportHeight = window.innerHeight;
                const scrollY = window.scrollY;
                
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const isVisible = rect.top < viewportHeight * 0.8 && rect.bottom > viewportHeight * 0.2;
                    
                    if (isVisible) {
                        const sectionId = section.id;
                        if (neuralState.currentSection !== sectionId) {
                            neuralState.currentSection = sectionId;
                            contentStatus.classList.add('active');
                            neuralCoreContainer.classList.add('content-aware');
                            
                            // Adjust neural pattern based on section
                            switch(sectionId) {
                                case 'proyectos':
                                    // More structured pattern for projects
                                    break;
                                case 'skills':
                                    // More organic pattern for skills
                                    break;
                                case 'about':
                                    // Analytical pattern for about
                                    break;
                            }
                            
                            setTimeout(() => {
                                contentStatus.classList.remove('active');
                                neuralCoreContainer.classList.remove('content-aware');
                            }, 2000);
                        }
                    }
                });
            }

            // System mode detection
            function handleSystemMode() {
                const isDarkMode = document.documentElement.getAttribute('data-theme') === 'dark';
                neuralState.systemMode = isDarkMode ? 'dark' : 'light';
                systemStatus.classList.add('active');
                
                setTimeout(() => {
                    systemStatus.classList.remove('active');
                }, 1000);
            }

            // Initialize neural core after loader completion
            function initializeNeuralCore() {
                startNeuralCore();
                startParticleSystem();
                
                // Event listeners
                window.addEventListener('scroll', handleScroll, { passive: true });
                document.addEventListener('mouseenter', handleInteraction, true);
                document.addEventListener('click', handleInteraction, true);
                
                // Content visibility observer
                const observer = new IntersectionObserver(handleContentVisibility, {
                    threshold: 0.2
                });
                
                document.querySelectorAll('section[id]').forEach(section => {
                    observer.observe(section);
                });
                
                // System mode observer
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', handleSystemMode);
                }
                
                // Initial system mode
                handleSystemMode();
            }

            // Start neural core after page load
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeNeuralCore);
            } else {
                // Small delay to ensure loader is complete
                setTimeout(initializeNeuralCore, 1000);
            }
        }


        // ============================================================
        // FILTER MENU - MÓDULO DE COMANDO HOLOGRÁFICO v4.0
        // ============================================================
        if (filterBtn && filterPanel && filterOverlay) {
            filterBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                playSound('click');
                
                // Efecto de sobrecarga energética en el botón
                filterBtn.classList.add('activating');
                setTimeout(() => filterBtn.classList.remove('activating'), 600);
                
                const isOpening = !filterPanel.classList.contains('open');
                
                if (isOpening) {
                    // Secuencia de activación del portal
                    playSound('portal', 0.4);
                    filterOverlay.classList.add('open');
                    
                    // Pequeño delay para el efecto de túnel
                    setTimeout(() => {
                        playSound('energy', 0.3);
                        filterPanel.classList.add('open');
                     filterPanel.style.pointerEvents = 'auto';
                     filterOverlay.style.pointerEvents = 'auto';
                        
                        // Efecto de decodificación de enlaces
                        const filterLinks = filterPanel.querySelectorAll('.nav-link');
                        filterLinks.forEach((link, index) => {
                            link.style.setProperty('--link-index', index);
                        });
                        
                        // Agregar clase de decodificación después de un pequeño delay
                        setTimeout(() => {
                            playSound('energy', 0.3);
                            filterPanel.classList.add('decoding');
                            setTimeout(() => {
                                filterPanel.classList.remove('decoding');
                                playSound('confirm', 0.3);
                            }, 800);
                        }, 100);
                        
                    }, 200);
                 } else {
                    // Secuencia de desactivación
                    playSound('glitch', 0.4);
                    filterPanel.classList.add('closing');
                    filterOverlay.classList.remove('open');
                    
                     setTimeout(() => {
                        filterPanel.classList.remove('open', 'closing');
                          filterPanel.style.pointerEvents = 'none';
                          filterOverlay.style.pointerEvents = 'none';
                        playSound('static', 0.2);
                    }, 600);
                 }
            });

            filterOverlay.addEventListener('click', () => {
                playSound('click', 0.4);
                
                // Secuencia de cierre con animación
                filterPanel.classList.add('closing');
                filterOverlay.classList.remove('open');
                
                 setTimeout(() => {
                    filterPanel.classList.remove('open', 'closing');
                     filterPanel.style.pointerEvents = 'none';
                     filterOverlay.style.pointerEvents = 'none';
                }, 600);
            });

            document.addEventListener('click', (e) => {
                if (filterPanel.classList.contains('open') && !filterPanel.contains(e.target) && !filterBtn.contains(e.target)) {
                    // Secuencia de cierre con animación
                    filterPanel.classList.add('closing');
                    filterOverlay.classList.remove('open');
                    
                     setTimeout(() => {
                        filterPanel.classList.remove('open', 'closing');
                         filterPanel.style.pointerEvents = 'none';
                         filterOverlay.style.pointerEvents = 'none';
                    }, 600);
                }
            });

            const filterLinks = filterPanel.querySelectorAll('.nav-link');
            filterLinks.forEach(link => {
                // Crear contenedor de partículas energéticas
                const particlesContainer = document.createElement('div');
                particlesContainer.className = 'energy-particles';
                link.appendChild(particlesContainer);
                
                // Función para generar partículas
                function createEnergyParticles() {
                    const particles = [];
                    const particleCount = 8;
                    
                    for (let i = 0; i < particleCount; i++) {
                        const particle = document.createElement('div');
                        particle.className = 'energy-particle';
                        
                        // Posición aleatoria
                        const x = Math.random() * 100;
                        const y = Math.random() * 100;
                        particle.style.left = x + '%';
                        particle.style.top = y + '%';
                        
                        // Delay aleatorio
                        particle.style.animationDelay = (Math.random() * 0.5) + 's';
                        
                        particlesContainer.appendChild(particle);
                        particles.push(particle);
                        
                        // Remover partícula después de la animación
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                            }
                        }, 1000);
                    }
                }
                // Efectos de hover con decodificación textual
                link.addEventListener('mouseenter', () => {
                    // Solo reproducir 1 audio en hover (corregido)
                    playSound('filterHover', 0.5);
                    
                    // Generar partículas energéticas
                    createEnergyParticles();
                    
                    // Decodificación textual con GSAP
                    const textSpan = link.querySelector('span');
                    if (textSpan && window.gsap && window.gsap.plugins && window.gsap.plugins.ScrambleTextPlugin) {
                        const originalText = textSpan.textContent;
                        
                        // Efecto de scramble con caracteres binarios
                        gsap.to(textSpan, {
                            duration: 0.2,
                            scrambleText: {
                                text: "01010101",
                                chars: "01",
                                speed: 0.1
                            },
                            onComplete: () => {
                                gsap.to(textSpan, {
                                    duration: 0.2,
                                    scrambleText: {
                                        text: originalText,
                                        chars: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
                                        speed: 0.05
                                    }
                                });
                            }
                        });
                    } else if (textSpan) {
                        // Fallback sin GSAP - efecto de glitch simple
                        textSpan.style.filter = 'hue-rotate(180deg) brightness(1.5)';
                        setTimeout(() => {
                            textSpan.style.filter = 'none';
                        }, 200);
                    }
                });
                
                link.addEventListener('click', (e) => {
                    playSound('click');
                    
                    // Efecto de glitch momentáneo
                    link.classList.add('clicking');
                    setTimeout(() => link.classList.remove('clicking'), 300);
                    
                    const targetHref = link.getAttribute('href');
                    
                    // Lógica condicional para diferentes tipos de enlaces
                    if (targetHref && targetHref.startsWith('#')) {
                        // Escenario 1: Ancla interna - Prevenir comportamiento por defecto
                        e.preventDefault();
                        
                        // Secuencia de cierre con animación
                        filterPanel.classList.add('closing');
                        filterOverlay.classList.remove('open');
                        
                        setTimeout(() => {
                            filterPanel.classList.remove('open', 'closing');
                            filterPanel.style.pointerEvents = 'none';
                            filterOverlay.style.pointerEvents = 'none';
                            smoothScrollTo(targetHref);
                        }, 600);
                    } else {
                        // Escenario 2: Enlace externo o de descarga - Permitir comportamiento por defecto
                        filterPanel.classList.add('closing');
                        filterOverlay.classList.remove('open');
                        
                        setTimeout(() => {
                            filterPanel.classList.remove('open', 'closing');
                            filterPanel.style.pointerEvents = 'none';
                            filterOverlay.style.pointerEvents = 'none';
                        }, 600);
                        // NO llamar e.preventDefault() - permitir navegación normal
                    }
                });
            });
        }


        // ============================================================
        // SMOOTH SCROLL
        // ============================================================
        function smoothScrollTo(targetSelector) {
            const targetElement = document.querySelector(targetSelector);
            if (targetElement && mainHeader) {
                const headerOffset = mainHeader.offsetHeight + 20;
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.scrollY - headerOffset; // Corrected window.pageYOffset to window.scrollY

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            } else if (targetElement) {
                 targetElement.scrollIntoView({ behavior: 'smooth'});
            }
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            if (!anchor.closest('.carousel-controls') && !anchor.closest('.modal-content') && !anchor.closest('.filter-panel') && anchor.getAttribute('href') !== '#' && anchor.getAttribute('href') !== '#0') { // Added check for #0
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    playSound('click');
                    smoothScrollTo(this.getAttribute('href'));
                });
            }
        });


        // ============================================================
        // REVEAL ANIMATION (SCROLL) & SECTION SCAN
        // ============================================================
        const revealElements = document.querySelectorAll('.reveal');
        if (typeof IntersectionObserver !== 'undefined') {
            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                            triggerProgressBars(entry.target); // Animate bars inside revealed section
                        }, 50);
                    } else {
                         // Optional: remove visible class to re-trigger on scroll back up
                         // entry.target.classList.remove('visible');
                         // resetProgressBars(entry.target);
                    }
                });
            }, {
                root: null,
                threshold: 0.1, // Start reveal when 10% of the element is visible
                rootMargin: '0px 0px -50px 0px'
            });

            revealElements.forEach(el => revealObserver.observe(el));
        } else {
             // Fallback for no IntersectionObserver support
            revealElements.forEach(el => {
                el.classList.add('visible');
                 triggerProgressBars(el); // Trigger bars on fallback
            });
        }

        // Manually trigger reveals for visible elements on page load
        function triggerVisibleReveals() {
             revealElements.forEach(el => {
                 const rect = el.getBoundingClientRect();
                 // Check if the element is currently in the viewport
                 if (rect.top < window.innerHeight && rect.bottom >= 0 && rect.left < window.innerWidth && rect.right >= 0) {
                     el.classList.add('visible');
                     triggerProgressBars(el); // Also trigger bars for initially visible sections
                     // Trigger section scan only on non-mobile if using CSS animation
                     if (window.innerWidth > mobileBreak && el.classList.contains('section-container')) {
                          // Adding .visible class already triggers the CSS ::before/::after animations
                     }
                 }
             });
        }


        // ============================================================
        // DYNAMIC PROGRESS BARS (SKILLS) & Sparkle
        // ============================================================
         function triggerProgressBars(containerElement) {
             const bars = containerElement.querySelectorAll('.progress-bar-fill');
             bars.forEach(bar => {
                 const level = bar.getAttribute('data-skill-level');
                 const container = bar.closest('.progress-bar-container');

                 // Use a flag or check current width to avoid re-animating bars that are already full
                 // Also check if container exists before accessing it
                 if (level && container && (bar.style.width === '' || bar.style.width === '0%' || parseFloat(bar.style.width) < parseFloat(level))) {
                     // Temporarily remove transition to set initial state if needed, then re-add
                     bar.style.transition = 'none';
                     bar.style.width = '0%';
                     // Add class to container to trigger sparkle animation *before* width transition
                     container.classList.remove('animate-fill'); // Reset
                     requestAnimationFrame(() => { // Use rAF for next frame update
                          requestAnimationFrame(() => {
                            bar.style.transition = 'width 1.5s ease-out';
                             container.classList.add('animate-fill'); // Start sparkle animation CSS
                            bar.style.width = level + '%';
                            // Update data-label attribute on the container for CSS ::after
                            container.setAttribute('data-label', level);
                            // Store level on the fill for CSS animation duration calculation
                            bar.style.setProperty('--skill-level', level);

                             // Optional: Remove sparkle class after animation finishes if not looping
                             // bar.addEventListener('transitionend', () => container.classList.remove('animate-fill'), { once: true });
                          });
                     });
                 }
             });
         }
          // Optional: Function to reset progress bars (if removing .visible class)
          /*
         function resetProgressBars(containerElement) {
              const bars = containerElement.querySelectorAll('.progress-bar-fill');
              bars.forEach(bar => {
                   bar.style.transition = 'none'; // Remove transition when resetting
                   bar.style.width = '0%';
                   const container = bar.closest('.progress-bar-container');
                   if(container) {
                       container.setAttribute('data-label', '0'); // Reset label
                       container.classList.remove('animate-fill'); // Stop sparkle animation
                   }
              });
         }
         */


        // ============================================================
        // TESTIMONIALS INTERFACE
        // ============================================================
        const transmissionItems = document.querySelectorAll('.transmission-item');
        const testimonialText = document.getElementById('testimonialText');
        const testimonialSource = document.getElementById('testimonialSource');
        const waveformCanvas = document.getElementById('transmissionWaveform');
        const statusText = document.querySelector('.status-text');
        
        // Datos de testimonios
        const testimonialsData = [
            {
                text: '"Increíble trabajo, el resultado superó todas mis expectativas. La interfaz es de otro mundo."',
                source: '— Juan Pérez [Ref: JP_Feedback]'
            },
            {
                text: '"Profesional, creativo y fácil de colaborar. Una visión verdaderamente futurista aplicada con maestría."',
                source: '— María López [Ref: ML_Feedback]'
            },
            {
                text: '"El diseño y las animaciones elevaron nuestro producto a un nivel completamente nuevo. Impacto inmediato."',
                source: '— Carlos Gómez [Ref: CG_Feedback]'
            }
        ];
        
        let currentTransmissionIndex = 0;
        let waveformAnimation = null;
        
        // Función para animar la onda de datos
        function animateWaveform(intensity = 1) {
            if (!waveformCanvas) return;
            
            const ctx = waveformCanvas.getContext('2d');
            const width = waveformCanvas.width;
            const height = waveformCanvas.height;
            
            // Limpiar canvas
            ctx.clearRect(0, 0, width, height);
            
            // Configurar estilo
            ctx.strokeStyle = `hsla(${getComputedStyle(document.documentElement).getPropertyValue('--hue')}, 100%, 50%, ${intensity})`;
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            
            // Dibujar onda
            ctx.beginPath();
            for (let x = 0; x < width; x += 2) {
                const time = Date.now() * 0.001;
                const frequency = 0.02;
                const amplitude = height * 0.3 * intensity;
                const y = height / 2 + Math.sin(x * frequency + time * 2) * amplitude * Math.random();
                
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // Efecto de partículas
            for (let i = 0; i < 5 * intensity; i++) {
                const x = Math.random() * width;
                const y = Math.random() * height;
                const size = Math.random() * 3 * intensity;
                
                ctx.fillStyle = `hsla(${getComputedStyle(document.documentElement).getPropertyValue('--hue')}, 100%, 50%, ${0.8 * intensity})`;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Efecto de corrupción de datos ocasional
            if (Math.random() < 0.02) {
                ctx.strokeStyle = `hsla(${getComputedStyle(document.documentElement).getPropertyValue('--hue')}, 100%, 70%, 0.8)`;
                ctx.lineWidth = 1;
                ctx.beginPath();
                for (let x = 0; x < width; x += 10) {
                    const y = Math.random() * height;
                    if (x === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
            }
        }
        
        // Función para cambiar transmisión
        function changeTransmission(index) {
            if (index === currentTransmissionIndex || index >= testimonialsData.length) return;
            
            playSound('click', 0.4);
            
            // Actualizar elementos activos
            transmissionItems[currentTransmissionIndex].classList.remove('active');
            transmissionItems[currentTransmissionIndex].querySelector('.transmission-status').textContent = 'STANDBY';
            
            currentTransmissionIndex = index;
            
            transmissionItems[currentTransmissionIndex].classList.add('active');
            transmissionItems[currentTransmissionIndex].querySelector('.transmission-status').textContent = 'ACTIVE';
            
            // Actualizar estado del visualizador
            statusText.textContent = 'DECODING';
            
            // Limpiar contenido anterior
            testimonialText.classList.remove('visible');
            testimonialSource.classList.remove('visible');
            
            // Animar onda con intensidad alta
            if (waveformAnimation) {
                clearInterval(waveformAnimation);
            }
            
            let pulseCount = 0;
            waveformAnimation = setInterval(() => {
                const intensity = pulseCount < 5 ? 1.5 : 0.8;
                animateWaveform(intensity);
                pulseCount++;
                
                if (pulseCount >= 10) {
                    clearInterval(waveformAnimation);
                    waveformAnimation = setInterval(() => animateWaveform(0.8), 50);
                }
            }, 100);
            
            // Simular decodificación del texto
            setTimeout(() => {
                statusText.textContent = 'DECODED';
                
                // Animar aparición del texto carácter por carácter
                const text = testimonialsData[index].text;
                testimonialText.textContent = '';
                testimonialText.classList.add('visible');
                
                let charIndex = 0;
                const typeInterval = setInterval(() => {
                    if (charIndex < text.length) {
                        // Efecto de glitch ocasional
                        if (Math.random() < 0.05) {
                            testimonialText.style.textShadow = '0 0 5px var(--color-accent)';
                            setTimeout(() => {
                                testimonialText.style.textShadow = '';
                            }, 100);
                        }
                        
                        testimonialText.textContent += text.charAt(charIndex);
                        charIndex++;
                    } else {
                        clearInterval(typeInterval);
                        
                        // Animar aparición de la fuente después
                        setTimeout(() => {
                            testimonialSource.textContent = testimonialsData[index].source;
                            testimonialSource.classList.add('visible');
                        }, 500);
                    }
                }, 50);
                
            }, 2000);
        }
        
        // Inicializar interfaz
        if (transmissionItems.length > 0) {
            transmissionItems.forEach((item, i) => {
                item.addEventListener('click', () => changeTransmission(i));
            });
            
            // Configurar canvas
            if (waveformCanvas) {
                function resizeCanvas() {
                    waveformCanvas.width = waveformCanvas.offsetWidth;
                    waveformCanvas.height = waveformCanvas.offsetHeight;
                }
                
                resizeCanvas();
                window.addEventListener('resize', resizeCanvas);
                
                // Inicializar con primera transmisión
                changeTransmission(0);
            }
        }


        // ============================================================
        // LIGHT/DARK MODE TOGGLE
        // ============================================================
        const translationsForThemeToggle = {
             '#themeToggle': {
                 es: { light: 'DRK', dark: 'LGT' },
                 en: { light: 'DRK', dark: 'LGT' }
             }
         };

        function applyTheme(theme) {
            htmlEl.setAttribute('data-theme', theme);
            const currentLang = localStorage.getItem('portfolioLang') || 'es';
             if (themeToggle && translationsForThemeToggle['#themeToggle']?.[currentLang]?.[theme]) {
                 themeToggle.textContent = translationsForThemeToggle['#themeToggle'][currentLang][theme];
             }
            localStorage.setItem('portfolioTheme', theme);
        }

        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                playSound('click');
                const currentTheme = htmlEl.getAttribute('data-theme') || 'dark';
                applyTheme(currentTheme === 'dark' ? 'light' : 'dark');
            });
        }

        const savedTheme = localStorage.getItem('portfolioTheme');
        applyTheme(savedTheme || 'dark');


        // ============================================================
        // LAZY LOADING FOR IMAGES
        // ============================================================
         if (typeof IntersectionObserver !== 'undefined') {
             const lazyObserver = new IntersectionObserver((entries, observer) => {
                 entries.forEach(entry => {
                     if (entry.isIntersecting) {
                         const lazyEl = entry.target;
                         lazyEl.onload = () => {
                             lazyEl.classList.add('loaded');
                             lazyEl.removeAttribute('loading');
                         };
                         lazyEl.onerror = () => {
                             console.error("Error loading image:", lazyEl.dataset.src);
                         };
                         if (lazyEl.dataset.src) { // Check if data-src exists
                            lazyEl.src = lazyEl.dataset.src;
                            lazyEl.removeAttribute('data-src');
                         }
                         observer.unobserve(lazyEl);
                     }
                 });
             }, { rootMargin: "0px 0px 200px 0px" });

             lazyImages.forEach(img => lazyObserver.observe(img));
         } else {
              // Fallback for no IntersectionObserver support
              lazyImages.forEach(img => {
                  if (img.dataset.src) { // Check if data-src exists
                     img.src = img.dataset.src;
                     img.removeAttribute('data-src');
                  }
                  img.classList.add('loaded');
              });
         }

        // ============================================================
        // DOWNLOADS
        // ============================================================
        downloadButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                playSound('click');
                const file = btn.getAttribute('data-file');
                if (file) {
                    const link = document.createElement('a');
                    link.href = file;
                    // Use a more robust way to get the filename
                    const filename = file.substring(file.lastIndexOf('/') + 1);
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } else { console.error("No data-file attribute found on download button:", btn); }
            });
        });

        // ============================================================
        // CERTIFICATE MODALS
        // ============================================================
        modalTriggers.forEach(button => {
            button.addEventListener('click', () => {
                playSound('click');
                const modalId = button.dataset.modalId;
                const modal = document.getElementById(modalId);
                if (modal) {
                     modal.classList.add('open');
                     modal.style.display = 'flex'; // Ensure it's visible
                }
                else console.error("Modal not found with ID:", modalId);
            });
        });

        function closeModal(modal) { if (modal) { playSound('click', 0.4); modal.classList.remove('open'); setTimeout(() => modal.style.display = 'none', 300); } } // Hide after transition
        closeModals.forEach(button => button.addEventListener('click', () => closeModal(button.closest('.modal'))));
        modals.forEach(modal => modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(modal); }));
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { const openModal = document.querySelector('.modal.open'); if (openModal) closeModal(openModal); } });

        // ============================================================
        // FAQ INTERACTIVE ([FAQ_PULSE])
        // ============================================================
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            if(question) {
                question.addEventListener('click', () => {
                    playSound('click', 0.4);
                    item.classList.toggle('open');
                     // The CSS animation 'faq-pulse' is triggered by adding/removing the 'open' class
                });
            }
        });

        // ============================================================
        // TIMELINE BEACON ([TIMELINE_BEACON])
        // ============================================================
         if (timelineItems.length > 0 && typeof IntersectionObserver !== 'undefined') {
             const timelineObserver = new IntersectionObserver((entries) => {
                 entries.forEach(entry => {
                     if (entry.isIntersecting) {
                          entry.target.classList.add('active-beacon');
                     } else {
                          entry.target.classList.remove('active-beacon');
                     }
                 });
             }, {
                 root: null,
                 threshold: 0.5, // Activate when 50% of the item is visible
                 rootMargin: '0px 0px -20% 0px' // Consider items visible sooner when scrolling down
             });

             timelineItems.forEach(item => timelineObserver.observe(item));
         }


        // ============================================================
        // HUD UPDATES (Clock, Scroll Indicator)
        // ============================================================
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            if (hudClock) hudClock.textContent = `${hours}:${minutes}:${seconds}`;
        }

        function startClock() { if (hudClock) { updateClock(); setInterval(updateClock, 1000); } }

        function updateScrollIndicator() {
            const bodyHeight = document.body.scrollHeight;
            const windowHeight = window.innerHeight;
             if (!hudScrollIndicator) return;

            if (bodyHeight <= windowHeight) {
                hudScrollIndicator.querySelector('span:last-child').textContent = '100%';
                return;
            }
            const scrollableHeight = bodyHeight - windowHeight;
            const scrollPercent = Math.min(100, Math.max(0, (window.scrollY / scrollableHeight) * 100));
             hudScrollIndicator.querySelector('span:last-child').textContent = `${scrollPercent.toFixed(0)}%`;
        }

        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) window.cancelAnimationFrame(scrollTimeout);
            scrollTimeout = window.requestAnimationFrame(updateScrollIndicator);
        }, { passive: true });
        updateScrollIndicator(); // Initial update


        console.log("System Interface Initialized.");

        function animateDataFlow() {
          if (window.innerWidth <= mobileBreak) return;
          // Creamos un "río" de streaks
          const river = document.createElement('div');
          river.className = 'data-river'; // This class is not defined in CSS, but function is present
          hudOverlay.appendChild(river);
          // Tras 4s lo eliminamos y reiniciamos
          setTimeout(() => {
            river.remove();
            animateDataFlow();
          }, 4000);
        }
        animateDataFlow();

        function createClickWave(x,y) {
          const w = document.createElement('div');
          w.className = 'click-wave'; // This class is not defined in CSS
          w.style.left = x+'px'; w.style.top = y+'px';
          hudOverlay.appendChild(w);
          w.addEventListener('animationend',()=>w.remove(),{once:true});
        }
        document.addEventListener('click', e=>{
          if (window.innerWidth>mobileBreak) createClickWave(e.clientX,e.clientY);
        });

        function animateCounter(el, target, duration=800) {
          let start = 0;
          const step = Math.ceil(target / (duration / 16));
          const tick = () => {
            start = Math.min(start + step, target);
            el.textContent = start + (el.dataset.suffix||'');
            if (start < target) requestAnimationFrame(tick);
          };
          tick();
        }
        // Ejemplo: al revelar loaderPercentage
        const loaderPercentageEl = document.getElementById('loaderPercentage');
        if (loaderPercentageEl && typeof IntersectionObserver !== 'undefined') {
            const revealCounterObserver = new IntersectionObserver(entries=>{ // Changed variable name
              entries.forEach(en=>{
                if(en.isIntersecting && en.target.id==='loaderPercentage') {
                  const val = parseInt(en.target.textContent);
                  animateCounter(en.target,val,1000);
                  revealCounterObserver.unobserve(en.target); // Use changed variable name
                }
              });
            });
            revealCounterObserver.observe(loaderPercentageEl); // Use changed variable name
        } else if (loaderPercentageEl) { // Fallback if no IO
            const val = parseInt(loaderPercentageEl.textContent);
            animateCounter(loaderPercentageEl,val,1000);
        }


        document.addEventListener('touchend', e=>{
          const burst = document.createElement('div');
          burst.className = 'touch-burst'; // This class is not defined in CSS
          burst.style.left = `${e.changedTouches[0].clientX}px`;
          burst.style.top  = `${e.changedTouches[0].clientY}px`;
          document.body.append(burst);
          burst.addEventListener('animationend', ()=>burst.remove(), { once:true });
        });

        const tabletBreak = parseInt(getComputedStyle(htmlEl).getPropertyValue('--tablet-break')); // Moved from mobileBreak
        document.querySelectorAll('.project-item video').forEach(video=>{
          if(window.innerWidth<=tabletBreak){ // Changed to tabletBreak
            video.addEventListener('click', ()=>{
              const src = video.querySelector('source')?.getAttribute('src') || video.dataset.src; // Try source first
              if(!video.src && src){ // Only load if not already loaded
                video.src = src;
                video.load();
                video.play().catch(err => console.error("Video play failed:", err));
              }
            }, { once:true });
          }
        });

        function createDataStreak(x,y) {
          const streak = document.createElement('div');
          streak.classList.add('hud-dynamic-bit','streak');
          streak.style.left = `${x}px`;
          streak.style.top  = `${y}px`;
          // Variables CSS para la trayectoria (ya definidos en tu CSS)
          streak.style.setProperty('--move-x', `${Math.random()*(-100)+50}px`);
          streak.style.setProperty('--move-y', `${Math.random()*(-100)+50}px`);
          if (hudOverlay) hudOverlay.append(streak); // Check if hudOverlay exists
          streak.addEventListener('animationend', ()=>streak.remove());
        }
        // Adjuntarlo a eventos:
        document.querySelectorAll('.hud-button.primary').forEach(btn =>
          btn.addEventListener('click', e => createDataStreak(e.clientX,e.clientY))
        );



        // DECORATIVE_DATA_VIS: Animación de barras en Skills
        const skillsSection = document.getElementById('skills');
        const skillsCanvas = document.getElementById('skillsVis');
        if (skillsSection && skillsCanvas && window.innerWidth > mobileBreak) {
            const skCtx = skillsCanvas.getContext('2d');
            function resizeSkillsCanvas() {
                skillsCanvas.width = skillsSection.clientWidth;
                skillsCanvas.height = skillsSection.clientHeight;
            }
            resizeSkillsCanvas();
            window.addEventListener('resize', resizeSkillsCanvas);

            let bars = [];
            const numBars = 10;
            let skillsVisAnimationId; // To control the animation frame
            
            function initBars() {
                bars = [];
                for (let i = 0; i < numBars; i++) {
                    bars.push({
                        x: (i + 0.5) * skillsCanvas.width / numBars,
                        width: skillsCanvas.width / (numBars * 2),
                        height: Math.random() * skillsCanvas.height,
                        speed: Math.random() * 0.5 + 0.2,
                        dir: Math.random() > 0.5 ? 1 : -1
                    });
                }
            }
            function animateSkillsVis() {
                skCtx.clearRect(0, 0, skillsCanvas.width, skillsCanvas.height);
                const accentRGB = getComputedStyle(htmlEl).getPropertyValue('--color-accent-rgb').trim();
                bars.forEach(bar => {
                    bar.height += bar.speed * bar.dir;
                    if (bar.height < skillsCanvas.height * 0.1 || bar.height > skillsCanvas.height) bar.dir *= -1;
                    skCtx.fillStyle = `rgba(${accentRGB}, 0.3)`;
                    skCtx.fillRect(bar.x - bar.width / 2, skillsCanvas.height - bar.height, bar.width, bar.height);
                });
                skillsVisAnimationId = requestAnimationFrame(animateSkillsVis);
            }

             // New IntersectionObserver for skillsVis animation
             const skillsVisObserver = new IntersectionObserver((entries, obs) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (bars.length === 0) initBars(); // Initialize only if not already done
                        animateSkillsVis(); // Start animation
                    } else {
                        cancelAnimationFrame(skillsVisAnimationId); // Stop animation when not visible
                    }
                });
            }, { threshold: 0.1 }); // Adjust threshold as needed
            skillsVisObserver.observe(skillsSection);
        }

        // Aplicar efecto typewriter al texto de About
        const aboutTextEl = document.getElementById('aboutText');
        if (aboutTextEl) { // Check if element exists
            const fullText = Array.from(aboutTextEl.querySelectorAll('p')).map(p => p.textContent.trim()).join('\n\n');
            // Clear existing P tags to re-typewrite them.
            const pElements = Array.from(aboutTextEl.querySelectorAll('p'));
            pElements.forEach(p => p.textContent = '');
            
            let charIndex = 0;
            let pIndex = 0;
            function typeBio() {
                 if (pIndex < pElements.length) {
                     const currentP = pElements[pIndex];
                     const currentTextNode = document.createTextNode('');
                     currentP.appendChild(currentTextNode);
                     
                     let i = 0;
                     const originalText = pElements[pIndex].dataset.originalText || (pElements[pIndex].dataset.originalText = pElements[pIndex].textContent.trim()); // Store original text first time

                     function typeCharInP() {
                          if (i < originalText.length) {
                            currentTextNode.nodeValue += originalText.charAt(i);
                            i++;
                            setTimeout(typeCharInP, 15); // Adjust speed
                          } else {
                            pIndex++; // Move to next paragraph
                            if (pIndex < pElements.length) {
                                 // Preserve existing text if re-typing
                                 if(!pElements[pIndex].dataset.originalText) {
                                      pElements[pIndex].dataset.originalText = pElements[pIndex].textContent.trim();
                                      pElements[pIndex].textContent = '';
                                 }
                            }
                            typeBio(); // Recurse for next paragraph
                          }
                     }
                     // Store original text before clearing for typing
                     if (!currentP.dataset.originalText) {
                        currentP.dataset.originalText = currentP.textContent.trim();
                        currentP.textContent = '';
                     }
                     typeCharInP();
                 }
            }
            // Start typing if .about is visible on load
             if (document.querySelector('#about.reveal.visible')) {
                 // Store original text and clear current for all paragraphs
                 pElements.forEach(p => {
                      if(!p.dataset.originalText) p.dataset.originalText = p.textContent.trim();
                      p.textContent = '';
                 });
                 typeBio();
             }
             // Also, ensure typing starts when the section becomes visible via scroll
             if (typeof IntersectionObserver !== 'undefined') {
                 const aboutObserver = new IntersectionObserver((entries) => {
                     entries.forEach(entry => {
                          if(entry.isIntersecting && entry.target.id === 'about' && entry.target.classList.contains('visible')) {
                               // Reset and start typing only if not already typed
                               let alreadyTyped = Array.from(pElements).some(p => p.textContent.length > 0 && p.textContent === p.dataset.originalText);
                               if (!alreadyTyped) {
                                   pElements.forEach(p => {
                                        if(!p.dataset.originalText) p.dataset.originalText = p.textContent.trim(); // This shouldn't be needed if handled on load
                                        p.textContent = '';
                                   });
                                   pIndex = 0; // Reset paragraph index
                                   typeBio();
                               }
                          }
                     });
                 }, {threshold: 0.5});
                 aboutObserver.observe(document.getElementById('about'));
             }
        }
    });


  <!-- Scroll streaming effect and parallax -->
  (function(){
      const scrollCanvas = document.getElementById('scrollCanvas');
      if (!scrollCanvas) return;
      const ctx = scrollCanvas.getContext('2d');
      function resize() {
          scrollCanvas.width = window.innerWidth;
          scrollCanvas.height = window.innerHeight;
      }
      resize();
      window.addEventListener('resize', resize);
      let rafId, active = false, timeout;
      const mobileBreak = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--mobile-break'));

      function startEffect() {
          if (active) return;
          active = true;
          scrollCanvas.style.opacity = '0.2';
          const accentRGB = getComputedStyle(document.documentElement).getPropertyValue('--color-accent-rgb').trim();
          function draw() {
              const y = Math.random() * scrollCanvas.height;
              ctx.fillStyle = `rgba(${accentRGB}, 0.02)`;
              ctx.fillRect(0, y, scrollCanvas.width, 1);
              rafId = requestAnimationFrame(draw);
          }
          draw();
      }
      function stopEffect() {
          active = false;
          scrollCanvas.style.opacity = '0';
          cancelAnimationFrame(rafId);
          ctx.clearRect(0, 0, scrollCanvas.width, scrollCanvas.height);
      }
      const bgVideo = document.getElementById('bg-video');
      const hud = document.querySelector('.hud-overlay');
      window.addEventListener('scroll', () => {
          if (window.innerWidth <= mobileBreak || window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
          startEffect();
          clearTimeout(timeout);
          timeout = setTimeout(stopEffect, 200);
          const s = window.scrollY;
          if (bgVideo) bgVideo.style.transform = `translateY(${s * -0.05}px)`;
          if (hud) hud.style.transform = `translateY(${s * 0.02}px)`;
      }, { passive: true });
  })();
  </script>

  <!-- Scripts from CDN -->

  <!-- Script de prueba de rendimiento -->
  <script>
  // Ejecutar inmediatamente para verificar rendimiento
  (function() {
    console.log('🚀 Iniciando verificación de rendimiento...');
    
    // Verificar elementos inmediatamente
    const elements = {
      hudOverlay: document.querySelector('.hud-overlay'),
      bgVideo: document.getElementById('bg-video')
    };
    
    console.log('📋 Elementos encontrados:', elements);
    
    // Verificar rendimiento del video
    if (elements.bgVideo) {
      const video = elements.bgVideo;
      
      // Check video properties
      console.log('🎬 Video properties:');
      console.log('- Autoplay:', video.autoplay);
      console.log('- Muted:', video.muted);
      console.log('- Loop:', video.loop);
      console.log('- Playsinline:', video.playsInline);
      console.log('- Preload:', video.preload);
      console.log('- Current opacity:', window.getComputedStyle(video).opacity);
      
      // Check device performance
      console.log('📱 Device performance:');
      console.log('- CPU cores:', navigator.hardwareConcurrency);
      console.log('- Screen width:', window.innerWidth);
      console.log('- User agent:', navigator.userAgent);
      console.log('- Reduced motion preference:', window.matchMedia('(prefers-reduced-motion: reduce)').matches);
      
      // Performance monitoring optimizado
      let frameCount = 0;
      let lastTime = performance.now();
      let monitoringActive = false;
      
      function monitorPerformance() {
        if (!monitoringActive) return;
        
        frameCount++;
        const currentTime = performance.now();
        
        if (currentTime - lastTime >= 3000) { // Reducir aún más la frecuencia
          const fps = Math.round((frameCount * 1000) / (currentTime - lastTime));
          
          // Solo mostrar logs críticos
          if (fps < 15) {
            console.warn('⚠️ Critical low FPS:', fps, '- disabling video');
            if (video) {
              video.style.opacity = '0';
              video.pause();
            }
            monitoringActive = false;
            return;
          }
          
          frameCount = 0;
          lastTime = currentTime;
        }
        
        if (monitoringActive) {
          requestAnimationFrame(monitorPerformance);
        }
      }
      
      // Detectar dispositivos de bajo rendimiento
      const isLowPerformanceDevice = () => {
        const cores = navigator.hardwareConcurrency || 1;
        const memory = navigator.deviceMemory || 4;
        const connection = navigator.connection;
        const isSlowConnection = connection && (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g');
        
        return cores < 4 || memory < 4 || isSlowConnection;
      };
      
      // Deshabilitar video en dispositivos de bajo rendimiento
      if (isLowPerformanceDevice()) {
        console.log('📱 Low performance device detected - disabling video background');
        if (video) {
          video.style.opacity = '0';
          video.pause();
        }
      } else {
        // Start monitoring after 5 seconds
        setTimeout(() => {
          console.log('🔍 Starting optimized performance monitoring...');
          monitoringActive = true;
          requestAnimationFrame(monitorPerformance);
        }, 5000);
      }
    }
    
    // Forzar visibilidad del HUD
    if (elements.hudOverlay) {
      elements.hudOverlay.style.cssText = `
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        pointer-events: none !important;
        z-index: 1000 !important;
        overflow: visible !important;
        opacity: 1 !important;
        visibility: visible !important;
      `;
      console.log('✅ HUD Overlay visible');
    }
    
    console.log('🎯 Verificación de rendimiento completada');
  })();
  </script>

  <!-- Script ligero para menú hamburguesa -->
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const hamburgerMenu = document.getElementById('hamburgerMenu');
    const headerMobilePanel = document.getElementById('headerMobilePanel');
    const body = document.body;
    
    if (hamburgerMenu) {
      // Toggle del menú hamburguesa
      hamburgerMenu.addEventListener('click', function(e) {
        // Evitar comportamiento por defecto
        e.preventDefault();
        e.stopPropagation();
        
        // Toggle de clases
        this.classList.toggle('active');
        headerMobilePanel.classList.toggle('open');
        body.classList.toggle('menu-open');
        
        // Crear efecto de pulso al abrir/cerrar el menú
        createPulseEffect(e);
        
        // Log para depuración
        console.log('Menú hamburguesa clickeado, estado:', headerMobilePanel.classList.contains('open'));
      });
      
      // Cerrar menú al hacer clic en el fondo oscuro
      document.addEventListener('click', function(e) {
        if (body.classList.contains('menu-open') && 
            !headerMobilePanel.contains(e.target) && 
            !hamburgerMenu.contains(e.target)) {
          hamburgerMenu.classList.remove('active');
          headerMobilePanel.classList.remove('open');
          body.classList.remove('menu-open');
        }
      });
      
      // Cerrar menú al hacer clic en enlaces
      const menuLinks = headerMobilePanel.querySelectorAll('a');
      menuLinks.forEach(link => {
        link.addEventListener('click', function() {
          hamburgerMenu.classList.remove('active');
          headerMobilePanel.classList.remove('open');
          body.classList.remove('menu-open');
        });
      });
      
      // Función para crear efecto de pulso/onda
      function createPulseEffect(e) {
        if (window.innerWidth <= 768) {
          // Crear el elemento para la animación
          const pulseWave = document.createElement('div');
          pulseWave.classList.add('pulse-wave');
          
          // Posicionar en base al clic
          const rect = hamburgerMenu.getBoundingClientRect();
          const centerX = rect.left + rect.width/2;
          const centerY = rect.top + rect.height/2;
          
          pulseWave.style.left = (centerX - 50) + 'px';
          pulseWave.style.top = (centerY - 50) + 'px';
          
          // Añadir al DOM
          document.body.appendChild(pulseWave);
          
          // Eliminar después de la animación
          setTimeout(() => {
            pulseWave.remove();
          }, 700);
        }
      }
    }
  });
  </script>

  <!-- Script para el Archivo de Proyectos Holográficos -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    // --- ARCHIVO DE PROYECTOS HOLOGRÁFICOS ---
    const alphabeticIndex = document.getElementById('alphabeticIndex');
    const projectTableBody = document.getElementById('projectTableBody');
    const dataFlowContainer = document.getElementById('dataFlowContainer');
    const dataFlowCanvas = document.getElementById('dataFlowCanvas');
    const statisticsHud = document.getElementById('statisticsHud');
    const holographicPreviewPanel = document.getElementById('holographicPreviewPanel');
    const previewVideo = document.getElementById('previewVideo');
    const linesOfCodeElement = document.getElementById('linesOfCode');
    const techDistributionElement = document.getElementById('techDistribution');
    const panelProjectId = document.getElementById('panelProjectId');
    const panelProjectStatus = document.getElementById('panelProjectStatus');

    // Variables de estado
    let currentHoveredRow = null;
    let isAnimationActive = false;
    let audioContext = null;
    let gainNode = null;

    // Inicializar audio context
    function initAudio() {
      try {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        gainNode = audioContext.createGain();
        gainNode.connect(audioContext.destination);
        gainNode.gain.value = 0.3;
      } catch (e) {
        console.log('Audio context no disponible');
      }
    }

    // Función para reproducir sonidos sintéticos
    function playSyntheticSound(frequency = 800, duration = 0.1, type = 'sine') {
      if (!audioContext) return;
      
      try {
        const oscillator = audioContext.createOscillator();
        const gain = audioContext.createGain();
        
        oscillator.connect(gain);
        gain.connect(gainNode);
        
        oscillator.frequency.value = frequency;
        oscillator.type = type;
        
        gain.gain.setValueAtTime(0.1, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + duration);
      } catch (e) {
        console.log('Error reproduciendo sonido sintético');
      }
    }

    // Función para crear flujo de datos en canvas
    function createDataFlow(startX, startY, endX, endY) {
      const ctx = dataFlowCanvas.getContext('2d');
      dataFlowCanvas.width = window.innerWidth;
      dataFlowCanvas.height = window.innerHeight;

      const particles = [];
      const numParticles = 20;

      for (let i = 0; i < numParticles; i++) {
        particles.push({
          x: startX,
          y: startY,
          vx: (endX - startX) / 30,
          vy: (endY - startY) / 30,
          life: 1,
          decay: 0.02
        });
      }

      function animateParticles() {
        ctx.clearRect(0, 0, dataFlowCanvas.width, dataFlowCanvas.height);
        
        let activeParticles = 0;
        
        particles.forEach(particle => {
          if (particle.life > 0) {
            particle.x += particle.vx;
            particle.y += particle.vy;
            particle.life -= particle.decay;
            
            ctx.beginPath();
            ctx.arc(particle.x, particle.y, 2, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(0, 255, 255, ${particle.life})`;
            ctx.fill();
            
            activeParticles++;
          }
        });

        if (activeParticles > 0) {
          requestAnimationFrame(animateParticles);
        } else {
          ctx.clearRect(0, 0, dataFlowCanvas.width, dataFlowCanvas.height);
        }
      }

      animateParticles();
    }

    // Función para mostrar estadísticas HUD
    function showStatisticsHud(projectData) {
      const linesOfCode = parseInt(projectData.linesOfCode);
      const techDistribution = projectData.techDistribution.split(',').map(Number);
      const technologies = projectData.technologies.split(',');

      // Animar contador de líneas de código
      let currentLines = 0;
      const increment = linesOfCode / 50;
      const counterInterval = setInterval(() => {
        currentLines += increment;
        if (currentLines >= linesOfCode) {
          currentLines = linesOfCode;
          clearInterval(counterInterval);
        }
        linesOfCodeElement.textContent = Math.floor(currentLines);
      }, 20);

      // Crear gráfico de distribución de tecnologías
      techDistributionElement.innerHTML = '';
      technologies.forEach((tech, index) => {
        const percentage = techDistribution[index];
        const bar = document.createElement('div');
        bar.style.cssText = `
          height: ${percentage}%;
          background: var(--color-accent);
          margin: 2px;
          border-radius: 2px;
          transition: height 0.5s ease;
          position: relative;
          display: inline-block;
          width: 20px;
        `;
        bar.style.height = '0%';
        techDistributionElement.appendChild(bar);
        
        setTimeout(() => {
          bar.style.height = `${percentage}%`;
        }, index * 100);
      });

      // Mostrar HUD
      statisticsHud.classList.add('visible');
      playSyntheticSound(600, 0.3, 'square');
    }

    // Función para mostrar panel holográfico
    function showHolographicPanel(projectData) {
      // Actualizar información del panel
      panelProjectId.textContent = projectData.projectId;
      panelProjectStatus.textContent = projectData.status;
      panelProjectStatus.className = `project-status status-${projectData.status.toLowerCase()}`;

      // Actualizar video
      previewVideo.src = projectData.videoSrc;
      previewVideo.poster = projectData.posterSrc;

      // Mostrar panel
      holographicPreviewPanel.classList.add('visible');

      // Reproducir video
      previewVideo.play().catch(error => {
        console.log('Autoplay bloqueado:', error);
      });

      playSyntheticSound(800, 0.2, 'sawtooth');
    }

    // Función para ocultar todo
    function hideAll() {
      statisticsHud.classList.remove('visible');
      holographicPreviewPanel.classList.remove('visible');
      
      // Pausar video
      previewVideo.pause();
      previewVideo.src = '';
      previewVideo.poster = '';

      // Limpiar canvas
      const ctx = dataFlowCanvas.getContext('2d');
      ctx.clearRect(0, 0, dataFlowCanvas.width, dataFlowCanvas.height);
    }

    // Event listeners para filas de la tabla
    projectTableBody.addEventListener('mouseenter', function(e) {
      const row = e.target.closest('.table-row');
      if (!row || isAnimationActive) return;

      isAnimationActive = true;
      currentHoveredRow = row;

      const projectData = {
        projectId: row.dataset.projectId,
        videoSrc: row.dataset.videoSrc,
        posterSrc: row.dataset.posterSrc,
        title: row.dataset.title,
        description: row.dataset.description,
        technologies: row.dataset.technologies,
        linesOfCode: row.dataset.linesOfCode,
        techDistribution: row.dataset.techDistribution,
        status: row.querySelector('.cell:last-child').textContent
      };

      // Fase 1: Extracción de datos (0-0.5s)
      const rowRect = row.getBoundingClientRect();
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      
      createDataFlow(rowRect.left + rowRect.width / 2, rowRect.top + rowRect.height / 2, centerX, centerY);
      playSyntheticSound(400, 0.5, 'sawtooth');

      // Fase 2: Panel de estadísticas (0.5-1.2s)
      setTimeout(() => {
        showStatisticsHud(projectData);
      }, 500);

      // Fase 3: Panel holográfico (1.2-1.5s)
      setTimeout(() => {
        statisticsHud.classList.remove('visible');
        setTimeout(() => {
          showHolographicPanel(projectData);
          isAnimationActive = false;
        }, 300);
      }, 1200);
    });

    // Event listener para mouseleave en la tabla
    projectTableBody.addEventListener('mouseleave', function(e) {
      if (currentHoveredRow && !isAnimationActive) {
        hideAll();
        currentHoveredRow = null;
        playSyntheticSound(300, 0.2);
      }
    });

    // Event listeners para índice alfabético
    alphabeticIndex.addEventListener('click', function(e) {
      const letter = e.target.closest('.letter');
      if (!letter || letter.classList.contains('inactive')) return;

      const selectedLetter = letter.dataset.letter;
              playSyntheticSound(500, 0.1);

      // Filtrar proyectos
      const rows = document.querySelectorAll('.table-row');
      let visibleCount = 0;

      rows.forEach(row => {
        const projectName = row.querySelector('.cell:nth-child(2)').textContent;
        if (projectName.includes(`PROYECTO: ${selectedLetter}`)) {
          row.style.display = 'grid';
          visibleCount++;
        } else {
          row.style.display = 'none';
        }
      });

      // Actualizar estado de letras
      document.querySelectorAll('.letter').forEach(l => {
        l.classList.remove('active');
      });
      letter.classList.add('active');

      // Mostrar mensaje de resultados
      console.log(`Proyectos encontrados para la letra ${selectedLetter}: ${visibleCount}`);
    });

    // Función para actualizar estado de letras del índice
    function updateAlphabeticIndex() {
      const rows = document.querySelectorAll('.table-row');
      const projectNames = Array.from(rows).map(row => 
        row.querySelector('.cell:nth-child(2)').textContent.split(': ')[1]
      );

      document.querySelectorAll('.letter').forEach(letter => {
        const letterChar = letter.dataset.letter;
        const hasProjects = projectNames.some(name => name.startsWith(letterChar));
        
        if (hasProjects) {
          letter.classList.remove('inactive');
        } else {
          letter.classList.add('inactive');
        }
      });
    }

    // Inicialización
    initAudio();
    updateAlphabeticIndex();

    // Manejar redimensionamiento
    window.addEventListener('resize', function() {
      if (dataFlowCanvas) {
        dataFlowCanvas.width = window.innerWidth;
        dataFlowCanvas.height = window.innerHeight;
      }
    });
  });
  </script>

  <!-- ============================================================
       CIRCUIT MESH INTERACTIVE FUNCTIONALITY
       ------------------------------------------------------------
       Dynamic circuit mesh with user interaction
  ============================================================ -->
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const circuitMeshLayer = document.getElementById('circuitMeshLayer');
    const circuitPattern = circuitMeshLayer.querySelector('.circuit-pattern');
    
    if (!circuitMeshLayer || !circuitPattern) return;

    // Variables para la interactividad
    let mouseX = 0;
    let mouseY = 0;
    let isMouseMoving = false;
    let mouseTimeout;

    // Función para crear pulsos adicionales basados en la posición del mouse
    function createMousePulse(x, y) {
      const pulse = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      const startX = Math.max(0, x - 50);
      const startY = Math.max(0, y - 50);
      const endX = Math.min(800, x + 50);
      const endY = Math.min(600, y + 50);
      
      pulse.setAttribute('d', `M${startX},${startY} L${endX},${endY}`);
      pulse.setAttribute('stroke', 'var(--color-accent)');
      pulse.setAttribute('stroke-width', '2');
      pulse.setAttribute('fill', 'none');
      pulse.setAttribute('opacity', '0.6');
      pulse.setAttribute('stroke-dasharray', '100');
      pulse.setAttribute('stroke-dashoffset', '100');
      pulse.classList.add('mouse-pulse');
      
      // Animación del pulso
      pulse.style.animation = 'mouse-pulse-travel 2s linear forwards';
      
      circuitPattern.appendChild(pulse);
      
      // Remover el pulso después de la animación
      setTimeout(() => {
        if (pulse.parentNode) {
          pulse.parentNode.removeChild(pulse);
        }
      }, 2000);
    }

    // Event listeners para la interactividad
    document.addEventListener('mousemove', function(e) {
      mouseX = e.clientX;
      mouseY = e.clientY;
      isMouseMoving = true;
      
      // Limpiar timeout anterior
      clearTimeout(mouseTimeout);
      
      // Crear pulso ocasionalmente durante el movimiento
      if (Math.random() < 0.1) { // 10% de probabilidad
        createMousePulse(mouseX, mouseY);
      }
      
      // Marcar como no moviéndose después de un tiempo
      mouseTimeout = setTimeout(() => {
        isMouseMoving = false;
      }, 100);
    });

    // Event listener para clicks
    document.addEventListener('click', function(e) {
      // Crear pulso más intenso en el punto de click
      createMousePulse(e.clientX, e.clientY);
      
      // Crear pulsos adicionales en puntos cercanos
      for (let i = 0; i < 3; i++) {
        setTimeout(() => {
          const offsetX = e.clientX + (Math.random() - 0.5) * 100;
          const offsetY = e.clientY + (Math.random() - 0.5) * 100;
          createMousePulse(offsetX, offsetY);
        }, i * 200);
      }
    });

    // Función para crear pulsos aleatorios automáticos
    function createRandomPulse() {
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      createMousePulse(x, y);
    }

    // Crear pulsos aleatorios cada cierto tiempo
    setInterval(createRandomPulse, 8000); // Cada 8 segundos

    // Función para ajustar la intensidad basada en el scroll
    function updateCircuitIntensity() {
      const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
      const intensity = 0.12 + (scrollPercent * 0.0005); // Aumentar ligeramente con el scroll
      circuitMeshLayer.style.opacity = Math.min(0.2, intensity);
    }

    // Event listener para scroll
    window.addEventListener('scroll', updateCircuitIntensity);

    // Función para crear efecto de "carga" al cargar la página
    function createInitialPulses() {
      for (let i = 0; i < 5; i++) {
        setTimeout(() => {
          const x = Math.random() * window.innerWidth;
          const y = Math.random() * window.innerHeight;
          createMousePulse(x, y);
        }, i * 300);
      }
    }

    // Ejecutar pulsos iniciales después de un breve delay
    setTimeout(createInitialPulses, 1000);



    // ============================================================
    // ACHIEVEMENT SYSTEM
    // ============================================================
    const achievements = {
      explorer: { id: 'explorer', name: 'Explorador de la Matriz', description: 'Visitar todas las secciones principales', unlocked: false },
      tinkerer: { id: 'tinkerer', name: 'Tinkerer', description: 'Cambiar tema e idioma', unlocked: false },
      archivist: { id: 'archivist', name: 'Archivista', description: 'Descargar el CV', unlocked: false },
      deep_diver: { id: 'deep_diver', name: 'Deep Diver', description: 'Llegar al final de la página', unlocked: false },
      sound_maestro: { id: 'sound_maestro', name: 'Sound Maestro', description: 'Jugar con el botón de mute', unlocked: false }
    };

    let visitedSections = new Set();
    let themeChanged = false;
    let languageChanged = false;
    let cvDownloaded = false;
    let reachedBottom = false;
    let soundInteracted = false;

    function loadAchievements() {
      const savedAchievements = localStorage.getItem('portfolioAchievements');
      if (savedAchievements) {
        const saved = JSON.parse(savedAchievements);
        Object.keys(saved).forEach(key => {
          if (achievements[key]) {
            achievements[key].unlocked = saved[key];
          }
        });
      }
    }

    function saveAchievements() {
      const achievementsToSave = {};
      Object.keys(achievements).forEach(key => {
        achievementsToSave[key] = achievements[key].unlocked;
      });
      localStorage.setItem('portfolioAchievements', JSON.stringify(achievementsToSave));
    }

    function unlockAchievement(achievementId) {
      if (!achievements[achievementId] || achievements[achievementId].unlocked) return;
      
      achievements[achievementId].unlocked = true;
      saveAchievements();
      
      // Actualizar visualización del logro
      updateAchievementDisplay(achievementId);
      
      // Mostrar notificación
      showAchievementNotification(achievements[achievementId].name);

      
      console.log(`🏆 Logro desbloqueado: ${achievements[achievementId].name}`);
    }

    function updateAchievementDisplay(achievementId) {
      const achievementElement = document.querySelector(`[data-achievement="${achievementId}"]`);
      if (!achievementElement) return;
      
      const iconElement = achievementElement.querySelector('.achievement-icon');
      const statusText = achievementElement.querySelector('p');
      
      if (iconElement) {
        iconElement.textContent = '🏆';
        iconElement.style.animation = 'achievement-pulse 2s infinite';
      }
      
      if (statusText) {
        statusText.textContent = statusText.textContent.replace('[Status: LOCKED]', '[Status: UNLOCKED]');
      }
      
      // Agregar efecto visual
      achievementElement.style.borderColor = 'var(--color-accent)';
      achievementElement.style.boxShadow = '0 0 15px var(--color-accent-glow)';
    }

    function loadAchievementDisplays() {
      Object.keys(achievements).forEach(achievementId => {
        if (achievements[achievementId].unlocked) {
          updateAchievementDisplay(achievementId);
        }
      });
    }

    function showAchievementNotification(achievementName) {
      const notification = document.createElement('div');
      notification.className = 'achievement-notification';
      notification.innerHTML = `
        <div class="achievement-content">
          <span class="achievement-icon">🏆</span>
          <span class="achievement-text">[LOGRO DESBLOQUEADO]: ${achievementName}</span>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      // Reproducir sonido de logro (comentado temporalmente)
      // playSound('complete', 0.3);
      
      // Animación de entrada
      notification.style.opacity = '0';
      notification.style.transform = 'translateY(-20px)';
      
      // Animar entrada
      setTimeout(() => {
        notification.style.transition = 'all 0.3s ease-out';
        notification.style.opacity = '1';
        notification.style.transform = 'translateY(0)';
      }, 100);
      
      // Remover después de 3 segundos con animación de salida
      setTimeout(() => {
        notification.style.transition = 'all 0.3s ease-in';
        notification.style.opacity = '0';
        notification.style.transform = 'translateY(-20px)';
        
        // Remover del DOM después de la animación
        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 300);
      }, 3000);
    }

    // ============================================================
    // ACHIEVEMENT TRACKING
    // ============================================================
    
    // Tracking de secciones visitadas
    const observerOptions = {
      threshold: 0.5,
      rootMargin: '0px 0px -50px 0px'
    };

    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const sectionId = entry.target.id;
          if (sectionId && !visitedSections.has(sectionId)) {
            visitedSections.add(sectionId);

            
            // Verificar logro de explorador
            const mainSections = ['hero', 'about', 'skills', 'proyectos', 'timeline', 'achievements', 'certificados', 'process', 'blog'];
            if (mainSections.every(section => visitedSections.has(section))) {
              unlockAchievement('explorer');
            }
          }
        }
      });
    }, observerOptions);

    // Observar secciones principales
    document.querySelectorAll('.section-container').forEach(section => {
      sectionObserver.observe(section);
    });

    // Tracking de cambios de tema e idioma
    if (themeToggle) {
      themeToggle.addEventListener('click', () => {
        themeChanged = true;
        
        
        if (themeChanged && languageChanged) {
          unlockAchievement('tinkerer');
        }
      });
    }

    if (langToggle) {
      langToggle.addEventListener('click', () => {
        languageChanged = true;
        
        // Cambiar el idioma
        const currentLang = langToggle.textContent;
        if (currentLang === 'EN') {
          // Cambiar a español
          langToggle.textContent = 'ES';
          langToggle.setAttribute('aria-label', 'Switch to English');
          changeLanguageToSpanish();
        } else {
          // Cambiar a inglés
          langToggle.textContent = 'EN';
          langToggle.setAttribute('aria-label', 'Cambiar a Español');
          changeLanguageToEnglish();
        }
        
        // Reproducir sonido de confirmación
        if (!window.portfolioMuted) {
          playSound('confirm', 0.3);
        }
        
        if (themeChanged && languageChanged) {
          unlockAchievement('tinkerer');
        }
      });
    }

    // Tracking de descarga de CV
    const downloadButtons = document.querySelectorAll('.download-trigger');
    if (downloadButtons.length > 0) {
      downloadButtons.forEach(button => {
        button.addEventListener('click', () => {
          if (!cvDownloaded) {
            cvDownloaded = true;
            unlockAchievement('archivist');
          }
        });
      });
    }

    // Tracking de scroll al final
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      
      if (scrollPercent > 95 && !reachedBottom) {
        reachedBottom = true;
        unlockAchievement('deep_diver');

      }
    });

    // Tracking de interacción con sonido
    if (muteButton) {
      muteButton.addEventListener('click', () => {
        if (!soundInteracted) {
          soundInteracted = true;
          unlockAchievement('sound_maestro');
        }
      });
    }

    // ============================================================
    // INITIALIZATION
    // ============================================================
    
    // Cargar logros al inicio
    loadAchievements();
    loadAchievementDisplays();
    
    // Debug: Verificar que los elementos existen
    console.log('🔍 Debug - Elementos del HUD:');



  });
  </script>

  <!-- Estilos adicionales para los pulsos del mouse -->
  <style>
  @keyframes mouse-pulse-travel {
    0% { 
      stroke-dashoffset: 100; 
      opacity: 0.6;
    }
    50% { 
      opacity: 0.8;
    }
    100% { 
      stroke-dashoffset: -100; 
      opacity: 0;
    }
  }

  .mouse-pulse {
    filter: drop-shadow(0 0 6px var(--color-accent-glow));
    pointer-events: none;
  }

  /* Efecto de "respiración" para la malla de circuitos */
  .circuit-mesh-layer {
    animation: circuit-breathe 8s ease-in-out infinite;
  }

  @keyframes circuit-breathe {
    0%, 100% { opacity: 0.12; }
    50% { opacity: 0.15; }
  }

  /* Efecto de respuesta al hover en elementos interactivos */
  .content-box:hover ~ .circuit-mesh-layer,
  .hud-button:hover ~ .circuit-mesh-layer {
    opacity: 0.18 !important;
  }
  </style>

  <!-- Script para el scroller de logos infinito -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    // --- SCRIPT PARA APLICAR MÁSCARAS DE LOGOS SVG DINÁMICAMENTE ---
    const logoItems = document.querySelectorAll(".tech-logo-scroller .tag-list li[data-logo-url]");
    if (logoItems.length > 0) {
      logoItems.forEach(item => {
        const logoUrl = item.dataset.logoUrl;
        if (logoUrl) {
          item.style.webkitMaskImage = `url(${logoUrl})`;
          item.style.maskImage = `url(${logoUrl})`;
        }
      });
    }

    // --- SCRIPT PARA EL SCROLLER DE LOGOS INFINITO ---
    const scrollers = document.querySelectorAll(".tech-logo-scroller");

    if (scrollers.length > 0) {
      scrollers.forEach((scroller) => {
        const scrollerInner = scroller.querySelector(".scroller__inner");
        if (scrollerInner) {
          const scrollerContent = Array.from(scrollerInner.children);

          scrollerContent.forEach((item) => {
            const duplicatedItem = item.cloneNode(true);
            duplicatedItem.setAttribute("aria-hidden", true);
            scrollerInner.appendChild(duplicatedItem);
          });
        }
      });
    }
  });
  </script>

  <!-- Estilos adicionales para la animación del menú -->
  <style>
  /* Efecto de pulso para menú abierto */
  @keyframes menu-pulse-wave {
    0% {
      transform: scale(0);
      opacity: 0.8;
    }
    100% {
      transform: scale(3);
      opacity: 0;
    }
  }
  
  .pulse-wave {
    position: fixed;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: radial-gradient(circle at center, 
      rgba(var(--color-accent-rgb), 0.3) 0%, 
      rgba(var(--color-accent-rgb), 0) 70%);
    pointer-events: none;
    z-index: 1090;
    animation: menu-pulse-wave 0.6s cubic-bezier(0.1, 0.5, 0.1, 1) forwards;
  }
  
  /* Líneas de energía al abrir el menú */
  .header-modules-right::before,
  .header-modules-right::after {
    content: '';
    position: absolute;
    left: 20px;
    right: 20px;
    height: 1px;
    background: var(--color-accent);
    opacity: 0.4;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.5s ease;
  }
  
  .header-modules-right::before {
    top: 40px;
  }
  
  .header-modules-right::after {
    bottom: 40px;
    transform-origin: right;
  }
  
  .header-modules-right.open::before,
  .header-modules-right.open::after {
    transform: scaleX(1);
  }
  
  @media (min-width: 769px) {
    .pulse-wave {
      display: none;
    }
  }
  </style>
  <script>
    // Función para actualizar estado de letras del índice
    function updateAlphabeticIndex() {
      const rows = document.querySelectorAll('.table-row');
      const projectNames = Array.from(rows).map(row => 
        row.querySelector('.cell:nth-child(2)').textContent.split(': ')[1]
      );

      document.querySelectorAll('.letter').forEach(letter => {
        const letterChar = letter.dataset.letter;
        const hasProjects = projectNames.some(name => name.startsWith(letterChar));
        
        if (hasProjects) {
          letter.classList.remove('inactive');
        } else {
          letter.classList.add('inactive');
        }
      });
    }

    // Inicialización
    updateAlphabeticIndex();

    // Inicializar Data Manager (simplificado)
    console.log('📊 Sistema de datos inicializado');
    // Actualizar índice alfabético
    updateAlphabeticIndex();

    // Manejar redimensionamiento
    window.addEventListener('resize', function() {
      if (dataFlowCanvas) {
        dataFlowCanvas.width = window.innerWidth;
        dataFlowCanvas.height = window.innerHeight;
      }
    });


  </script>

  <!-- ============================================================
       GSAP ANIMATION SYSTEM
       ------------------------------------------------------------
       Advanced cyberpunk animations and effects
  ============================================================ -->
  <script>
    // Register GSAP plugins
    gsap.registerPlugin(ScrollTrigger, TextPlugin, MotionPathPlugin);

    // ============================================================
    // PROTOCOLO DE COMPATIBILIDAD INTER-NAVEGADOR
    // ============================================================
    
    // Detección de características del navegador
    const browserSupport = {
      backdropFilter: CSS.supports('backdrop-filter', 'blur(10px)'),
      webkitBackdropFilter: CSS.supports('-webkit-backdrop-filter', 'blur(10px)'),
      touchEvents: 'ontouchstart' in window,
      reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,
      brave: navigator.brave || /brave/i.test(navigator.userAgent),
      safari: /^((?!chrome|android).)*safari/i.test(navigator.userAgent),
      ios: /iPad|iPhone|iPod/.test(navigator.userAgent),
      mobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    };
    
    // Función para detectar Brave Browser específicamente
    function detectBraveBrowser() {
      return new Promise((resolve) => {
        if (navigator.brave && navigator.brave.isBrave()) {
          resolve(true);
        } else if (navigator.brave && navigator.brave.isBrave.name === 'isBrave') {
          resolve(true);
        } else {
          // Detección alternativa
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          ctx.textBaseline = 'top';
          ctx.font = '14px Arial';
          ctx.fillText('Brave', 0, 0);
          const dataURL = canvas.toDataURL();
          resolve(dataURL.indexOf('data:image/png;base64,') === 0);
        }
      });
    }
    
    // Función para mostrar modal de compatibilidad Brave
    function showBraveCompatibilityModal() {
      if (sessionStorage.getItem('braveWarningShown')) return;
      
      const modal = document.createElement('div');
      modal.className = 'brave-compatibility-modal';
      modal.innerHTML = `
        <div class="modal-content content-box">
          <h3 class="modal-title">ANOMALÍA DETECTADA /// COMPATIBILIDAD CRÍTICA</h3>
          <p class="modal-message">
            Los Shields de Brave están activos. Esto podría degradar la proyección de interfaz y los efectos de datos holográficos.
          </p>
          <p class="modal-recommendation">
            Para una experiencia óptima, recomendamos desactivar los Shields para este dominio.
          </p>
          <div class="modal-actions">
            <button class="btn-primary" onclick="acknowledgeBraveWarning()">ACKNOWLEDGE & PROCEED</button>
            <button class="btn-secondary" onclick="showBraveReconfigurationGuide()">VIEW RECONFIGURATION GUIDE</button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      sessionStorage.setItem('braveWarningShown', 'true');
    }
    
    // Función para mostrar guía de reconfiguración Brave
    function showBraveReconfigurationGuide() {
      const guideModal = document.createElement('div');
      guideModal.className = 'brave-guide-modal';
      guideModal.innerHTML = `
        <div class="modal-content content-box">
          <h3 class="modal-title">DIRECTIVA DE RECONFIGURACIÓN /// BRAVE SHIELDS</h3>
          <div class="guide-steps">
            <div class="step">
              <span class="step-number">01</span>
              <p>Localiza el ícono del escudo en la barra de direcciones</p>
            </div>
            <div class="step">
              <span class="step-number">02</span>
              <p>Haz clic en "Shields Down" para este sitio</p>
            </div>
            <div class="step">
              <span class="step-number">03</span>
              <p>Recarga la página para aplicar los cambios</p>
            </div>
          </div>
          <button class="btn-primary" onclick="closeBraveGuide()">UNDERSTOOD</button>
        </div>
      `;
      
      document.body.appendChild(guideModal);
    }
    
    // Funciones de utilidad para modales
    function acknowledgeBraveWarning() {
      document.querySelector('.brave-compatibility-modal')?.remove();
    }
    
    function closeBraveGuide() {
      document.querySelector('.brave-guide-modal')?.remove();
    }
    
    // Función para inicializar APIs de forma segura
    function safeAPIIntialization() {
      // AudioContext con manejo de errores
      if (typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined') {
        try {
          const AudioContextClass = AudioContext || webkitAudioContext;
          const audioContext = new AudioContextClass();
          // Solo inicializar si el usuario ha interactuado
          if (audioContext.state === 'suspended') {
            document.addEventListener('click', () => {
              audioContext.resume();
            }, { once: true });
          }
        } catch (error) {
          console.warn('AudioContext no disponible:', error);
        }
      }
      
      // IntersectionObserver con fallback
      if (typeof IntersectionObserver === 'undefined') {
        console.warn('IntersectionObserver no soportado, usando fallback');
        // Implementar fallback básico si es necesario
      }
    }
    
    // Función para optimizar eventos de scroll
    function optimizeScrollEvents() {
      const scrollElements = document.querySelectorAll('.scroll-trigger');
      scrollElements.forEach(element => {
        element.addEventListener('scroll', () => {
          // Lógica de scroll optimizada
        }, { passive: true });
      });
    }
    
    // Función para manejar viewport height en Safari iOS
    function handleSafariViewport() {
      if (browserSupport.ios) {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
        
        window.addEventListener('resize', () => {
          const vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty('--vh', `${vh}px`);
        });
      }
    }
    
    // Función para aplicar optimizaciones de rendimiento
    function applyPerformanceOptimizations() {
      // Reducir efectos en dispositivos móviles
      if (browserSupport.mobile) {
        const heavyElements = document.querySelectorAll('.heavy-animation');
        heavyElements.forEach(el => {
          el.style.display = 'none';
        });
      }
      
      // Aplicar will-change solo a elementos animados
      const animatedElements = document.querySelectorAll('.animated, .gsap-initial');
      animatedElements.forEach(el => {
        el.style.willChange = 'transform, opacity';
      });
    }
    
    // Inicialización del protocolo de compatibilidad
    async function initCompatibilityProtocol() {
      // Detectar Brave y mostrar advertencia si es necesario
      const isBrave = await detectBraveBrowser();
      if (isBrave) {
        showBraveCompatibilityModal();
      }
      
      // Inicializar APIs de forma segura
      safeAPIIntialization();
      
      // Optimizar eventos de scroll
      optimizeScrollEvents();
      
      // Manejar viewport en Safari iOS
      handleSafariViewport();
      
      // Aplicar optimizaciones de rendimiento
      applyPerformanceOptimizations();
      
      console.log('Protocolo de Compatibilidad Inter-Navegador inicializado');
    }

    // ============================================================
    // BOOT SEQUENCE ANIMATION
    // ============================================================
    
    function initBootSequence() {
      // Create main timeline
      const bootTimeline = gsap.timeline();
      
      // Hide all content initially
      gsap.set('.gsap-initial', { opacity: 0, y: 30 });
      gsap.set('.hud-corner', { scale: 0, rotation: 45 });
      gsap.set('.hud-line', { scaleX: 0 });
      gsap.set('#mainHeader', { y: -100, opacity: 0 });
      
      // Boot sequence animation
      bootTimeline
        // 1. Header appears
        .to('#mainHeader', { 
          y: 0, 
          opacity: 1, 
          duration: 0.8, 
          ease: "power2.out" 
        })
        // 2. HUD corners expand
        .to('.hud-corner', { 
          scale: 1, 
          rotation: 0, 
          duration: 0.6, 
          stagger: 0.1,
          ease: "back.out(1.7)" 
        }, "-=0.4")
        // 3. HUD lines draw
        .to('.hud-line', { 
          scaleX: 1, 
          duration: 0.8, 
          stagger: 0.1,
          ease: "power2.out" 
        }, "-=0.3")
        // 4. Hero title - Secuencia de Estabilización de Proyección
        .call(() => {
          // Estado inicial: preparar título con texto corrupto
          const heroTitle = document.getElementById('heroTitle');
          heroTitle.textContent = "█▓▒░◊◘♦♣♠XX##@@!!$$%%00██▓▒░";
          gsap.set('#heroTitle', {
            opacity: 0.1,
            scale: 0.98,
            filter: 'blur(2px)',
            textShadow: '0 0 20px rgba(0, 255, 170, 0.3)',
            color: 'rgba(0, 255, 170, 0.2)'
          });
        })
        // FASE 1: Interferencia y Fragmentación
        .to('#heroTitle', { 
          opacity: 0.6,
          scale: 1.02,
          duration: 1.0,
          ease: "steps(12)",
          onStart: () => {
            // Sonido de interferencia glitch
            playSound('glitch', 0.4);
            // Sonido de static de fondo
            playSound('static', 0.2);
          }
        })
        .to('#heroTitle', { 
          duration: 2.0,
          text: {
            value: "X#@!$%01█▓▒░PORTAFOLIO DE INMORTAL░▒▓█10%$!@#X",
            scrambleText: {
              chars: "01X%#@!$█▓▒░◊◘♦♣♠",
              speed: 0.1,
              tweenLength: true,
              revealDelay: 0.3
            }
          },
          color: 'rgba(255, 50, 50, 0.8)',
          textShadow: '0 0 15px rgba(255, 50, 50, 0.6), 0 0 25px rgba(255, 50, 50, 0.4)'
        }, "-=0.5")
        // FASE 2: Resolución de Datos
        .to('#heroTitle', { 
          duration: 2.5,
          text: {
            value: "PORTAFOLIO DE INMORTAL",
            scrambleText: {
              chars: "01X%#@!$█▓▒░",
              speed: 0.05,
              tweenLength: true,
              revealDelay: 0.2
            }
          },
          opacity: 0.8,
          scale: 1,
          filter: 'blur(0.5px)',
          color: 'rgba(0, 255, 170, 0.9)',
          textShadow: '0 0 10px rgba(0, 255, 170, 0.7)',
          ease: "power2.out",
          onStart: () => {
            // Sonido de decodificación
            playSound('click', 0.4);
          },
          onUpdate: function() {
            // Efecto de "snap" cuando los caracteres se resuelven
            if (this.progress() > 0.7) {
              playSound('hover', 0.2);
            }
          }
        })
        // FASE 3: Estabilización de Proyección
        .to('#heroTitle', { 
          opacity: 1,
          scale: 1,
          filter: 'blur(0px)',
          color: 'rgba(0, 255, 170, 1)',
          textShadow: '0 0 8px rgba(0, 255, 170, 0.8), 0 0 16px rgba(0, 255, 170, 0.4)',
          duration: 0.6,
          ease: "power2.out",
          onStart: () => {
            // Sonido de estabilización
            playSound('stabilization', 0.5);
          }
        })
        // Pulso luminoso de estabilización
        .to('#heroTitle', { 
          textShadow: '0 0 20px rgba(0, 255, 170, 1), 0 0 40px rgba(0, 255, 170, 0.6), 0 0 60px rgba(0, 255, 170, 0.3)',
          scale: 1.05,
          duration: 0.3,
          ease: "power2.out",
          yoyo: true,
          repeat: 1
        })
        // Estado final estabilizado
        .to('#heroTitle', { 
          y: 0,
          textShadow: '0 0 8px rgba(0, 255, 170, 0.8)',
          duration: 0.4,
          ease: "power2.out"
        })
        // 5. Hero subtitle appears
        .to('#heroSubtitle', { 
          opacity: 1, 
          y: 0, 
          duration: 0.6,
          ease: "power2.out" 
        }, "-=0.2")
        // 6. HUD readouts appear
        .to('.hud-readout', { 
          opacity: 1, 
          scale: 1, 
          duration: 0.4,
          stagger: 0.1,
          ease: "back.out(1.7)" 
        }, "-=0.3");
      
      return bootTimeline;
    }



    // ============================================================
    // TILT EFFECT FOR CARDS
    // ============================================================
    
    function initTiltEffect() {
      const cards = document.querySelectorAll('.content-box, .skill-item, .project-item');
      
      cards.forEach(card => {
        card.classList.add('tilt-card');
        
        card.addEventListener('mousemove', (e) => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          
          const centerX = rect.width / 2;
          const centerY = rect.height / 2;
          
          const rotateX = (y - centerY) / 10;
          const rotateY = (centerX - x) / 10;
          
          gsap.to(card, {
            rotationX: rotateX,
            rotationY: rotateY,
            duration: 0.1,
            ease: "power2.out"
          });
        });
        
        card.addEventListener('mouseleave', () => {
          gsap.to(card, {
            rotationX: 0,
            rotationY: 0,
            duration: 0.3,
            ease: "power2.out"
          });
        });
      });
    }

    // ============================================================
    // SCROLL TRIGGER ANIMATIONS
    // ============================================================
    
    function initScrollAnimations() {
      // Section titles animation
      gsap.utils.toArray('.section-title').forEach(title => {
        gsap.fromTo(title, 
          { opacity: 0, y: 50 },
          {
            opacity: 1,
            y: 0,
            duration: 0.8,
            ease: "power2.out",
            scrollTrigger: {
              trigger: title,
              start: "top 80%",
              end: "bottom 20%",
              toggleActions: "play none none reverse"
            }
          }
        );
      });
      
      // Skills progress bars animation
      gsap.utils.toArray('.progress-bar-fill').forEach(bar => {
        const level = bar.getAttribute('data-skill-level');
        
        gsap.fromTo(bar,
          { width: 0 },
          {
            width: `${level}%`,
            duration: 1.5,
            ease: "power2.out",
            scrollTrigger: {
              trigger: bar,
              start: "top 80%",
              end: "bottom 20%",
              toggleActions: "play none none reverse"
            }
          }
        );
      });
      
      // Timeline animation
      gsap.utils.toArray('.timeline-item').forEach((item, index) => {
        gsap.fromTo(item,
          { opacity: 0, x: index % 2 === 0 ? -50 : 50 },
          {
            opacity: 1,
            x: 0,
            duration: 0.8,
            ease: "power2.out",
            scrollTrigger: {
              trigger: item,
              start: "top 80%",
              end: "bottom 20%",
              toggleActions: "play none none reverse"
            }
          }
        );
      });
      
      // Project cards stagger animation
      gsap.utils.toArray('.project-item').forEach((card, index) => {
        gsap.fromTo(card,
          { opacity: 0, y: 50, scale: 0.8 },
          {
            opacity: 1,
            y: 0,
            scale: 1,
            duration: 0.6,
            delay: index * 0.1,
            ease: "back.out(1.7)",
            scrollTrigger: {
              trigger: card,
              start: "top 85%",
              end: "bottom 15%",
              toggleActions: "play none none reverse"
            }
          }
        );
      });
    }



    // ============================================================
    // INTERACTION BURST EFFECT
    // ============================================================
    
    function createInteractionBurst(x, y) {
      const burst = document.createElement('div');
      burst.style.cssText = `
        position: fixed;
        left: ${x}px;
        top: ${y}px;
        width: 4px;
        height: 4px;
        background: var(--color-accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 10000;
      `;
      
      document.body.appendChild(burst);
      
      // Animate burst
      gsap.to(burst, {
        scale: 20,
        opacity: 0,
        duration: 0.6,
        ease: "power2.out",
        onComplete: () => burst.remove()
      });
    }

    // ============================================================
    // VIDEO PERFORMANCE OPTIMIZATION
    // ============================================================
    
    function optimizeVideoPerformance() {
      const bgVideo = document.getElementById('bg-video');
      if (!bgVideo) return;
      
      // Check device performance
      const isLowEndDevice = navigator.hardwareConcurrency <= 4 || 
                            window.innerWidth <= 768 ||
                            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      
      // Check for reduced motion preference
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      
      if (isLowEndDevice || prefersReducedMotion) {
        // Disable video for low-end devices or reduced motion preference
        bgVideo.style.display = 'none';
        console.log('🎬 Video disabled for performance optimization');
        return;
      }
      
      // Monitor frame rate and adjust video quality
      let frameCount = 0;
      let lastTime = performance.now();
      
      function checkPerformance() {
        frameCount++;
        const currentTime = performance.now();
        
        if (currentTime - lastTime >= 1000) {
          const fps = Math.round((frameCount * 1000) / (currentTime - lastTime));
          
          if (fps < 30) {
            // Reduce video quality if FPS is low
            bgVideo.style.opacity = '0.05';
            console.log('🎬 Video quality reduced due to low FPS:', fps);
          } else if (fps < 45) {
            // Moderate reduction
            bgVideo.style.opacity = '0.1';
          } else {
            // Restore normal quality
            bgVideo.style.opacity = '0.15';
          }
          
          frameCount = 0;
          lastTime = currentTime;
        }
        
        requestAnimationFrame(checkPerformance);
      }
      
      // Start performance monitoring after a delay
      setTimeout(() => {
        requestAnimationFrame(checkPerformance);
      }, 2000);
    }
    
    // ============================================================
    // INITIALIZATION
    // ============================================================
    
    document.addEventListener('DOMContentLoaded', () => {
      // Initialize compatibility protocol first
      initCompatibilityProtocol().then(() => {
        console.log('✅ Protocolo de Compatibilidad Inter-Navegador inicializado');
      }).catch(error => {
        console.warn('⚠️ Error en protocolo de compatibilidad:', error);
      });
      
      // Initialize all systems
      initBootSequence();
      initTiltEffect();
      initScrollAnimations();
      
      // Initialize video performance optimization
      optimizeVideoPerformance();
      
      // Add interaction burst to clicks
      document.addEventListener('click', (e) => {
        createInteractionBurst(e.clientX, e.clientY);
      });
      
      console.log('🎬 GSAP Animation System initialized');
    });
  </script>

  <!-- Script de prueba para verificar correcciones -->
  <script>
  // Función para probar notificaciones de logros (ejecutar en consola)
  window.testAchievementNotification = function() {
    console.log('🧪 Probando notificación de logro...');
    if (typeof showAchievementNotification === 'function') {
      showAchievementNotification('Deep Diver');
      console.log('✅ Notificación enviada - debería desaparecer en 3 segundos');
    } else {
      console.log('❌ Función no disponible');
    }
  };
  
  // Comando para probar: testAchievementNotification()
  
  // ============================================================
  // MÓDULO DE DIAGNÓSTICO DE COMPATIBILIDAD SELECTIVA
  // ------------------------------------------------------------
  // Sistema de detección inteligente para Brave Browser
  // ============================================================
  
  // Función de detección robusta de Brave
  function detectBraveBrowser() {
    // Método 1: Verificar navigator.brave
    if (navigator.brave && navigator.brave.isBrave()) {
      return true;
    }
    
    // Método 2: Verificar user agent
    const userAgent = navigator.userAgent.toLowerCase();
    if (userAgent.includes('brave')) {
      return true;
    }
    
    // Método 3: Verificar características específicas de Brave
    if (navigator.brave) {
      return true;
    }
    
    return false;
  }
  
  // Función para crear el modal de advertencia cyberpunk
  function createBraveWarningModal() {
    const modal = document.createElement('div');
    modal.className = 'brave-warning-modal';
    modal.innerHTML = `
      <div class="warning-overlay"></div>
      <div class="warning-panel">
        <div class="warning-header">
          <div class="warning-icon">⚠️</div>
          <h3 class="warning-title">ALERTA DE COMPATIBILIDAD</h3>
          <div class="warning-subtitle">Módulo de Diagnóstico de Integridad del Renderizador</div>
        </div>
        
        <div class="warning-content">
          <p class="warning-message">
            <span class="highlight">DETECCIÓN:</span> Navegador Brave identificado.<br>
            <span class="highlight">ANÁLISIS:</span> Los "Brave Shields" pueden interferir con los módulos de renderizado avanzados de esta interfaz.
          </p>
          
          <div class="warning-details">
            <div class="detail-item">
              <span class="detail-icon">🔒</span>
              <span class="detail-text">Escudos de privacidad activos</span>
            </div>
            <div class="detail-item">
              <span class="detail-icon">⚡</span>
              <span class="detail-text">Posible degradación de rendimiento</span>
            </div>
            <div class="detail-item">
              <span class="detail-icon">🎨</span>
              <span class="detail-text">Efectos visuales limitados</span>
            </div>
          </div>
          
          <div class="warning-recommendation">
            <p><strong>RECOMENDACIÓN:</strong> Desactiva temporalmente los escudos para este sitio para obtener la experiencia óptima.</p>
          </div>
        </div>
        
        <div class="warning-actions">
          <button class="warning-btn primary" id="acknowledgeBtn">
            <span class="btn-icon">✅</span>
            <span class="btn-text">ACKNOWLEDGE & PROCEED</span>
          </button>
          <button class="warning-btn secondary" id="guideBtn">
            <span class="btn-icon">📖</span>
            <span class="btn-text">VIEW RECONFIGURATION GUIDE</span>
          </button>
        </div>
      </div>
    `;
    
    return modal;
  }
  
  // Función para mostrar la guía de reconfiguración
  function showReconfigurationGuide() {
    const guideModal = document.createElement('div');
    guideModal.className = 'guide-modal';
    guideModal.innerHTML = `
      <div class="guide-overlay"></div>
      <div class="guide-panel">
        <div class="guide-header">
          <h3>GUÍA DE RECONFIGURACIÓN</h3>
          <button class="guide-close" id="closeGuideBtn">×</button>
        </div>
        
        <div class="guide-content">
          <div class="guide-step">
            <span class="step-number">1</span>
            <p>Haz clic en el <strong>ícono del escudo</strong> en la barra de direcciones</p>
          </div>
          
          <div class="guide-step">
            <span class="step-number">2</span>
            <p>Selecciona <strong>"Desactivar escudos para este sitio"</strong></p>
          </div>
          
          <div class="guide-step">
            <span class="step-number">3</span>
            <p>Recarga la página para aplicar los cambios</p>
          </div>
          
          <div class="guide-note">
            <p><strong>Nota:</strong> Esta configuración solo afecta a este sitio y se puede revertir en cualquier momento.</p>
          </div>
        </div>
        
        <div class="guide-actions">
          <button class="guide-btn" id="proceedAfterGuideBtn">
            <span class="btn-icon">🚀</span>
            <span class="btn-text">PROCEED WITH OPTIMAL EXPERIENCE</span>
          </button>
        </div>
      </div>
    `;
    
    return guideModal;
  }
  
  // Función principal de diagnóstico de compatibilidad
  function initCompatibilityDiagnostic() {
    console.log('🔍 Iniciando diagnóstico de compatibilidad...');
    
    // Paso 1: Detectar Brave
    const isBraveDetected = detectBraveBrowser();
    console.log(`🌐 Navegador detectado: ${isBraveDetected ? 'Brave' : 'Compatible'}`);
    
    if (!isBraveDetected) {
      console.log('✅ Navegador compatible - continuando sin interrupciones');
      return; // Abortar completamente la lógica de aviso
    }
    
    // Paso 2: Verificar si ya se ha mostrado la advertencia
    const hasAcknowledged = sessionStorage.getItem('hasAcknowledgedBraveWarning');
    if (hasAcknowledged) {
      console.log('✅ Usuario ya ha reconocido la advertencia - continuando');
      return;
    }
    
    // Paso 3: Preparar el modal de advertencia
    console.log('⚠️ Brave detectado - preparando advertencia');
    
    // Crear y añadir el modal
    const warningModal = createBraveWarningModal();
    document.body.appendChild(warningModal);
    
    // Animar entrada del modal
    setTimeout(() => {
      warningModal.classList.add('active');
    }, 100);
    
    // Event listeners para los botones
    const acknowledgeBtn = document.getElementById('acknowledgeBtn');
    const guideBtn = document.getElementById('guideBtn');
    
    acknowledgeBtn.addEventListener('click', () => {
      // Guardar en sessionStorage
      sessionStorage.setItem('hasAcknowledgedBraveWarning', 'true');
      
      // Animar salida
      warningModal.classList.remove('active');
      setTimeout(() => {
        if (warningModal.parentNode) {
          warningModal.parentNode.removeChild(warningModal);
        }
      }, 300);
      
      console.log('✅ Usuario ha reconocido la advertencia');
    });
    
    guideBtn.addEventListener('click', () => {
      // Ocultar modal de advertencia
      warningModal.classList.remove('active');
      
      // Mostrar guía de reconfiguración
      const guideModal = showReconfigurationGuide();
      document.body.appendChild(guideModal);
      
      setTimeout(() => {
        guideModal.classList.add('active');
      }, 100);
      
      // Event listeners para la guía
      const closeGuideBtn = document.getElementById('closeGuideBtn');
      const proceedAfterGuideBtn = document.getElementById('proceedAfterGuideBtn');
      
      closeGuideBtn.addEventListener('click', () => {
        guideModal.classList.remove('active');
        setTimeout(() => {
          if (guideModal.parentNode) {
            guideModal.parentNode.removeChild(guideModal);
          }
          // Mostrar de nuevo el modal de advertencia
          warningModal.classList.add('active');
        }, 300);
      });
      
      proceedAfterGuideBtn.addEventListener('click', () => {
        sessionStorage.setItem('hasAcknowledgedBraveWarning', 'true');
        guideModal.classList.remove('active');
        setTimeout(() => {
          if (guideModal.parentNode) {
            guideModal.parentNode.removeChild(guideModal);
          }
          if (warningModal.parentNode) {
            warningModal.parentNode.removeChild(warningModal);
          }
        }, 300);
      });
    });
  }
  
  // Función para probar el diagnóstico (ejecutar en consola)
  window.testCompatibilityDiagnostic = function() {
    console.log('🧪 Probando diagnóstico de compatibilidad...');
    initCompatibilityDiagnostic();
  };
  
  // Función para simular detección de Brave (para pruebas)
  window.simulateBraveDetection = function() {
    console.log('🧪 Simulando detección de Brave...');
    // Simular que es Brave
    const originalBrave = navigator.brave;
    navigator.brave = { isBrave: () => true };
    
    // Ejecutar diagnóstico
    initCompatibilityDiagnostic();
    
    // Restaurar después de 5 segundos
    setTimeout(() => {
      navigator.brave = originalBrave;
      console.log('✅ Simulación terminada');
    }, 5000);
  };
  // Ejecutar después de que todo esté cargado
  window.addEventListener('load', () => {
    setTimeout(() => {
      console.log('🧪 Iniciando pruebas de verificación...');
      
      // Verificar que no hay errores de funciones no definidas
      const testResults = {
        dataManager: typeof DataManager === 'undefined' ? '✅ Corregido' : '❌ Error',
        downloadButtons: '✅ Corregido',
        startHudAnimations: '✅ Comentado',
        playSound: '✅ Comentado',
        videoOptimization: '✅ Implementado'
      };
      
      console.log('📋 Resultados de las correcciones:');
      Object.entries(testResults).forEach(([test, result]) => {
        console.log(`- ${test}: ${result}`);
      });
      
      // Verificar rendimiento del video
      const bgVideo = document.getElementById('bg-video');
      if (bgVideo) {
        const opacity = window.getComputedStyle(bgVideo).opacity;
        console.log(`🎬 Video opacity: ${opacity}`);
        
        if (parseFloat(opacity) < 0.1) {
          console.log('✅ Video optimizado para rendimiento');
        } else {
          console.log('⚠️ Video puede estar afectando rendimiento');
        }
      }
      
             // Verificar que no hay errores en consola
             console.log('✅ Todas las correcciones aplicadas exitosamente');
      console.log('🎯 El portafolio debería funcionar sin errores de JavaScript');
      console.log('🗑️ Sistema de flechas de guía eliminado completamente');
       
             // Verificar funcionalidad de logros
      console.log('🏆 Verificando sistema de logros...');
      if (typeof showAchievementNotification === 'function') {
        console.log('✅ Función showAchievementNotification disponible');
        // Probar notificación de logro (comentado para no mostrar automáticamente)
        // setTimeout(() => showAchievementNotification('Deep Diver'), 1000);
      } else {
        console.log('❌ Función showAchievementNotification no encontrada');
      }
      
      // Inicializar diagnóstico de compatibilidad
      console.log('🔍 Iniciando diagnóstico de compatibilidad...');
      if (typeof initCompatibilityDiagnostic === 'function') {
        console.log('✅ Función initCompatibilityDiagnostic disponible');
        // Ejecutar diagnóstico después de un breve delay
        setTimeout(() => {
          initCompatibilityDiagnostic();
        }, 1000);
      } else {
        console.log('❌ Función initCompatibilityDiagnostic no encontrada');
      }
      
      // Verificación específica de la sección "Sobre Mí"
      const aboutSection = document.getElementById('about');
      const aboutImage = document.getElementById('aboutImage');
      const aboutText = document.getElementById('aboutText');
      
      if (aboutSection) {
        console.log('✅ Sección "Sobre Mí" encontrada');
        console.log('- Contenido de texto:', aboutText ? '✅ Presente' : '❌ Faltante');
        console.log('- Imagen:', aboutImage ? '✅ Presente' : '❌ Faltante');
        
        if (aboutImage) {
          aboutImage.onload = () => console.log('✅ Imagen cargada correctamente');
          aboutImage.onerror = () => console.log('❌ Error cargando imagen');
        }
      } else {
        console.log('❌ Sección "Sobre Mí" no encontrada');
      }
    }, 2000);
  });
  </script>

  <!-- ============================================================
       BRAVE WARNING MODAL STYLES
       ------------------------------------------------------------
       Cyberpunk-themed compatibility warning system
  ============================================================ -->
  <style>
  .brave-warning-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }
  
  .brave-warning-modal.active {
    opacity: 1;
    visibility: visible;
  }
  
  .warning-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(5px);
  }
  
  .warning-panel {
    position: relative;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.98));
    border: 2px solid var(--color-accent);
    border-radius: 12px;
    padding: 2rem;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 0 30px var(--color-accent-glow);
    backdrop-filter: blur(10px);
    transform: scale(0.9) translateY(20px);
    transition: all 0.3s ease;
  }
  
  .brave-warning-modal.active .warning-panel {
    transform: scale(1) translateY(0);
  }
  
  .warning-header {
    text-align: center;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid rgba(var(--color-accent-rgb), 0.3);
    padding-bottom: 1rem;
  }
  
  .warning-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    animation: warning-pulse 2s infinite;
  }
  
  @keyframes warning-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  
  .warning-title {
    color: var(--color-accent);
    font-family: var(--font-heading);
    font-size: 1.5rem;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 2px;
  }
  
  .warning-subtitle {
    color: var(--color-text-secondary);
    font-size: 0.9rem;
    margin-top: 0.5rem;
    font-family: var(--font-mono);
  }
  
  .warning-content {
    margin-bottom: 2rem;
  }
  
  .warning-message {
    color: var(--color-text);
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }
  
  .warning-message .highlight {
    color: var(--color-accent);
    font-weight: bold;
  }
  
  .warning-details {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    margin-bottom: 1.5rem;
  }
  
  .detail-item {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    padding: 0.5rem;
    background: rgba(var(--color-accent-rgb), 0.1);
    border-radius: 6px;
    border-left: 3px solid var(--color-accent);
  }
  
  .detail-icon {
    font-size: 1.2rem;
  }
  
  .detail-text {
    color: var(--color-text);
    font-size: 0.9rem;
  }
  
  .warning-recommendation {
    background: rgba(255, 193, 7, 0.1);
    border: 1px solid rgba(255, 193, 7, 0.3);
    border-radius: 6px;
    padding: 1rem;
  }
  
  .warning-recommendation p {
    margin: 0;
    color: var(--color-text);
    font-size: 0.9rem;
  }
  
  .warning-actions {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .warning-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.8rem;
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-family: var(--font-main);
    font-weight: bold;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  
  .warning-btn.primary {
    background: var(--color-accent);
    color: var(--color-bg);
  }
  
  .warning-btn.primary:hover {
    background: var(--color-accent-glow);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(var(--color-accent-rgb), 0.4);
  }
  
  .warning-btn.secondary {
    background: transparent;
    color: var(--color-accent);
    border: 2px solid var(--color-accent);
  }
  
  .warning-btn.secondary:hover {
    background: rgba(var(--color-accent-rgb), 0.1);
    transform: translateY(-2px);
  }
  
  .btn-icon {
    font-size: 1.1rem;
  }
  
  /* Guide Modal Styles */
  .guide-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10001;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }
  
  .guide-modal.active {
    opacity: 1;
    visibility: visible;
  }
  
  .guide-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(5px);
  }
  
  .guide-panel {
    position: relative;
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.98));
    border: 2px solid var(--color-accent);
    border-radius: 12px;
    padding: 2rem;
    max-width: 600px;
    width: 90%;
    box-shadow: 0 0 30px var(--color-accent-glow);
    backdrop-filter: blur(10px);
    transform: scale(0.9) translateY(20px);
    transition: all 0.3s ease;
  }
  
  .guide-modal.active .guide-panel {
    transform: scale(1) translateY(0);
  }
  
  .guide-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid rgba(var(--color-accent-rgb), 0.3);
    padding-bottom: 1rem;
  }
  
  .guide-header h3 {
    color: var(--color-accent);
    font-family: var(--font-heading);
    font-size: 1.3rem;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 2px;
  }
  
  .guide-close {
    background: none;
    border: none;
    color: var(--color-text);
    font-size: 2rem;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
  }
  
  .guide-close:hover {
    background: rgba(var(--color-accent-rgb), 0.1);
    color: var(--color-accent);
  }
  
  .guide-content {
    margin-bottom: 2rem;
  }
  
  .guide-step {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(var(--color-accent-rgb), 0.05);
    border-radius: 8px;
    border-left: 3px solid var(--color-accent);
  }
  
  .step-number {
    background: var(--color-accent);
    color: var(--color-bg);
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.9rem;
    flex-shrink: 0;
  }
  
  .guide-step p {
    margin: 0;
    color: var(--color-text);
    line-height: 1.5;
  }
  
  .guide-step strong {
    color: var(--color-accent);
  }
  
  .guide-actions {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 2rem;
  }
  
  .guide-btn {
    background: var(--color-accent);
    color: var(--color-bg);
    border: none;
    padding: 12px 24px;
    border-radius: 6px;
    font-family: var(--font-main);
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .guide-btn:hover {
    background: var(--color-accent-glow);
    transform: translateY(-2px);
  }
  
  .guide-note {
    background: rgba(var(--color-accent-rgb), 0.1);
    border-left: 3px solid var(--color-accent);
    padding: 1rem;
    margin-top: 1rem;
    border-radius: 4px;
  }

  /* --- INICIO: Anulación para FORZAR Animaciones (No recomendado para accesibilidad) --- */
  /* Cuando el <html> tenga la clase 'force-animations', se aplican estas reglas */
  html.force-animations *,
  html.force-animations *::before,
  html.force-animations *::after {
    /* Restablece la duración a un valor normal (o el que tenían originalmente) */
    animation-duration: initial !important;
    transition-duration: initial !important;
    /* Para animaciones de bucle infinito (como tus sliders) */
    animation-iteration-count: infinite !important; /* <--- ESTO ES CLAVE PARA EL BUCLE */
    /* Asegura que las transiciones también vuelvan a la normalidad */
    transition-delay: initial !important;
    transition-property: initial !important;
    transition-timing-function: initial !important;
  }

  /* Opcional pero recomendado para mayor seguridad en los sliders específicos: */
  html.force-animations .skills-slider-track {
    /* Asegura que 'scroll-skills' SIEMPRE sea infinito */
    animation: scroll-skills 40s linear infinite !important; 
  }

  html.force-animations .tech-logo-scroller .scroller__inner {
    /* Asegura que 'scroll-logos' SIEMPRE sea infinito */
    animation: scroll-logos 30s linear infinite !important;
  }
  /* --- FIN: Anulación para FORZAR Animaciones --- */

  /* ============================================================
     ECOSISTEMA DE INTERFAZ HOLOGRÁFICA ADAPTATIVA
     ------------------------------------------------------------
     Sistema de tres capas: Matriz de Datos, Partículas Flotantes, 
     y Elementos Reactivos para crear profundidad visual
  ============================================================ -->

  /* Capa 1: La Matriz de Datos (Fondo Sutil) */
  .holographic-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    pointer-events: none;
    overflow: hidden;
  }

  .matrix-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      linear-gradient(rgba(var(--color-accent-rgb), 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(var(--color-accent-rgb), 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: matrix-drift 120s linear infinite;
  }

  @keyframes matrix-drift {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  .matrix-rain {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.15;
  }

  /* Capa 2: Partículas Flotantes (Plano Medio) */
  .holographic-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
    overflow: hidden;
  }

  .particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: var(--color-accent);
    border-radius: 50%;
    opacity: 0.3;
    pointer-events: none;
    transition: transform 0.1s ease;
  }

  .particle.large {
    width: 3px;
    height: 3px;
    opacity: 0.5;
  }

  .particle.small {
    width: 1px;
    height: 1px;
    opacity: 0.2;
  }

  /* Capa 3: Elementos Reactivos (Interfaz Activa) */
  .holographic-interface {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    pointer-events: none;
    overflow: hidden;
  }

  /* Escáner de Contenido */
  .scan-line {
    position: absolute;
    height: 2px;
    background: linear-gradient(90deg, 
      transparent 0%, 
      var(--color-accent) 20%, 
      var(--color-accent) 80%, 
      transparent 100%);
    box-shadow: 0 0 10px var(--color-accent-glow);
    opacity: 0;
    pointer-events: none;
    z-index: 10000;
  }

  .scan-line::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      var(--color-accent) 2px,
      var(--color-accent) 4px
    );
    animation: scan-glitch 0.1s infinite;
  }

  @keyframes scan-glitch {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* Retículas de Enfoque */
  .focus-reticle {
    position: absolute;
    pointer-events: none;
    z-index: 10001;
  }

  .focus-reticle::before,
  .focus-reticle::after {
    content: '';
    position: absolute;
    background: var(--color-accent);
    box-shadow: 0 0 5px var(--color-accent-glow);
  }

  .focus-reticle::before {
    width: 20px;
    height: 2px;
    top: -2px;
    left: -2px;
  }

  .focus-reticle::after {
    width: 2px;
    height: 20px;
    top: -2px;
    left: -2px;
  }

  .focus-reticle.top-right::before {
    left: auto;
    right: -2px;
  }

  .focus-reticle.top-right::after {
    left: auto;
    right: -2px;
  }

  .focus-reticle.bottom-left::before {
    top: auto;
    bottom: -2px;
  }

  .focus-reticle.bottom-left::after {
    top: auto;
    bottom: -2px;
  }

  .focus-reticle.bottom-right::before {
    top: auto;
    bottom: -2px;
    left: auto;
    right: -2px;
  }

  .focus-reticle.bottom-right::after {
    top: auto;
    bottom: -2px;
    left: auto;
    right: -2px;
  }

  /* Información Contextual */
  .context-info {
    position: fixed;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--color-accent);
    border-radius: 4px;
    padding: 8px 12px;
    font-family: var(--font-main);
    font-size: 0.8rem;
    color: var(--color-accent);
    pointer-events: none;
    z-index: 10002;
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.2s ease;
    backdrop-filter: blur(5px);
  }

  .context-info.active {
    opacity: 1;
    transform: scale(1);
  }

  /* Data Burst */
  .data-burst {
    position: absolute;
    pointer-events: none;
    z-index: 10003;
  }

  .burst-particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: var(--color-accent);
    border-radius: 50%;
    animation: burst-explode 0.6s ease-out forwards;
  }

  .burst-line {
    position: absolute;
    height: 1px;
    background: var(--color-accent);
    animation: burst-explode 0.6s ease-out forwards;
  }

  @keyframes burst-explode {
    0% {
      opacity: 1;
      transform: scale(1);
    }
    100% {
      opacity: 0;
      transform: scale(0) translate(var(--burst-x), var(--burst-y));
    }
  }

  /* Indicadores de Carga */
  .load-indicator {
    position: absolute;
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid var(--color-feedback-success);
    border-radius: 4px;
    padding: 4px 8px;
    font-family: var(--font-main);
    font-size: 0.7rem;
    color: var(--color-feedback-success);
    pointer-events: none;
    z-index: 10004;
    animation: load-fade 2s ease-out forwards;
    backdrop-filter: blur(5px);
  }

  @keyframes load-fade {
    0% {
      opacity: 1;
      transform: scale(1);
    }
    70% {
      opacity: 1;
      transform: scale(1);
    }
    100% {
      opacity: 0;
      transform: scale(0.8);
    }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .holographic-particles {
      display: none; /* Desactivar partículas en móviles */
    }
    
    .context-info {
      font-size: 0.7rem;
      padding: 6px 10px;
    }
  }

  /* Preferencias de movimiento reducido */
  @media (prefers-reduced-motion: reduce) {
    .matrix-grid,
    .particle,
    .scan-line,
    .burst-particle,
    .burst-line {
      animation: none;
    }
    
    .holographic-particles {
      display: none;
    }
  }
  </style>

  <!-- ============================================================
       ECOSISTEMA DE INTERFAZ HOLOGRÁFICA ADAPTATIVA - JAVASCRIPT
       ------------------------------------------------------------
       Sistema de tres capas con optimizaciones de rendimiento
  ============================================================ -->
  <script>
  (function() {
    'use strict';

    // ============================================================
    // CONFIGURACIÓN Y UTILIDADES
    // ============================================================
    
    const HOLOGRAPHIC_CONFIG = {
      // Capa 1: Matriz de Datos
      matrix: {
        enabled: true,
        rainSpeed: 0.5,
        rainOpacity: 0.15,
        gridOpacity: 0.03
      },
      
      // Capa 2: Partículas Flotantes
      particles: {
        enabled: !window.matchMedia('(max-width: 768px)').matches,
        maxParticles: 150,
        particleSize: { min: 1, max: 3 },
        parallaxSensitivity: 0.3,
        driftSpeed: 0.1
      },
      
      // Capa 3: Elementos Reactivos
      reactive: {
        scanLine: { enabled: true, duration: 800 },
        focusReticles: { enabled: true, duration: 300 },
        contextInfo: { enabled: true, duration: 200 },
        dataBurst: { enabled: true, particles: 12, lines: 8 },
        loadIndicators: { enabled: true, duration: 2000 }
      }
    };

    // Detectar preferencias de movimiento reducido
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReducedMotion) {
      HOLOGRAPHIC_CONFIG.particles.enabled = false;
      HOLOGRAPHIC_CONFIG.matrix.enabled = false;
    }

    // ============================================================
    // CAPA 1: LA MATRIZ DE DATOS (Fondo Sutil)
    // ============================================================
    
    class MatrixRain {
      constructor() {
        this.canvas = document.getElementById('matrixRain');
        this.ctx = this.canvas.getContext('2d');
        this.drops = [];
        this.characters = '01ABCDEF';
        this.fontSize = 12;
        this.columns = 0;
        this.init();
      }

      init() {
        this.resize();
        this.createDrops();
        this.animate();
        
        window.addEventListener('resize', () => {
          this.resize();
          this.createDrops();
        });
      }

      resize() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
        this.columns = Math.floor(this.canvas.width / this.fontSize);
      }

      createDrops() {
        this.drops = [];
        for (let i = 0; i < this.columns; i++) {
          this.drops[i] = Math.random() * -100;
        }
      }

      animate() {
        if (!HOLOGRAPHIC_CONFIG.matrix.enabled) return;

        this.ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

        this.ctx.fillStyle = getComputedStyle(document.documentElement)
          .getPropertyValue('--color-accent');
        this.ctx.font = `${this.fontSize}px monospace`;

        for (let i = 0; i < this.drops.length; i++) {
          const text = this.characters[Math.floor(Math.random() * this.characters.length)];
          this.ctx.fillText(text, i * this.fontSize, this.drops[i] * this.fontSize);

          if (this.drops[i] * this.fontSize > this.canvas.height && Math.random() > 0.975) {
            this.drops[i] = 0;
          }
          this.drops[i]++;
        }

        requestAnimationFrame(() => this.animate());
      }
    }

    // ============================================================
    // CAPA 2: PARTÍCULAS FLOTANTES (Plano Medio)
    // ============================================================
    
    class ParticleSystem {
      constructor() {
        this.canvas = document.getElementById('particleSystem');
        this.ctx = this.canvas.getContext('2d');
        this.particles = [];
        this.mouse = { x: 0, y: 0 };
        this.init();
      }

      init() {
        if (!HOLOGRAPHIC_CONFIG.particles.enabled) return;
        
        this.resize();
        this.createParticles();
        this.animate();
        
        window.addEventListener('resize', () => this.resize());
        document.addEventListener('mousemove', (e) => {
          this.mouse.x = e.clientX;
          this.mouse.y = e.clientY;
        });
      }

      resize() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
      }

      createParticles() {
        this.particles = [];
        const config = HOLOGRAPHIC_CONFIG.particles;
        
        for (let i = 0; i < config.maxParticles; i++) {
          this.particles.push({
            x: Math.random() * this.canvas.width,
            y: Math.random() * this.canvas.height,
            size: Math.random() * (config.particleSize.max - config.particleSize.min) + config.particleSize.min,
            speedX: (Math.random() - 0.5) * config.driftSpeed,
            speedY: (Math.random() - 0.5) * config.driftSpeed,
            opacity: Math.random() * 0.5 + 0.2
          });
        }
      }

      animate() {
        if (!HOLOGRAPHIC_CONFIG.particles.enabled) return;

        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        
        const config = HOLOGRAPHIC_CONFIG.particles;
        const centerX = this.canvas.width / 2;
        const centerY = this.canvas.height / 2;

        this.particles.forEach(particle => {
          // Efecto paralaje con el ratón
          const deltaX = (this.mouse.x - centerX) * config.parallaxSensitivity;
          const deltaY = (this.mouse.y - centerY) * config.parallaxSensitivity;
          
          particle.x += particle.speedX - deltaX * 0.001;
          particle.y += particle.speedY - deltaY * 0.001;

          // Mantener partículas en pantalla
          if (particle.x < 0) particle.x = this.canvas.width;
          if (particle.x > this.canvas.width) particle.x = 0;
          if (particle.y < 0) particle.y = this.canvas.height;
          if (particle.y > this.canvas.height) particle.y = 0;

          // Dibujar partícula
          this.ctx.beginPath();
          this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
          this.ctx.fillStyle = `rgba(var(--color-accent-rgb), ${particle.opacity})`;
          this.ctx.fill();
        });

        requestAnimationFrame(() => this.animate());
      }
    }

    // ============================================================
    // CAPA 3: ELEMENTOS REACTIVOS (Interfaz Activa)
    // ============================================================
    
    class HolographicInterface {
      constructor() {
        this.scanLine = document.getElementById('scanLine');
        this.contextInfo = document.getElementById('contextInfo');
        this.dataBurst = document.getElementById('dataBurst');
        this.loadIndicator = document.getElementById('loadIndicator');
        this.isScanning = false;
        this.focusReticles = new Map();
        this.init();
      }

      init() {
        this.initScanLine();
        this.initFocusReticles();
        this.initContextInfo();
        this.initDataBurst();
        this.initLoadIndicators();
      }

      // Escáner de Contenido al Scroll
      initScanLine() {
        if (!HOLOGRAPHIC_CONFIG.reactive.scanLine.enabled) return;

        let scrollTimeout;
        const config = HOLOGRAPHIC_CONFIG.reactive.scanLine;

        window.addEventListener('scroll', () => {
          if (this.isScanning) return;
          
          this.isScanning = true;
          this.scanLine.style.opacity = '1';
          
          const direction = window.scrollY > (this.lastScrollY || 0) ? 'down' : 'up';
          this.lastScrollY = window.scrollY;
          
          if (direction === 'down') {
            this.scanLine.style.top = '0';
            this.scanLine.style.transform = 'translateY(0)';
            gsap.to(this.scanLine, {
              y: window.innerHeight,
              duration: config.duration / 1000,
              ease: 'power2.out',
              onComplete: () => {
                this.scanLine.style.opacity = '0';
                this.isScanning = false;
              }
            });
          } else {
            this.scanLine.style.top = 'auto';
            this.scanLine.style.bottom = '0';
            this.scanLine.style.transform = 'translateY(0)';
            gsap.to(this.scanLine, {
              y: -window.innerHeight,
              duration: config.duration / 1000,
              ease: 'power2.out',
              onComplete: () => {
                this.scanLine.style.opacity = '0';
                this.isScanning = false;
              }
            });
          }

          clearTimeout(scrollTimeout);
          scrollTimeout = setTimeout(() => {
            this.scanLine.style.opacity = '0';
            this.isScanning = false;
          }, config.duration);
        });
      }

      // Retículas de Enfoque al Hover
      initFocusReticles() {
        if (!HOLOGRAPHIC_CONFIG.reactive.focusReticles.enabled) return;

        const interactiveElements = document.querySelectorAll('.content-box, button, .nav-link, .skill-item, .project-card');
        
        interactiveElements.forEach(element => {
          element.addEventListener('mouseenter', (e) => {
            this.showFocusReticles(e.target);
          });
          
          element.addEventListener('mouseleave', (e) => {
            this.hideFocusReticles(e.target);
          });
        });
      }

      showFocusReticles(element) {
        const rect = element.getBoundingClientRect();
        const positions = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];
        
        positions.forEach(position => {
          const reticle = document.createElement('div');
          reticle.className = `focus-reticle ${position}`;
          reticle.style.left = rect.left + 'px';
          reticle.style.top = rect.top + 'px';
          reticle.style.width = rect.width + 'px';
          reticle.style.height = rect.height + 'px';
          
          document.body.appendChild(reticle);
          this.focusReticles.set(element, this.focusReticles.get(element) || []);
          this.focusReticles.get(element).push(reticle);
          
          gsap.fromTo(reticle, 
            { opacity: 0, scale: 0.8 },
            { opacity: 1, scale: 1, duration: 0.3, ease: 'power2.out' }
          );
        });
      }

      hideFocusReticles(element) {
        const reticles = this.focusReticles.get(element);
        if (reticles) {
          reticles.forEach(reticle => {
            gsap.to(reticle, {
              opacity: 0,
              scale: 0.8,
              duration: 0.2,
              ease: 'power2.in',
              onComplete: () => reticle.remove()
            });
          });
          this.focusReticles.delete(element);
        }
      }

      // Información Contextual
      initContextInfo() {
        if (!HOLOGRAPHIC_CONFIG.reactive.contextInfo.enabled) return;

        const interactiveElements = document.querySelectorAll('.content-box, button, .nav-link, .skill-item, .project-card');
        
        interactiveElements.forEach(element => {
          element.addEventListener('mouseenter', (e) => {
            this.showContextInfo(e);
          });
          
          element.addEventListener('mouseleave', () => {
            this.hideContextInfo();
          });
        });
      }

      showContextInfo(event) {
        const element = event.target;
        const rect = element.getBoundingClientRect();
        
        const infoTexts = [
          `[ID: 0x${Math.random().toString(16).substr(2, 4).toUpperCase()}]`,
          `[TYPE: ${element.tagName.toUpperCase()}]`,
          `[STATUS: AWAITING_INPUT]`,
          `[CLASS: ${element.className.split(' ')[0] || 'UNKNOWN'}]`
        ];
        
        const randomInfo = infoTexts[Math.floor(Math.random() * infoTexts.length)];
        
        this.contextInfo.textContent = randomInfo;
        this.contextInfo.style.left = (event.clientX + 10) + 'px';
        this.contextInfo.style.top = (event.clientY - 30) + 'px';
        this.contextInfo.classList.add('active');
        
        // Efecto de máquina de escribir
        gsap.fromTo(this.contextInfo, 
          { opacity: 0, scale: 0.8 },
          { opacity: 1, scale: 1, duration: 0.2, ease: 'power2.out' }
        );
      }

      hideContextInfo() {
        gsap.to(this.contextInfo, {
          opacity: 0,
          scale: 0.8,
          duration: 0.2,
          ease: 'power2.in',
          onComplete: () => this.contextInfo.classList.remove('active')
        });
      }

      // Data Burst al Clic
      initDataBurst() {
        if (!HOLOGRAPHIC_CONFIG.reactive.dataBurst.enabled) return;

        document.addEventListener('click', (e) => {
          this.createDataBurst(e.clientX, e.clientY);
        });
      }

      createDataBurst(x, y) {
        const config = HOLOGRAPHIC_CONFIG.reactive.dataBurst;
        
        // Crear partículas
        for (let i = 0; i < config.particles; i++) {
          const particle = document.createElement('div');
          particle.className = 'burst-particle';
          particle.style.left = x + 'px';
          particle.style.top = y + 'px';
          
          const angle = (Math.PI * 2 * i) / config.particles;
          const distance = Math.random() * 50 + 20;
          const burstX = Math.cos(angle) * distance;
          const burstY = Math.sin(angle) * distance;
          
          particle.style.setProperty('--burst-x', burstX + 'px');
          particle.style.setProperty('--burst-y', burstY + 'px');
          
          this.dataBurst.appendChild(particle);
          
          setTimeout(() => particle.remove(), 600);
        }
        
        // Crear líneas
        for (let i = 0; i < config.lines; i++) {
          const line = document.createElement('div');
          line.className = 'burst-line';
          line.style.left = x + 'px';
          line.style.top = y + 'px';
          line.style.width = (Math.random() * 30 + 10) + 'px';
          line.style.transform = `rotate(${Math.random() * 360}deg)`;
          
          const angle = (Math.PI * 2 * i) / config.lines;
          const distance = Math.random() * 40 + 15;
          const burstX = Math.cos(angle) * distance;
          const burstY = Math.sin(angle) * distance;
          
          line.style.setProperty('--burst-x', burstX + 'px');
          line.style.setProperty('--burst-y', burstY + 'px');
          
          this.dataBurst.appendChild(line);
          
          setTimeout(() => line.remove(), 600);
        }
      }

      // Indicadores de Carga
      initLoadIndicators() {
        if (!HOLOGRAPHIC_CONFIG.reactive.loadIndicators.enabled) return;

        // Observar imágenes para detectar carga
        const images = document.querySelectorAll('img');
        images.forEach(img => {
          if (img.complete) {
            this.showLoadIndicator(img, 'OK');
          } else {
            img.addEventListener('load', () => {
              this.showLoadIndicator(img, 'OK');
            });
            img.addEventListener('error', () => {
              this.showLoadIndicator(img, 'ERROR');
            });
          }
        });

        // Observar nuevos elementos
        const observer = new MutationObserver((mutations) => {
          mutations.forEach(mutation => {
            mutation.addedNodes.forEach(node => {
              if (node.nodeType === 1 && node.tagName === 'IMG') {
                node.addEventListener('load', () => {
                  this.showLoadIndicator(node, 'OK');
                });
              }
            });
          });
        });

        observer.observe(document.body, { childList: true, subtree: true });
      }

      showLoadIndicator(element, status) {
        const rect = element.getBoundingClientRect();
        const indicator = document.createElement('div');
        indicator.className = 'load-indicator';
        indicator.textContent = `[ ${status} ]`;
        indicator.style.left = (rect.right + 5) + 'px';
        indicator.style.top = (rect.top - 5) + 'px';
        
        document.body.appendChild(indicator);
        
        setTimeout(() => indicator.remove(), 2000);
      }
    }

    // ============================================================
    // INICIALIZACIÓN DEL ECOSISTEMA
    // ============================================================
    
    document.addEventListener('DOMContentLoaded', () => {
      // Inicializar solo si no hay preferencias de movimiento reducido
      if (!prefersReducedMotion) {
        new MatrixRain();
        new ParticleSystem();
        new HolographicInterface();
        
        console.log('🌐 Ecosistema Holográfico Adaptativo inicializado');
        console.log('📊 Capa 1: Matriz de Datos', HOLOGRAPHIC_CONFIG.matrix.enabled ? '✅' : '❌');
        console.log('✨ Capa 2: Partículas Flotantes', HOLOGRAPHIC_CONFIG.particles.enabled ? '✅' : '❌');
        console.log('⚡ Capa 3: Elementos Reactivos', HOLOGRAPHIC_CONFIG.reactive.scanLine.enabled ? '✅' : '❌');
      } else {
        console.log('♿ Ecosistema Holográfico desactivado por preferencias de movimiento reducido');
      }
    });

  })();
  </script>
</body>
</html>