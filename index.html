<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portafolio [System Interface] - Ing. Espinosa</title>

  <!-- Firma del autor -->
  <meta name="author" content="Ing. Espinosa Martínez José Armando">
  <meta name="copyright" content="© 2025 Ing. Espinosa Martínez José Armando">

  <!-- Favicon -->
  <link rel="icon" href="IMG/FAVICON/LOGO.png" type="image/x-icon" />

  <!-- Fuentes Futuristas -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&display=swap"
    rel="stylesheet"
  >

  <!-- ============================================================ -->
  <!-- CSS Styles (Unificados dentro de <style>)                   -->
  <!-- ============================================================ -->
  <style>
    /* ============================================================
       :root VARIABLES & THEMES
       ------------------------------------------------------------
       Definición de paleta de colores principal (Dark/HUD)
       y una alternativa Light (opcional, requiere más ajustes).
       NUEVO: Variables RGB para rgba() y variables HUD.
    ============================================================ */
    :root {
      --hue: 160; /* Color principal (Cyan/Verde) */
      --saturation: 100%;
      --brightness-accent: 50%;
      --brightness-bg: 5%;
      --brightness-text: 95%;
      --brightness-muted: 70%;

      /* Colores Base (HSLA para fácil ajuste) */
      --color-bg: hsla(var(--hue), var(--saturation), var(--brightness-bg), 1);
      --color-accent: hsla(var(--hue), var(--saturation), var(--brightness-accent), 1);
      --color-accent-glow: hsla(var(--hue), var(--saturation), var(--brightness-accent), 0.5);
      --color-accent-dark: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) - 15%), 1);
      --color-text: hsla(var(--hue), 10%, var(--brightness-text), 1);
      --color-muted: hsla(var(--hue), 10%, var(--brightness-muted), 1);
      --color-border: hsla(var(--hue), var(--saturation), calc(var(--brightness-accent) / 2), 0.3);
      --color-glass-bg: hsla(var(--hue), 30%, 15%, 0.1); /* Fondo para glassmorphism */

      /* NUEVO: Colores RGB para rgba() en sombras (Aproximado - ajustar si es necesario) */
      --color-accent-rgb: 0, 255, 170; /* Aproximado para HSL(160, 100%, 50%) */

      /* Transiciones */
      --transition-fast: 0.2s;
      --transition-medium: 0.4s;
      --transition-slow: 0.7s;

      /* Fuentes */
      --font-main: 'Share Tech Mono', monospace;
      --font-heading: 'VT323', monospace;

      /* NUEVO: Variables HUD */
      --hud-border-width: 2px;
      --hud-corner-size: 20px;
      --hud-line-thickness: 1px;
      --hud-glow: 0 0 5px var(--color-accent-glow), 0 0 10px var(--color-accent-glow);

      /* Breakpoints */
      --mobile-break: 768px;
      --tablet-break: 1024px;
    }

    /* NUEVO: Tema Claro (Opcional, básico) */
    [data-theme="light"] {
      --hue: 200; /* Azul claro */
      --brightness-bg: 95%;
      --brightness-accent: 55%;
      --brightness-text: 10%;
      --brightness-muted: 40%;

      /* Recalcular colores base */
      --color-bg: hsla(var(--hue), 20%, var(--brightness-bg), 1);
      --color-accent: hsla(var(--hue), 80%, var(--brightness-accent), 1);
      --color-accent-glow: hsla(var(--hue), 80%, var(--brightness-accent), 0.4);
      --color-accent-dark: hsla(var(--hue), 80%, calc(var(--brightness-accent) - 15%), 1);
      --color-text: hsla(var(--hue), 10%, var(--brightness-text), 1);
      --color-muted: hsla(var(--hue), 10%, var(--brightness-muted), 1);
      --color-border: hsla(var(--hue), 50%, calc(var(--brightness-accent)), 0.3);
      --color-glass-bg: hsla(var(--hue), 30%, 85%, 0.2);
      --color-accent-rgb: 0, 170, 255; /* Aproximado */
    }

    /* ============================================================
       RESET BÁSICO Y ESTILOS GENERALES
       ------------------------------------------------------------
       Incluye scroll suave y selección de texto estilizada.
    ============================================================ */
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      font-size: 16px; /* Base para REMs */
    }

    body {
      font-family: var(--font-main);
      background-color: var(--color-bg);
      color: var(--color-text);
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* Cursor personalizado (manteniendo el original) */
      cursor: url("IMG/CURSORS/cursor1.cur"), auto;
      transition: background-color var(--transition-medium), color var(--transition-medium); /* Transición para cambio de tema */
    }

    /* Estilo de Selección */
    ::selection {
      background-color: var(--color-accent);
      color: var(--color-bg);
      text-shadow: none;
    }

    a, button {
      text-decoration: none;
      color: inherit;
      cursor: pointer;
      background: none;
      border: none;
      font-family: inherit;
    }

    img, video {
      max-width: 100%;
      height: auto;
      display: block;
      object-fit: cover; /* Asegura que cubran su contenedor */
    }

    /* NUEVO: Estilos para Lazy Loading de imágenes */
    img[data-src] {
        opacity: 0; /* Oculto inicialmente */
        transition: opacity 0.5s ease-in-out; /* Transición suave */
    }
    img.loaded {
        opacity: 1; /* Mostrar cuando esté cargada */
    }


    ul, li {
      list-style: none;
    }

    /* Ocultar elementos inicialmente hasta que JS los revele */
    #mainHeader, .main-content-wrapper, .hud-overlay {
      opacity: 0;
      transition: opacity var(--transition-slow) ease-in-out;
    }
    #mainHeader.visible, .main-content-wrapper.visible, .hud-overlay.visible {
      opacity: 1;
    }

    /* Video de fondo */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2; /* Detrás del contenido y del HUD */
      opacity: 0.15; /* Más sutil */
      filter: grayscale(50%) brightness(0.7); /* Efecto visual */
    }

    /* ============================================================
       LOADER AVANZADO ESTILOS
       ------------------------------------------------------------
       NUEVO: Diseño HUD, scanline, texto dinámico.
    ============================================================ */
    .loader-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: var(--color-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 99999;
      opacity: 1;
      visibility: visible;
      transition: opacity var(--transition-slow) ease-in-out, visibility var(--transition-slow) step-end;
    }

    .loader-overlay:not(.active) {
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-slow) ease-in-out, visibility 0s var(--transition-slow);
    }

    .loader-hud-border {
      position: absolute;
      top: 20px;
      left: 20px;
      right: 20px;
      bottom: 20px;
      border: var(--hud-border-width) solid var(--color-border);
      pointer-events: none;
      box-shadow: inset 0 0 15px rgba(var(--color-accent-rgb), 0.1);
    }

    .loader-scanline {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--color-accent);
      box-shadow: var(--hud-glow);
      opacity: 0.7;
      animation: scan 3s linear infinite;
      z-index: 1;
    }

    @keyframes scan {
      0% { transform: translateY(0); }
      50% { transform: translateY(calc(100vh - 3px)); }
      100% { transform: translateY(0); }
    }

    .loader-content {
      position: relative;
      z-index: 2;
      text-align: center;
      color: var(--color-accent);
      max-width: 80%;
    }

    .loader-logo {
      font-family: var(--font-heading);
      font-size: 2rem;
      margin-bottom: 20px;
      letter-spacing: 4px;
      text-shadow: var(--hud-glow);
      animation: pulse-text 2s infinite alternate;
    }

    @keyframes pulse-text {
      from { opacity: 0.7; }
      to { opacity: 1; }
    }

    .loader-text {
      font-family: var(--font-main);
      font-size: 1.2rem;
      margin-bottom: 15px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .loader-bar-container {
      width: 100%;
      max-width: 400px;
      height: 10px;
      background: rgba(var(--color-accent-rgb), 0.1);
      border: 1px solid var(--color-border);
      border-radius: 2px;
      overflow: hidden;
      margin: 15px auto;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
    }

    .loader-bar {
      width: 0%;
      height: 100%;
      background: var(--color-accent);
      box-shadow: var(--hud-glow);
      transition: width 0.1s linear; /* Más rápido para progreso */
    }

    .loader-percentage {
      font-family: var(--font-main);
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .loader-subtext {
      font-family: var(--font-main);
      font-size: 0.8rem;
      color: var(--color-muted);
      letter-spacing: 1px;
    }

    /* ============================================================
       HUD OVERLAY ESTILOS
       ------------------------------------------------------------
       NUEVO: Esquinas, líneas y readouts fijos.
    ============================================================ */
    .hud-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; /* No interfiere con clicks */
      z-index: 1000; /* Encima del contenido, debajo de modales/menús */
      overflow: hidden; /* Evita que elementos se salgan */
    }

    /* Esquinas Decorativas */
    .hud-corner {
      position: absolute;
      width: var(--hud-corner-size);
      height: var(--hud-corner-size);
      border-style: solid;
      border-color: var(--color-accent);
      opacity: 0.7;
    }
    .hud-corner.top-left { top: 15px; left: 15px; border-width: var(--hud-border-width) 0 0 var(--hud-border-width); }
    .hud-corner.top-right { top: 15px; right: 15px; border-width: var(--hud-border-width) var(--hud-border-width) 0 0; }
    .hud-corner.bottom-left { bottom: 15px; left: 15px; border-width: 0 0 var(--hud-border-width) var(--hud-border-width); }
    .hud-corner.bottom-right { bottom: 15px; right: 15px; border-width: 0 var(--hud-border-width) var(--hud-border-width) 0; }

    /* Líneas Decorativas */
    .hud-line {
      position: absolute;
      background-color: var(--color-border);
      box-shadow: 0 0 3px var(--color-border);
      opacity: 0.5;
    }
    .hud-line.top { top: 25px; left: calc(15px + var(--hud-corner-size)); right: calc(15px + var(--hud-corner-size)); height: var(--hud-line-thickness); }
    .hud-line.bottom { bottom: 25px; left: calc(15px + var(--hud-corner-size)); right: calc(15px + var(--hud-corner-size)); height: var(--hud-line-thickness); }
    .hud-line.left { left: 25px; top: calc(15px + var(--hud-corner-size)); bottom: calc(15px + var(--hud-corner-size)); width: var(--hud-line-thickness); }
    .hud-line.right { right: 25px; top: calc(15px + var(--hud-corner-size)); bottom: calc(15px + var(--hud-corner-size)); width: var(--hud-line-thickness); }

    /* Readouts de Información */
    .hud-readout {
      position: absolute;
      font-family: var(--font-main);
      font-size: 0.75rem;
      color: var(--color-muted);
      padding: 5px 10px;
      background: rgba(var(--color-bg), 0.5); /* Fondo semitransparente */
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .hud-readout span:first-child { color: var(--color-accent); margin-right: 5px;}
    .hud-readout .hud-ok { color: hsla(120, 70%, 60%, 1); } /* Verde OK */
    .hud-readout .hud-warning { color: hsla(45, 100%, 60%, 1); } /* Amarillo Warning */
    .hud-readout .hud-error { color: hsla(0, 100%, 60%, 1); } /* Rojo Error */

    .top-left-readout { top: 40px; left: 40px; }
    .top-right-readout { top: 40px; right: 40px; text-align: right;}
    .bottom-left-readout { bottom: 40px; left: 40px; }
    .bottom-right-readout { bottom: 40px; right: 40px; text-align: right;}

    /* ============================================================
       CONTENEDOR PRINCIPAL Y SECCIONES
       ------------------------------------------------------------
       Añade padding para que el contenido no quede debajo del HUD fijo.
    ============================================================ */
    .main-content-wrapper {
      position: relative;
      z-index: 1; /* Encima del video de fondo */
      padding-top: 100px; /* Espacio para header + HUD top */
      padding-bottom: 80px; /* Espacio para HUD bottom */
    }

    .section-container {
      padding: 100px 5%; /* Padding lateral responsivo */
      max-width: 1400px; /* Ancho máximo del contenido */
      margin-left: auto;
      margin-right: auto;
      position: relative; /* Para posibles pseudo-elementos */
    }

    /* Añadir un borde sutil o línea superior a cada sección */
    .section-container:not(:first-of-type) {
      border-top: 1px solid var(--color-border);
      margin-top: 50px; /* Espacio entre secciones */
    }

    /* Estilo base para cajas de contenido (cards, paneles, etc.) */
    .content-box {
      background: var(--color-glass-bg);
      border: 1px solid var(--color-border);
      border-radius: 5px;
      padding: 25px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px); /* Safari */
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: transform var(--transition-medium), box-shadow var(--transition-medium), background-color var(--transition-medium);
    }
    .content-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.3), 0 0 15px var(--color-accent-glow);
      background-color: hsla(var(--hue), 30%, 15%, 0.3); /* Más opaco en hover */
    }

    /* ============================================================
       HEADER MEJORADO
       ------------------------------------------------------------
       Estilo HUD, controles agrupados.
    ============================================================ */
    #mainHeader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 10px 30px; /* Más padding */
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1001; /* Encima del HUD overlay, pero debajo del panel filtro */
      background: rgba(var(--color-bg), 0.5);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-bottom: var(--hud-line-thickness) solid var(--color-border);
      /* Quitando transformación inicial, se controla con JS */
    }

    .branding a {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      color: var(--color-accent);
      text-shadow: var(--hud-glow);
      letter-spacing: 2px;
      transition: color var(--transition-fast), text-shadow var(--transition-fast);
    }
    .branding a:hover {
      color: var(--color-text);
      text-shadow: 0 0 10px var(--color-text);
    }

    .header-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Estilo Base para Botones HUD */
    .hud-button {
      font-family: var(--font-main);
      padding: 8px 15px;
      border: 1px solid var(--color-border);
      background: rgba(var(--color-accent-rgb), 0.1);
      color: var(--color-accent);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      border-radius: 3px;
      transition: background var(--transition-fast), color var(--transition-fast), box-shadow var(--transition-fast);
      position: relative;
      overflow: hidden;
    }
    .hud-button:hover {
      background: var(--color-accent);
      color: var(--color-bg);
      box-shadow: var(--hud-glow);
    }
    .hud-button.small { padding: 5px 10px; font-size: 0.7rem; }
    .hud-button.large { padding: 12px 25px; font-size: 1rem; }

    /* Estilo Primario/Destacado para Botones */
    .hud-button.primary {
      background: var(--color-accent);
      color: var(--color-bg);
      border-color: var(--color-accent);
      box-shadow: var(--hud-glow);
    }
    .hud-button.primary:hover {
      background: var(--color-accent-dark);
      box-shadow: 0 0 15px var(--color-accent);
    }

    /* Efecto Scanline Hover para botones */
    .hud-button::after {
      content: '';
      position: absolute;
      top: 0;
      left: -150%;
      width: 50%;
      height: 100%;
      background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 100%);
      transform: skewX(-25deg);
      transition: left var(--transition-medium) ease-in-out;
    }
    .hud-button:hover::after {
      left: 150%;
    }

    /* Botón Mute */
    #muteButton { display: inline-flex; align-items: center; justify-content: center; padding: 8px; }
    #muteButton svg { transition: opacity var(--transition-fast); }
    #muteButton svg.mute-slash { position: absolute; opacity: 0; color: red; }
    #muteButton.muted svg:not(.mute-slash) { opacity: 0.3; }
    #muteButton.muted svg.mute-slash { opacity: 1; }


    /* Menú Filtro - NUEVO: Estilo Overlay Centrado */
    .filter-container { position: static; } /* Contenedor ya no necesita ser relativo */
    .filter-panel {
      position: fixed; /* Cambiado a fijo */
      top: 50%;      /* Centrado vertical */
      left: 50%;     /* Centrado horizontal */
      width: 90%;    /* Ancho responsivo */
      max-width: 400px; /* Ancho máximo */
      max-height: 80vh; /* Altura máxima con scroll */
      overflow-y: auto; /* Scroll si es necesario */
      background: rgba(var(--color-bg), 0.95);
      border: 1px solid var(--color-border);
      border-radius: 5px;
      padding: 25px; /* Más padding */
      z-index: 10001; /* MUY ALTO para estar sobre todo */
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      /* Estado inicial (oculto) */
      transform: translate(-50%, -50%) scale(0.9); /* Centrado y escalado */
      opacity: 0;
      visibility: hidden;
      transition: transform var(--transition-medium) ease, opacity var(--transition-medium) ease, visibility 0s var(--transition-medium);
      transform-origin: center center; /* Origen de transformación */
    }
    .filter-panel.open {
      transform: translate(-50%, -50%) scale(1); /* Estado abierto */
      opacity: 1;
      visibility: visible;
      transition: transform var(--transition-medium) ease, opacity var(--transition-medium) ease, visibility 0s 0s;
    }
    .filter-panel .navbar-nav {
      display: flex;
      flex-direction: column;
      gap: 8px; /* Más espacio */
    }
    .filter-panel .nav-link {
      display: block;
      padding: 10px 15px; /* Padding más grande */
      color: var(--color-muted);
      font-size: 1rem; /* Fuente más grande */
      border-radius: 3px;
      transition: background var(--transition-fast), color var(--transition-fast);
      position: relative;
      overflow: hidden;
      text-align: center; /* Texto centrado */
    }
    .filter-panel .nav-link::before { /* Efecto hover */
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background: var(--color-accent);
      transition: width var(--transition-medium) ease;
    }
    .filter-panel .nav-link:hover {
      background: rgba(var(--color-accent-rgb), 0.1);
      color: var(--color-accent);
    }
    .filter-panel .nav-link:hover::before {
      width: 80%; /* Ancho de la línea en hover */
    }

    /* Overlay para el menú filtro (fondo oscuro) */
    .filter-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.8); /* Más oscuro */
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-medium) ease, visibility 0s var(--transition-medium);
      z-index: 10000; /* Debajo del panel, encima de todo lo demás */
    }
    .filter-overlay.open {
      opacity: 1;
      visibility: visible;
      transition: opacity var(--transition-medium) ease, visibility 0s 0s;
    }

    /* ============================================================
       ESTILOS DE SECCIONES ESPECÍFICAS (Adaptados al HUD)
       ------------------------------------------------------------
       Refinando Hero, Skills, Proyectos, etc.
    ============================================================ */

    /* --- HERO --- */
    .hero {
      min-height: 100vh; /* Ocupa al menos toda la pantalla */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 5%;
      position: relative; /* Necesario para ::before/::after y scroll indicator */
      margin-top: -100px; /* Compensa padding-top de .main-content-wrapper */
      background: radial-gradient(ellipse at center, rgba(var(--color-bg), 0.5) 0%, transparent 70%), var(--color-bg); /* Fondo más enfocado */
    }
    .hero h1 {
      font-family: var(--font-heading);
      font-size: clamp(2.5rem, 8vw, 5rem); /* Tamaño fluido */
      margin-bottom: 20px;
      letter-spacing: 0.05em; /* Un poco más espaciado */
      position: relative;
      color: var(--color-accent);
      text-shadow: 0 0 8px var(--color-accent-glow),
                   0 0 15px var(--color-accent-glow),
                   0 0 25px rgba(var(--color-accent-rgb), 0.3); /* Glow más suave */
      animation: text-flicker 3s linear infinite alternate;
    }
    /* Efecto Glitch (igual que antes) */
    .hero h1::before,
    .hero h1::after {
      content: attr(data-text);
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      overflow: hidden; background: var(--color-bg); /* Oculta mejor el texto original */
      color: var(--color-accent); clip-path: inset(0);
    }
    .hero h1::before {
      left: 2px; text-shadow: -1px 0 red; /* Color diferente para glitch */
      animation: glitch-anim-1 2s infinite linear alternate-reverse;
    }
    .hero h1::after {
      left: -2px; text-shadow: -1px 0 blue; /* Otro color */
      animation: glitch-anim-2 3s infinite linear alternate-reverse;
    }
    @keyframes glitch-anim-1 { /* Keyframes simplificados */
      0%, 100% { clip-path: inset(45% 0 50% 0); } 5% { clip-path: inset(10% 0 85% 0); } 10% { clip-path: inset(90% 0 5% 0); } 15% { clip-path: inset(30% 0 60% 0); } 20% { clip-path: inset(70% 0 10% 0); } 25% { clip-path: inset(50% 0 45% 0); } 30% { clip-path: inset(20% 0 75% 0); } 35% { clip-path: inset(80% 0 15% 0); } 40% { clip-path: inset(40% 0 55% 0); } 45% { clip-path: inset(60% 0 35% 0); } 50% { clip-path: inset(25% 0 70% 0); } 55% { clip-path: inset(85% 0 10% 0); } 60% { clip-path: inset(35% 0 60% 0); } 65% { clip-path: inset(75% 0 20% 0); } 70% { clip-path: inset(48% 0 48% 0); } 75% { clip-path: inset(15% 0 80% 0); } 80% { clip-path: inset(95% 0 2% 0); } 85% { clip-path: inset(33% 0 63% 0); } 90% { clip-path: inset(68% 0 28% 0); } 95% { clip-path: inset(55% 0 40% 0); }
    }
    @keyframes glitch-anim-2 { /* Similar pero con diferentes valores */
      0%, 100% { clip-path: inset(80% 0 15% 0); } 5% { clip-path: inset(30% 0 65% 0); } 10% { clip-path: inset(5% 0 90% 0); } 15% { clip-path: inset(60% 0 30% 0); } 20% { clip-path: inset(10% 0 70% 0); } 25% { clip-path: inset(45% 0 50% 0); } 30% { clip-path: inset(75% 0 20% 0); } 35% { clip-path: inset(20% 0 80% 0); } 40% { clip-path: inset(55% 0 40% 0); } 45% { clip-path: inset(35% 0 60% 0); } 50% { clip-path: inset(70% 0 25% 0); } 55% { clip-path: inset(10% 0 85% 0); } 60% { clip-path: inset(60% 0 33% 0); } 65% { clip-path: inset(20% 0 78% 0); } 70% { clip-path: inset(49% 0 49% 0); } 75% { clip-path: inset(80% 0 18% 0); } 80% { clip-path: inset(2% 0 95% 0); } 85% { clip-path: inset(63% 0 33% 0); } 90% { clip-path: inset(28% 0 68% 0); } 95% { clip-path: inset(40% 0 55% 0); }
    }
    @keyframes text-flicker { 0%, 18%, 22%, 25%, 53%, 57%, 100% { text-shadow: 0 0 8px var(--color-accent-glow), 0 0 15px var(--color-accent-glow), 0 0 25px rgba(var(--color-accent-rgb), 0.3), 0 2px 2px rgba(0,0,0,0.5); } 20%, 24%, 55% { text-shadow: none; } }

    .hero p {
      font-size: clamp(1rem, 2.5vw, 1.3rem); /* Tamaño fluido */
      max-width: 700px;
      line-height: 1.6;
      color: var(--color-muted);
      margin-top: 20px;
    }
    .scroll-down-indicator {
      position: absolute;
      bottom: 40px; /* Ajusta según espacio del HUD */
      left: 50%;
      transform: translateX(-50%);
      color: var(--color-accent);
      font-size: 1.5rem;
      animation: bounce 2s infinite;
      opacity: 0.7;
    }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); } 40% { transform: translateX(-50%) translateY(-10px); } 60% { transform: translateX(-50%) translateY(-5px); } }

    /* --- TÍTULOS DE SECCIÓN --- */
    .section-title {
      font-family: var(--font-heading);
      font-size: clamp(2rem, 5vw, 3rem); /* Fluido */
      text-align: center;
      margin-bottom: 60px;
      position: relative;
      display: block; /* O inline-block si prefieres centrar el bloque */
      color: var(--color-accent);
      text-shadow: var(--hud-glow);
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    .section-title::before, .section-title::after { /* Líneas decorativas */
      content: '';
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      height: 2px;
      background: var(--color-border);
      width: 50%;
    }
    .section-title::before { top: -15px; width: 25%; }
    .section-title::after { bottom: -15px; }

    /* --- SOBRE MÍ --- */
    .about-content {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      align-items: center;
    }
    .about-text { flex: 1 1 55%; min-width: 300px; line-height: 1.7; }
    .about-text p { margin-bottom: 1em; }
    .about-image {
      flex: 1 1 35%;
      min-width: 250px;
      position: relative; /* Para overlay */
      padding: 0; /* Quitar padding del content-box si la imagen lo llena */
      border: none; background: none; box-shadow: none; backdrop-filter: none; /* Resetear estilos de content-box */
    }
    .about-image img {
      border-radius: 5px;
      border: 2px solid var(--color-border);
      box-shadow: 0 0 15px rgba(var(--color-accent-rgb), 0.2);
      width: 100%; /* Asegura que llene el contenedor */
      aspect-ratio: 1 / 1; /* Imagen cuadrada */
    }
    .image-hud-overlay { /* NUEVO */
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(var(--color-bg), 0.7);
      padding: 3px 8px;
      font-size: 0.7rem;
      color: var(--color-accent);
      border-radius: 3px;
      font-family: var(--font-main);
    }

    /* --- HABILIDADES --- */
    .skills-grid {
      display: grid;
      gap: 25px;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    }
    .skill-item { text-align: center; }
    .skill-item img {
      width: 50px;
      height: 50px;
      margin: 0 auto 15px auto;
      filter: grayscale(50%) contrast(1.2) brightness(1.5); /* Efecto icono */
      transition: filter var(--transition-fast);
    }
    .skill-item:hover img { filter: none; }
    .skill-item h3 { font-size: 1rem; color: var(--color-text); margin-bottom: 10px; }
    .progress-bar-container {
      background: rgba(var(--color-accent-rgb), 0.1);
      height: 6px;
      border-radius: 3px;
      margin-top: 10px;
      overflow: hidden;
      border: 1px solid var(--color-border);
    }
    .progress-bar-fill {
      height: 100%;
      background: var(--color-accent);
      width: 0%; /* Animado por JS */
      transition: width 1.5s ease-out; /* Transición más larga */
      box-shadow: var(--hud-glow);
    }
    .skill-level { margin-top: 8px; font-size: 0.75rem; color: var(--color-muted); }

    /* --- PROYECTOS --- */
    .internal-search {
      display: flex;
      justify-content: center;
      margin-bottom: 40px;
      gap: 10px;
      padding: 15px; /* Añadido padding */
    }
    .internal-search input {
      padding: 8px 12px;
      width: 350px;
      max-width: 70%;
      border-radius: 3px;
      border: 1px solid var(--color-border);
      background: rgba(var(--color-bg), 0.8);
      color: var(--color-text);
      font-size: 0.9rem;
    }
    .internal-search input::placeholder { color: var(--color-muted); }
    .project-grid {
      display: grid;
      gap: 30px;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
    .project-item { display: flex; flex-direction: column; }
    .project-item h3 { font-size: 1.3rem; color: var(--color-accent); margin-bottom: 15px; }
    .project-item video { border-radius: 3px; margin-bottom: 15px; border: 1px solid var(--color-border); }
    .project-item p { color: var(--color-muted); font-size: 0.9rem; line-height: 1.5; flex-grow: 1; margin-bottom: 15px;}
    .tech-tags { /* NUEVO */
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: auto; /* Empuja al final */
    }
    .tech-tags span {
      background: rgba(var(--color-accent-rgb), 0.15);
      color: var(--color-accent);
      padding: 3px 8px;
      font-size: 0.7rem;
      border-radius: 3px;
      border: 1px solid var(--color-border);
    }

    /* --- CRONOLOGÍA --- */
    .timeline-list {
      display: flex;
      flex-direction: column;
      gap: 20px; /* Menos gap */
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      padding-left: 30px; /* Espacio para la línea */
    }
    /* Línea vertical */
    .timeline-list::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      left: 10px;
      width: 2px;
      background: var(--color-border);
    }
    .timeline-item {
      padding: 20px; /* Menos padding */
      position: relative;
      border-left: none; /* Quitar borde izquierdo original */
      background: none; backdrop-filter: none; border: none; box-shadow: none; /* Resetear content-box */
      padding-left: 30px; /* Espacio desde la línea */
    }
    /* Círculo en la línea */
    .timeline-item::before {
      content: "";
      position: absolute;
      top: 22px; /* Alinear con h4 */
      left: -5px; /* Centrar sobre la línea principal */
      width: 12px;
      height: 12px;
      background: var(--color-bg);
      border: 2px solid var(--color-accent);
      border-radius: 50%;
      z-index: 1;
      box-shadow: 0 0 5px var(--color-accent-glow);
    }
    .timeline-item h4 {
      font-size: 1.1rem;
      color: var(--color-text);
      margin-bottom: 8px;
    }
    .timeline-year { /* NUEVO */
      color: var(--color-accent);
      font-family: var(--font-heading);
      font-size: 1.3em;
      margin-right: 10px;
      display: inline-block;
    }
    .timeline-item p { color: var(--color-muted); line-height: 1.6; font-size: 0.9rem; }

    /* --- LOGROS Y CERTIFICADOS (Grid similar) --- */
    .achievements-grid, .certifications-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }
    .achievement-item { text-align: center; border-style: dashed; }
    .achievement-icon { font-size: 2.5rem; margin-bottom: 15px; color: var(--color-accent); text-shadow: var(--hud-glow); }
    .achievement-item h4 { font-size: 1.1rem; color: var(--color-accent); margin-bottom: 10px; }
    .achievement-item p { color: var(--color-muted); font-size: 0.85rem; line-height: 1.4; }

    .certification-item { padding: 0; position: relative; overflow: hidden; background: #000; } /* Imagen de fondo */
    .certification-image { opacity: 0.6; transition: opacity var(--transition-medium); display: block; width: 100%; height: 200px; object-fit: cover; } /* Altura fija */
    .certification-item:hover .certification-image { opacity: 0.2; }
    .certification-overlay {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(rgba(var(--color-bg), 0.5), rgba(var(--color-bg), 0.9));
      color: var(--color-text); border-radius: 0; /* No redondear overlay */
      opacity: 0; visibility: hidden;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      padding: 20px; text-align: center;
      transition: opacity var(--transition-medium), visibility var(--transition-medium);
    }
    .certification-item:hover .certification-overlay { opacity: 1; visibility: visible; }
    .overlay-info h3 { font-size: 1.2rem; color: var(--color-accent); margin-bottom: 8px; text-shadow: 0 0 3px var(--color-accent); }
    .overlay-info p { font-size: 0.85rem; line-height: 1.3; color: var(--color-muted); margin-bottom: 15px; }
    .overlay-info button { margin-top: auto; } /* Botón al final */

    /* --- PROCESO --- */
    .process-steps {
      display: grid; /* Usar grid */
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 25px;
    }
    .process-step { text-align: center; }
    .process-step h4 { font-size: 1.2rem; color: var(--color-accent); margin-bottom: 15px; position: relative; padding-left: 35px; /* Espacio para numero */ }
    .step-number { /* NUEVO */
      font-family: var(--font-heading);
      font-size: 1.5em;
      color: var(--color-border);
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.5;
    }
    .process-step p { color: var(--color-muted); font-size: 0.85rem; line-height: 1.5; }

    /* --- BLOG --- */
    .blog-grid { display: grid; gap: 30px; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .blog-item h3 { font-size: 1.3rem; color: var(--color-accent); margin-bottom: 10px; }
    .blog-item p { color: var(--color-muted); line-height: 1.5; font-size: 0.9rem; margin-bottom: 15px; }
    .hud-link { /* Estilo general para enlaces en contenido */
      color: var(--color-accent);
      text-decoration: none;
      border-bottom: 1px dashed var(--color-border);
      transition: color var(--transition-fast), border-color var(--transition-fast);
      padding-bottom: 2px;
    }
    .hud-link:hover { color: var(--color-text); border-color: var(--color-accent); }
    .hud-link.small { font-size: 0.8em; border: none; }
    .hud-link.social { font-size: 1.2rem; border: none; padding: 5px; }

    .blog-coming-soon {
      border: 1px dashed var(--color-border);
      padding: 30px;
      margin-top: 40px;
      text-align: center;
      color: var(--color-muted);
      backdrop-filter: none; /* Sin blur */
    }
    .blog-coming-soon h3 { font-size: 1.5rem; color: var(--color-accent); margin-bottom: 15px; }

    /* --- TESTIMONIOS --- */
    .testimonials-carousel { max-width: 800px; margin: 0 auto; position: relative; padding: 30px; min-height: 180px; /* Evita colapso */}
    .testimonial {
      position: absolute; /* Cambia el activo con JS */
      width: calc(100% - 60px); /* Ancho dentro del padding del carrusel */
      left: 30px; top: 30px;
      opacity: 0; transform: translateX(30px) scale(0.95);
      transition: opacity var(--transition-medium) ease, transform var(--transition-medium) ease;
      text-align: center;
    }
    .testimonial.active {
      opacity: 1; transform: translateX(0) scale(1);
      position: relative; /* Para que ocupe espacio */
      left: 0; top: 0;
    }
    .testimonial p { font-size: 1rem; color: var(--color-muted); margin-bottom: 20px; font-style: italic; }
    .testimonial cite { font-style: normal; font-weight: bold; color: var(--color-accent); display: block; margin-top: 15px; font-size: 0.9rem; }
    .carousel-controls { margin-top: 30px; display: flex; justify-content: center; gap: 12px; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); }
    .carousel-controls button {
      width: 10px; height: 10px; background: var(--color-border); border: none; border-radius: 50%; cursor: pointer; opacity: 0.6; transition: var(--transition-fast);
    }
    .carousel-controls button.active { opacity: 1; background: var(--color-accent); transform: scale(1.3); box-shadow: var(--hud-glow); }

    /* --- SERVICIOS --- */
    .services-grid { display: grid; gap: 30px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .service-card { text-align: center; position: relative; overflow: hidden; }
    .service-card.featured { border-color: var(--color-accent); box-shadow: 0 0 20px var(--color-accent-glow); transform: scale(1.02); }
    .featured-tag { /* NUEVO */
      position: absolute;
      top: 0; right: -40px;
      background: var(--color-accent);
      color: var(--color-bg);
      padding: 5px 40px;
      font-size: 0.7rem;
      font-weight: bold;
      text-transform: uppercase;
      transform: rotate(45deg);
      transform-origin: top left;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    .service-card h4 { font-family: var(--font-heading); font-size: 1.6rem; color: var(--color-accent); margin-bottom: 15px; text-shadow: var(--hud-glow); }
    .service-card p { color: var(--color-muted); line-height: 1.5; margin-bottom: 15px; font-size: 0.9rem; }
    .service-card .price { font-size: 1.8rem; color: var(--color-accent); margin: 25px 0; font-family: var(--font-heading); }
    .service-card button { margin-top: 10px; }

    /* --- DESCARGAS --- */
    .downloads-grid { display: grid; gap: 25px; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
    .download-item { text-align: center; }
    .download-item h4 { color: var(--color-accent); margin-bottom: 10px; font-size: 1rem; word-break: break-all; }
    .download-item p { color: var(--color-muted); font-size: 0.85rem; margin-bottom: 15px; }

    /* --- FAQs --- */
    .faqs-container { max-width: 900px; margin: 0 auto; }
    .faq-item {
      margin-bottom: 15px;
      border: 1px solid var(--color-border);
      border-radius: 5px;
      background: rgba(var(--color-glass-bg), 0.5); /* Ligeramente más opaco */
      overflow: hidden; /* Para transición de altura */
    }
    .faq-question {
      padding: 15px 40px 15px 15px; /* Espacio para icono */
      cursor: pointer;
      font-weight: bold;
      position: relative;
      color: var(--color-text); /* Texto normal */
      transition: background var(--transition-fast);
    }
    .faq-question:hover { background: rgba(var(--color-accent-rgb), 0.1); }
    .faq-question::after { /* Icono +/- */
      content: "+";
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.5rem;
      color: var(--color-accent);
      transition: transform var(--transition-medium) ease;
    }
    .faq-item.open .faq-question::after { transform: translateY(-50%) rotate(45deg); }
    .faq-answer {
      padding: 0 15px; /* Padding horizontal */
      color: var(--color-muted);
      line-height: 1.6;
      font-size: 0.9rem;
      max-height: 0;
      overflow: hidden;
      transition: max-height var(--transition-medium) ease-out, padding var(--transition-medium) ease-out;
    }
    .faq-item.open .faq-answer {
      max-height: 300px; /* Altura máxima esperada */
      padding: 15px; /* Padding completo al abrir */
      border-top: 1px solid var(--color-border);
    }

    /* --- CONTACTO --- */
    .contact-section { text-align: center; }
    .contact-section p { font-size: 1.1rem; color: var(--color-muted); margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto; }

    /* --- FOOTER --- */
    .main-footer {
      background: rgba(var(--color-bg), 0.7);
      border-top: 1px solid var(--color-border);
      padding: 20px 5%;
      text-align: center;
      font-size: 0.8rem;
      color: var(--color-muted);
      position: relative;
      z-index: 5; /* Asegura que esté visible */
    }
    .main-footer p { margin-bottom: 10px; }
    .footer-links { margin-bottom: 10px; }
    .footer-links a { margin: 0 8px; }
    .social-links { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }

    /* --- MODALES --- */
    .modal {
      display: none; /* Controlado por JS */
      position: fixed;
      z-index: 10002; /* Encima del panel de filtro */
      left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      align-items: center; justify-content: center; /* Centrar con flex */
    }
    .modal.open { display: flex; } /* Mostrar con flex */
    .modal-content {
      position: relative;
      padding: 30px; /* Más padding */
      width: 90%;
      max-width: 600px;
      border-radius: 5px; /* Hereda de content-box */
      animation: modal-fadein var(--transition-medium) ease forwards;
       /* Asegurar que hereda el estilo de content-box si no se aplica explícitamente */
       background: var(--color-glass-bg);
       border: 1px solid var(--color-border);
       backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
       box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    @keyframes modal-fadein {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .close-modal {
      position: absolute;
      top: 10px; right: 15px;
      font-size: 2rem;
      color: var(--color-muted);
      cursor: pointer;
      transition: color var(--transition-fast);
      line-height: 1; /* Asegura que no afecte la altura */
      z-index: 1; /* Encima del contenido del modal */
    }
    .close-modal:hover { color: var(--color-accent); }
    .modal-content h3 { color: var(--color-accent); margin-bottom: 15px; font-size: 1.4rem; }
    .modal-content p { color: var(--color-text); line-height: 1.6; margin-bottom: 10px; font-size: 0.9rem; }
    .modal-content p:last-of-type { margin-bottom: 0; }
    .modal-content a.hud-link { display: inline-block; margin-top: 15px; }

    /* --- ANIMACIÓN REVEAL (Scroll) --- */
    .reveal {
      opacity: 0;
      transform: translateY(40px); /* Un poco más de desplazamiento */
      transition: opacity 0.8s cubic-bezier(0.645, 0.045, 0.355, 1), /* Ease-in-out */
                  transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ============================================================
       MEDIA QUERIES (Responsividad)
       ------------------------------------------------------------
       Ajustes para tablets y móviles.
    ============================================================ */
    @media (max-width: var(--tablet-break)) {
      html { font-size: 15px; } /* Ajustar base */
      .hud-readout { font-size: 0.7rem; padding: 4px 8px; }
      .top-left-readout { top: 70px; left: 15px; } /* Reposicionar readouts */
      .top-right-readout { top: 70px; right: 15px; }
      .bottom-left-readout { bottom: 60px; left: 15px; }
      .bottom-right-readout { bottom: 60px; right: 15px; }
      .section-container { padding: 80px 4%; }
      .main-content-wrapper { padding-top: 80px; padding-bottom: 60px; }
    }

    @media (max-width: var(--mobile-break)) {
      html { font-size: 14px; }
      body { cursor: default; } /* Quitar cursor custom en móvil */
      .hud-corner { display: none; } /* Ocultar esquinas */
      .hud-line { display: none; } /* Ocultar líneas */
      .hud-readout { display: none; } /* Ocultar readouts */
      .main-content-wrapper { padding-top: 70px; padding-bottom: 20px; } /* Menos padding */
      #mainHeader { padding: 8px 15px; }
      .branding a { font-size: 1.3rem; }
      .header-controls { gap: 5px; }
      .hud-button { padding: 6px 10px; font-size: 0.7rem; }
      #muteButton { padding: 6px; }
      .filter-panel { width: 85%; max-width: 300px; max-height: 70vh;} /* Ajuste panel filtro movil */
      .hero { padding: 100px 5% 50px 5%; } /* Ajustar padding hero */
      .hero h1 { letter-spacing: 0.02em; }
      .scroll-down-indicator { bottom: 20px; font-size: 1.2rem; }
      .section-container { padding: 60px 5%; }
      .section-title { margin-bottom: 40px; }
      .about-content { flex-direction: column; }
      .about-image { max-width: 250px; margin: 20px auto 0 auto; }
      .skills-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
      .skill-item img { width: 40px; height: 40px; }
      .project-grid { grid-template-columns: 1fr; gap: 25px; } /* Una columna */
      .internal-search { flex-direction: column; align-items: center; }
      .internal-search input { width: 100%; max-width: 300px; }
      .timeline-list { padding-left: 20px; }
      .timeline-item { padding-left: 25px; }
      .timeline-item::before { left: -6px; }
      .achievements-grid, .certifications-grid, .process-steps, .services-grid, .downloads-grid, .blog-grid {
          grid-template-columns: 1fr; /* Una columna */
          gap: 25px;
      }
      .service-card.featured { transform: none; } /* Sin escalar en móvil */
      .featured-tag { right: -30px; font-size: 0.6rem; padding: 4px 30px; }
      .faqs-container { max-width: 100%; }
      .modal-content { width: 95%; padding: 20px; }
      .close-modal { top: 5px; right: 10px; }
    }

  </style>

</head>
<body>

  <!-- ============================================================
       PANTALLA DE CARGA AVANZADA
       ------------------------------------------------------------
       Nuevo diseño con efectos visuales y sonoros.
  ============================================================ -->
  <div class="loader-overlay active" id="loaderOverlay">
    <div class="loader-hud-border"></div>
    <div class="loader-scanline"></div>
    <div class="loader-content">
      <div class="loader-logo">[ LOGO_INIT ]</div>
      <div class="loader-text" id="loaderText">INITIATING SYSTEM...</div>
      <div class="loader-bar-container">
        <div class="loader-bar" id="loaderBar"></div>
      </div>
      <div class="loader-percentage" id="loaderPercentage">0%</div>
      <div class="loader-subtext" id="loaderSubtext">Loading core modules...</div>
    </div>
  </div>

  <!-- ============================================================
       ELEMENTOS DEL HUD (Heads-Up Display)
       ------------------------------------------------------------
       Capas visuales fijas para dar la sensación de interfaz.
  ============================================================ -->
  <div class="hud-overlay">
    <!-- Esquinas Decorativas -->
    <div class="hud-corner top-left"></div>
    <div class="hud-corner top-right"></div>
    <div class="hud-corner bottom-left"></div>
    <div class="hud-corner bottom-right"></div>

    <!-- Líneas Decorativas -->
    <div class="hud-line top"></div>
    <div class="hud-line bottom"></div>
    <div class="hud-line left"></div>
    <div class="hud-line right"></div>

    <!-- Readouts de Información (Ejemplos) -->
    <div class="hud-readout top-left-readout">
      <span>SYS_STATUS:</span> <span class="hud-ok">ONLINE</span>
    </div>
    <div class="hud-readout top-right-readout" id="hudClock">
      --:--:--
    </div>
    <div class="hud-readout bottom-left-readout">
       <span>UID:</span> JAEspinosa_v2.5
    </div>
    <div class="hud-readout bottom-right-readout" id="hudScrollIndicator">
      <span>SCROLL:</span> 0%
    </div>
  </div>

  <!-- ============================================================
       CONTENEDOR PRINCIPAL DEL CONTENIDO
       ------------------------------------------------------------
       Todo el contenido del portafolio va dentro de este wrapper.
  ============================================================ -->
  <div class="main-content-wrapper" id="mainContent">

    <!-- Header Mejorado -->
    <header id="mainHeader">
      <div class="branding">
        <!-- Se podría usar una imagen SVG animada aquí -->
        <a href="#">[ SYS_LOGO ]</a>
      </div>

      <div class="header-controls">
         <!-- NUEVO: Botón Mute -->
         <button class="hud-button" id="muteButton" aria-label="Silenciar Sonidos">
           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18">
                <path d="M12 2.75903C11.4477 2.75903 11 3.20674 11 3.75903V20.259C11 20.8113 11.4477 21.259 12 21.259C12.5523 21.259 13 20.8113 13 20.259V3.75903C13 3.20674 12.5523 2.75903 12 2.75903Z" />
                <path d="M8.06005 6.30287C7.50776 6.30287 7.06005 6.75058 7.06005 7.30287V16.7152C7.06005 17.2675 7.50776 17.7152 8.06005 17.7152C8.61234 17.7152 9.06005 17.2675 9.06005 16.7152V7.30287C9.06005 6.75058 8.61234 6.30287 8.06005 6.30287Z" />
                <path d="M15.9399 6.30287C15.3877 6.30287 14.9399 6.75058 14.9399 7.30287V16.7152C14.9399 17.2675 15.3877 17.7152 15.9399 17.7152C16.4922 17.7152 16.9399 17.2675 16.9399 16.7152V7.30287C16.9399 6.75058 16.4922 6.30287 15.9399 6.30287Z" />
                <path d="M4 9.75903C3.44772 9.75903 3 10.2067 3 10.759V13.259C3 13.8113 3.44772 14.259 4 14.259C4.55228 14.259 5 13.8113 5 13.259V10.759C5 10.2067 4.55228 9.75903 4 9.75903Z" />
                <path d="M20 9.75903C19.4477 9.75903 19 10.2067 19 10.759V13.259C19 13.8113 19.4477 14.259 20 14.259C20.5523 14.259 21 13.8113 21 13.259V10.759C21 10.2067 20.5523 9.75903 20 9.75903Z" />
           </svg>
           <svg class="mute-slash" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
               <path d="M4.75736 3.34315L3.34315 4.75736L19.2426 20.6569L20.6569 19.2426L4.75736 3.34315Z" />
           </svg>
         </button>
         <button class="hud-button theme-toggle" id="themeToggle" aria-label="Cambiar Tema">LGT</button>
         <button class="hud-button lang-toggle" id="langToggle" aria-label="Cambiar Idioma">EN</button>

         <!-- Menú Filtro con Estilo HUD -->
         <div class="filter-container"> <!-- No necesita ser relativo -->
           <button class="hud-button filter-btn" id="filter-btn" aria-label="Abrir menú de filtros">
             NAV_MENU
           </button>
           <!-- El panel es ahora 'fixed' y se controla con JS -->
         </div>
      </div>
    </header>

     <!-- PANEL DE FILTRO (Overlay Centrado) -->
    <div class="filter-panel" id="filter-panel">
        <!-- Contenido del menú (igual que antes) -->
        <ul class="navbar-nav">
           <li><a class="nav-link" href="#hero">Inicio</a></li>
           <li><a class="nav-link" href="#about">Sobre Mí</a></li>
           <li><a class="nav-link" href="#skills">Habilidades</a></li>
           <li><a class="nav-link" href="#proyectos">Proyectos</a></li>
           <li><a class="nav-link" href="#timeline">Cronología</a></li>
           <li><a class="nav-link" href="#achievements">Logros</a></li>
           <li><a class="nav-link" href="#certificados">Certificados</a></li>
           <li><a class="nav-link" href="#process">Proceso</a></li>
           <li><a class="nav-link" href="#blog">Blog</a></li>
           <li><a class="nav-link" href="#testimonials">Testimonios</a></li>
           <li><a class="nav-link" href="#services">Servicios</a></li>
           <li><a class="nav-link" href="#downloads">Descargas</a></li>
           <li><a class="nav-link" href="#faqs">FAQs</a></li>
           <li><a class="nav-link" href="#contact">Contacto</a></li>
           <li><a class="nav-link" href="Evidencias/Menu.html">Evidencias</a></li>
        </ul>
      </div>

    <!-- Overlay para el menú filtro (fondo oscuro) -->
    <div class="filter-overlay" id="filterOverlay"></div>

    <!-- ============================================================
         SECCIONES DEL PORTAFOLIO (Contenido Original Reciclado)
         ------------------------------------------------------------
         Se mantienen las IDs para la navegación y el JS existente.
         Se añadirán clases 'reveal' si no las tienen para animación.
    ============================================================ -->

    <!-- HERO -->
    <section class="hero reveal" id="hero">
      <h1 data-text="PORTAFOLIO DE INMORTAL" id="heroTitle">PORTAFOLIO DE INMORTAL</h1>
      <p id="heroSubtitle">
        Creando experiencias digitales imposibles, fusionando estética, tecnología
        y efectos glitch que desafían la lógica, con auroras danzantes y partículas interactivas.
      </p>
      <!-- Opcional: Añadir un botón o indicador para hacer scroll -->
      <a href="#about" class="scroll-down-indicator" aria-label="Ir a Sobre Mí">▼</a>
    </section>

    <!-- Video de Fondo (Movido fuera del Hero para estar detrás de todo el contenido) -->
    <video autoplay muted loop playsinline id="bg-video">
        <source src="ruta-del-video.mp4" type="video/mp4"> <!-- CAMBIA ESTA RUTA -->
        Tu navegador no soporta videos.
    </video>

    <!-- SOBRE MÍ -->
    <section class="about section-container reveal" id="about">
      <h2 class="section-title">Sobre Mí /// User_Profile</h2>
      <div class="about-content">
        <div class="about-text content-box" id="aboutText">
          <p>
            Soy un desarrollador apasionado por la creación de experiencias digitales
            innovadoras. Con una sólida formación en diseño y programación, me especializo
            en fusionar estética y funcionalidad para ofrecer soluciones que no solo son
            visualmente atractivas sino también altamente eficientes.
          </p>
          <p>
            Mi enfoque se centra en entender las necesidades de mis clientes y usuarios
            para desarrollar proyectos que superen sus expectativas. Siempre busco estar
            al día con las últimas tendencias y tecnologías para asegurar que cada proyecto
            sea relevante y de vanguardia.
          </p>
        </div>
        <div class="about-image content-box">
          <!-- CORREGIDO: Se usa data-src y un placeholder transparente -->
          <img
            data-src="IMG/ID/1.jpg"
            src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" <!-- Placeholder transparente 1x1 -->
            alt="Sobre Mí"
            loading="lazy"
            id="aboutImage"
          >
          <!-- NUEVO: Overlay estilo HUD sobre la imagen -->
          <div class="image-hud-overlay">ID_SCAN: JAEspinosa</div>
        </div>
      </div>
    </section>

    <!-- HABILIDADES -->
    <section class="skills section-container reveal" id="skills">
      <h2 class="section-title">Habilidades /// Skill_Matrix</h2>
      <div class="skills-grid">
        <!-- Items de Habilidad (Misma estructura, pero con clase 'content-box') -->
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/html-5.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="HTML5" loading="lazy">
          <h3>HTML5</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="90"></div></div>
          <div class="skill-level">Nivel: Experto // 90%</div>
        </div>
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/css-3.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="CSS3" loading="lazy">
          <h3>CSS3</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="85"></div></div>
          <div class="skill-level">Nivel: Avanzado // 85%</div>
        </div>
         <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/js.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="JavaScript" loading="lazy">
          <h3>JavaScript</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="80"></div></div>
          <div class="skill-level">Nivel: Avanzado // 80%</div>
        </div>
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/REACT.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="React" loading="lazy">
          <h3>React</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="75"></div></div>
          <div class="skill-level">Nivel: Intermedio // 75%</div>
        </div>
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/NODE.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Node.js" loading="lazy">
          <h3>Node.js</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="70"></div></div>
          <div class="skill-level">Nivel: Intermedio // 70%</div>
        </div>
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/piyton.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Python" loading="lazy">
          <h3>Python</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="60"></div></div>
          <div class="skill-level">Nivel: En Progreso // 60%</div>
        </div>
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/git.png" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Git" loading="lazy">
          <h3>Git</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="90"></div></div>
          <div class="skill-level">Nivel: Experto // 90%</div>
        </div>
        <div class="skill-item content-box">
          <img data-src="IMG/HABILIDADES/ui-ux-.jpg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="UI/UX" loading="lazy">
          <h3>UI/UX</h3>
          <div class="progress-bar-container"><div class="progress-bar-fill" data-skill-level="80"></div></div>
          <div class="skill-level">Nivel: Avanzado // 80%</div>
        </div>
      </div>
    </section>

    <!-- PROYECTOS -->
    <section class="projects section-container reveal" id="proyectos">
      <h2 class="section-title">Proyectos Destacados /// Portfolio_Data</h2>
      <div class="internal-search content-box">
        <input type="text" id="searchProjectInput" placeholder="Filtrar proyectos por nombre/descripción..." />
        <button id="searchProjectBtn" class="hud-button small">Buscar</button>
      </div>
      <div class="project-grid" id="projectGrid">
        <!-- Items de Proyecto (Misma estructura, con 'content-box') -->
        <div class="project-item content-box">
          <h3>Proyecto A</h3>
          <video controls muted preload="metadata" poster="IMG/posterA.png">
            <source src="MP4/Proyectos/P-1.mp4" type="video/mp4">
          </video>
          <p>Este menú está diseñado para ofrecer una experiencia segura y amigable.</p>
           <!-- NUEVO: Etiquetas de tecnología (ejemplo) -->
           <div class="tech-tags"><span>HTML</span><span>CSS</span><span>JS</span></div>
        </div>
        <div class="project-item content-box">
           <h3>Proyecto B</h3>
           <video controls muted preload="metadata" poster="IMG/posterB.png">
               <source src="MP4/Proyectos/P-2.mp4" type="video/mp4">
           </video>
           <p>Una experiencia única con nuestra interfaz esférica intuitiva y dinámica.</p>
           <div class="tech-tags"><span>Three.js</span><span>WebGL</span><span>UI</span></div>
        </div>
        <div class="project-item content-box">
            <h3>Proyecto C</h3>
            <video controls muted preload="metadata" poster="IMG/posterC.png">
               <source src="MP4/Proyectos/P-3.mp4" type="video/mp4">
           </video>
            <p>Landing page con tipografía deformable y espectros cromáticos, impulsada por IA.</p>
            <div class="tech-tags"><span>AI</span><span>JS</span><span>Canvas</span><span>Creative Coding</span></div>
        </div>
      </div>
    </section>

    <!-- CRONOLOGÍA -->
    <section class="timeline section-container reveal" id="timeline">
      <h2 class="section-title">Cronología /// Career_Log</h2>
      <div class="timeline-list">
         <!-- Items de Cronología (con 'content-box') -->
         <div class="timeline-item content-box">
             <h4><span class="timeline-year">2020</span> /// Genesis_Phase</h4>
             <p>Comencé mi formación en desarrollo web, aprendiendo lo básico de HTML, CSS y JavaScript. Primeros pasos en la matriz digital.</p>
         </div>
         <div class="timeline-item content-box">
             <h4><span class="timeline-year">2021</span> /// Alpha_Builds</h4>
             <p>Trabajé en proyectos personales y prácticas profesionales. Participé en hackathons y gané experiencia en equipos ágiles. Compilando experiencia.</p>
         </div>
         <div class="timeline-item content-box">
             <h4><span class="timeline-year">2022</span> /// Core_Specialization</h4>
             <p>Me enfoqué en React y Node.js, creando aplicaciones fullstack. Desarrollé varias páginas web para clientes locales. Interfaces optimizadas.</p>
         </div>
          <div class="timeline-item content-box">
             <h4><span class="timeline-year">2023</span> /// Aesthetic_Fusion</h4>
             <p>Descubrí mi pasión por el diseño futurista y el uso creativo de animaciones y efectos glitch en proyectos web. Integración de estilos cyberglow.</p>
         </div>
          <div class="timeline-item content-box">
             <h4><span class="timeline-year">2024-PRESENTE</span> /// Quantum_Leap</h4>
             <p>Sigo evolucionando mis habilidades y explorando nuevas tecnologías, incluyendo IA, Web3 y visualización de datos avanzada. Expandiendo horizonte de eventos.</p>
         </div>
      </div>
    </section>

    <!-- LOGROS -->
    <section class="achievements section-container reveal" id="achievements">
      <h2 class="section-title">Reconocimientos y Logros /// Accolade_Registry</h2>
      <div class="achievements-grid">
         <!-- Items de Logro (con 'content-box') -->
         <div class="achievement-item content-box">
             <div class="achievement-icon">🏆</div>
             <h4>Hackathon Futurista 2022</h4>
             <p>Ganador del primer lugar en la categoría de Mejor Diseño Interactivo. [Code: HF2022_WIN]</p>
         </div>
         <div class="achievement-item content-box">
             <div class="achievement-icon">✅</div>
             <h4>Certificación React Avanzado</h4>
             <p>Expedido por Platzi, demostrando dominio de la librería. [CertID: PLZ_RCT_ADV]</p>
         </div>
          <div class="achievement-item content-box">
             <div class="achievement-icon">📜</div>
             <h4>Diploma en UX/UI Design</h4>
             <p>Formación completa en experiencia de usuario y diseño de interfaces. [CertID: UXUI_DPL]</p>
         </div>
          <div class="achievement-item content-box">
             <div class="achievement-icon">⭐</div>
             <h4>Mención Honorífica - Tesis</h4>
             <p>Por Universidad XYZ, reconociendo proyecto sobre accesibilidad web. [Ref: UNIVXYZ_ACC_TH]</p>
         </div>
      </div>
    </section>

    <!-- CERTIFICADOS -->
    <section class="certificados section-container reveal" id="certificados">
      <h2 class="section-title">Certificados Digitales /// Credential_Vault</h2>
      <div class="certifications-grid">
         <!-- Items de Certificado (Misma estructura, con 'content-box') -->
         <div class="certification-item content-box"> <!-- Eliminado data-aos -->
             <img data-src="Certificados/src/img/html-css-js.jpeg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Certificado HTML, CSS, JavaScript" class="certification-image" loading="lazy">
             <div class="certification-overlay">
                 <div class="overlay-info">
                     <h3>[IBM] Web Dev Foundations</h3>
                     <p>HTML, CSS, JavaScript Essentials.</p>
                     <p>Emitido: 05/03/2025</p>
                     <button class="hud-button small modal-trigger" data-modal-id="modal-cert1">Ver Credencial</button>
                 </div>
             </div>
         </div>
         <div class="certification-item content-box">
             <img data-src="Certificados/src/img/Generative AI-Elevate your Software Development.jpeg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Certificado Generative AI" class="certification-image" loading="lazy">
              <div class="certification-overlay">
                 <div class="overlay-info">
                     <h3>[IBM] Generative AI Dev</h3>
                     <p>AI aplicada a Software Engineering.</p>
                     <p>Emitido: 10/04/2025</p>
                     <button class="hud-button small modal-trigger" data-modal-id="modal-cert2">Ver Credencial</button>
                 </div>
             </div>
         </div>
          <div class="certification-item content-box">
             <img data-src="Certificados/src/img/Getting Started with Git and GitHub.jpeg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Certificado Git y GitHub" class="certification-image" loading="lazy">
              <div class="certification-overlay">
                 <div class="overlay-info">
                     <h3>[IBM] Git & GitHub Mastery</h3>
                     <p>Version Control & Collaboration.</p>
                     <p>Emitido: 15/04/2025</p>
                     <button class="hud-button small modal-trigger" data-modal-id="modal-cert3">Ver Credencial</button>
                 </div>
             </div>
         </div>
          <div class="certification-item content-box">
             <img data-src="Certificados/src/img/Certificado Ciberseguridad.jpeg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Certificado Ciberseguridad" class="certification-image" loading="lazy">
              <div class="certification-overlay">
                 <div class="overlay-info">
                     <h3>[Google] Cybersecurity Foundations</h3>
                     <p>Protecting Digital Assets.</p>
                     <p>Emitido: 28/03/2025</p>
                     <button class="hud-button small modal-trigger" data-modal-id="modal-cert4">Ver Credencial</button>
                 </div>
             </div>
         </div>
      </div>
    </section>

    <!-- PROCESO DE TRABAJO -->
    <section class="process section-container reveal" id="process">
      <h2 class="section-title">Proceso de Trabajo /// Workflow_Protocol</h2>
      <div class="process-steps">
         <!-- Pasos del Proceso (con 'content-box') -->
         <div class="process-step content-box">
            <h4><span class="step-number">01</span> Análisis</h4>
            <p>Comprensión profunda de requerimientos, investigación de mercado y alineación estratégica con el cliente. Estableciendo vector inicial.</p>
         </div>
          <div class="process-step content-box">
            <h4><span class="step-number">02</span> Diseño</h4>
            <p>Creación de wireframes, mockups interactivos y prototipos funcionales. Priorizando UX/UI óptima y estética definida. Arquitectura visual.</p>
         </div>
          <div class="process-step content-box">
            <h4><span class="step-number">03</span> Desarrollo</h4>
            <p>Implementación con tecnologías adecuadas, código limpio y eficiente, siguiendo buenas prácticas y seguridad. Fase de compilación.</p>
         </div>
         <div class="process-step content-box">
            <h4><span class="step-number">04</span> Pruebas</h4>
            <p>QA exhaustiva, depuración de errores, optimización de rendimiento y pruebas de compatibilidad cross-browser/device. Protocolo de validación.</p>
         </div>
          <div class="process-step content-box">
            <h4><span class="step-number">05</span> Entrega</h4>
            <p>Despliegue controlado, entrega de documentación completa y soporte post-lanzamiento para estabilidad y éxito continuo. Misión completada.</p>
         </div>
      </div>
    </section>

    <!-- BLOG -->
     <section class="blog section-container reveal" id="blog">
       <h2 class="section-title">Blog /// Knowledge_Base</h2>
       <div class="blog-grid" id="blogGrid">
           <!-- Items del Blog (con 'content-box') -->
           <div class="blog-item content-box">
               <h3>Cómo Empezar con React</h3>
               <p>React: Biblioteca JS para UIs. Exploramos fundamentos para tu primer proyecto. [Entry: React_Basics]</p>
               <a href="Blog/React.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
           <div class="blog-item content-box">
               <h3>Optimización SEO 2024</h3>
               <p>SEO: Clave para visibilidad web. Descubre best practices y estrategias para optimizar contenido. [Entry: SEO_2024]</p>
               <a href="Blog/Ceo.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
           <div class="blog-item content-box">
               <h3>Diseño Responsivo: Claves</h3>
               <p>Responsive Design: Asegura visualización óptima en cualquier dispositivo. Técnicas esenciales. [Entry: Responsive_Keys]</p>
               <a href="Blog/Diseño.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
           <div class="blog-item content-box">
               <h3>Introducción a la IA</h3>
               <p>Inteligencia Artificial: Transformando industrias. Intro a conceptos básicos y aplicaciones. [Entry: AI_Intro]</p>
               <a href="Blog/IA.html" class="hud-link">Leer Transmisión &gt;</a>
           </div>
       </div>
       <div class="blog-coming-soon content-box">
           <h3>[ Próximas Entradas // Standby ]</h3>
           <p>Procesando nuevo contenido... Mantente conectado para futuras transmisiones sobre desarrollo web, diseño avanzado, IA y más allá.</p>
       </div>
     </section>

    <!-- TESTIMONIOS -->
    <section class="testimonials section-container reveal" id="testimonials">
       <h2 class="section-title" id="testimonialsTitle">Testimonios /// Client_Feedback_Log</h2>
       <div class="testimonials-carousel content-box">
           <!-- Testimonios (Misma estructura interna) -->
           <div class="testimonial active">
               <p>"Increíble trabajo, el resultado superó todas mis expectativas. La interfaz es de otro mundo."</p>
               <cite>— Juan Pérez [Ref: JP_Feedback]</cite>
           </div>
           <div class="testimonial">
               <p>"Profesional, creativo y fácil de colaborar. Una visión verdaderamente futurista aplicada con maestría."</p>
               <cite>— María López [Ref: ML_Feedback]</cite>
           </div>
           <div class="testimonial">
               <p>"El diseño y las animaciones elevaron nuestro producto a un nivel completamente nuevo. Impacto inmediato."</p>
               <cite>— Carlos Gómez [Ref: CG_Feedback]</cite>
           </div>
           <!-- Controles del Carrusel -->
           <div class="carousel-controls">
               <button class="active" aria-label="Mostrar Testimonio 1"></button>
               <button aria-label="Mostrar Testimonio 2"></button>
               <button aria-label="Mostrar Testimonio 3"></button>
           </div>
       </div>
    </section>

    <!-- SERVICIOS -->
    <section class="services section-container reveal" id="services">
        <h2 class="section-title">Servicios /// Service_Matrix</h2>
        <div class="services-grid">
            <!-- Tarjetas de Servicio (con 'content-box') -->
            <div class="service-card content-box">
                <h4>Plan [CORE]</h4>
                <p>Ideal para proyectos personales o prototipos de pequeña escala. Presencia digital esencial.</p>
                <p class="price">$49 // Ciclo Mensual</p>
                <button class="hud-button">Iniciar Protocolo</button>
            </div>
            <div class="service-card content-box featured"> <!-- NUEVO: Clase 'featured' para destacar -->
                 <div class="featured-tag">RECOMENDADO</div>
                 <h4>Plan [NEXUS]</h4>
                 <p>Perfecto para startups o negocios en crecimiento. Funcionalidad y diseño avanzados.</p>
                 <p class="price">$99 // Ciclo Mensual</p>
                 <button class="hud-button primary">Activar Nexus</button>
            </div>
            <div class="service-card content-box">
                 <h4>Plan [AEGIS]</h4>
                 <p>Solución robusta para grandes compañías y proyectos complejos. Soporte y escalabilidad premium.</p>
                 <p class="price">$199 // Ciclo Mensual</p>
                 <button class="hud-button">Desplegar Aegis</button>
            </div>
        </div>
    </section>

    <!-- DESCARGAS -->
    <section class="downloads section-container reveal" id="downloads">
        <h2 class="section-title">Descargas /// Data_Repository</h2>
        <div class="downloads-grid">
            <!-- Items de Descarga (con 'content-box') -->
            <div class="download-item content-box">
                <h4>CV_JAEspinosa_v2.5.pdf</h4>
                <p>Currículum Vitae actualizado. Formato seguro PDF.</p>
                <button class="hud-button small download-trigger" data-file="src/pdf/CV-ESPINOSA.pdf">Descargar Archivo</button>
            </div>
            <div class="download-item content-box">
                <h4>BestPractices_Guide_v1.pdf</h4>
                <p>Guía de buenas prácticas en código y diseño responsive.</p>
                <button class="hud-button small download-trigger" data-file="files/GuiaBuenasPracticas.pdf">Descargar Archivo</button>
            </div>
            <div class="download-item content-box">
                <h4>JS_Snippets_Collection.pdf</h4>
                <p>Recopilación de snippets útiles de JavaScript para desarrollo web.</p>
                <button class="hud-button small download-trigger" data-file="files/JS-Tips.pdf">Descargar Archivo</button>
            </div>
        </div>
    </section>

    <!-- FAQs -->
    <section class="faqs section-container reveal" id="faqs">
       <h2 class="section-title">Preguntas Frecuentes /// FAQ_Database</h2>
       <div class="faqs-container content-box">
           <!-- Items FAQ (Misma estructura interna) -->
           <div class="faq-item">
               <div class="faq-question">¿Tiempo estimado de entrega de proyecto? [Query: ETA]</div>
               <div class="faq-answer">El tiempo varía según complejidad (2-6 semanas base). Ajustable a necesidades específicas. Contactar para análisis detallado.</div>
           </div>
           <div class="faq-item">
               <div class="faq-question">¿Ofrecen mantenimiento post-entrega? [Query: Maintenance]</div>
               <div class="faq-answer">Afirmativo. Disponibles planes de soporte y mantenimiento para asegurar operatividad y actualizaciones continuas del sistema.</div>
           </div>
           <div class="faq-item">
               <div class="faq-question">¿Capacidad para proyectos internacionales? [Query: Global]</div>
               <div class="faq-answer">Confirmado. Experiencia con clientes globales. Adaptabilidad a diferentes zonas horarias y requerimientos interculturales.</div>
           </div>
           <div class="faq-item">
               <div class="faq-question">¿Cómo solicitar presupuesto personalizado? [Query: Quote]</div>
               <div class="faq-answer">Enviar un mensaje encriptado (correo electrónico) a <a href="mailto:jarmando2965@gmail.com" class="hud-link">jarmando2965@gmail.com</a> con detalles del proyecto. Respuesta prioritaria asegurada.</div>
           </div>
       </div>
    </section>

    <!-- CONTACTO -->
    <section class="contact-section section-container reveal" id="contact">
       <h2 class="section-title" id="contactTitle">Contacto /// Comms_Link</h2>
       <p id="contactIntro">
           Estableciendo conexión... ¿Listo para iniciar tu próximo proyecto digital?
           Fusionamos tecnología, arte e interacción. Abre un canal de comunicación.
       </p>
       <a href="mailto:jarmando2965@gmail.com" class="hud-button primary large contact-button" id="contactBtn">Iniciar Transmisión</a>
    </section>

    <!-- Footer Minimalista -->
    <footer class="main-footer">
      <p id="footerCopy">© 2025 Ing. Espinosa Martínez José Armando. /// System Integrity Verified.</p>
      <div class="footer-links">
          <a href="#" class="hud-link small">Privacy_Protocol</a> | <a href="#" class="hud-link small">Terms_Of_Service</a>
      </div>
      <div class="social-links">
         <a href="https://www.linkedin.com" target="_blank" rel="noopener" class="hud-link social" aria-label="LinkedIn">LI</a>
         <a href="https://github.com" target="_blank" rel="noopener" class="hud-link social" aria-label="GitHub">GH</a>
         <a href="https://dribbble.com" target="_blank" rel="noopener" class="hud-link social" aria-label="Dribbble">DR</a>
      </div>
    </footer>

  </div> <!-- Fin de .main-content-wrapper -->

  <!-- ============================================================
       MODALES (Misma estructura, IDs referenciadas por botones)
  ============================================================ -->
  <div id="modal-cert1" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[IBM] Web Dev Foundations</h3><p>Curso introductorio completo a HTML, CSS, & JavaScript por IBM. Fundamentos esenciales para desarrollo web moderno.</p><p>Emitido: IBM // Fecha: 05/03/2025</p><p><a href="https://coursera.org/verify/CZ47JIW4L9Y" target="_blank" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>
  <div id="modal-cert2" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[IBM] Generative AI for Software Development</h3><p>Capacitación en IA Generativa aplicada al desarrollo de software para optimización y automatización de procesos.</p><p>Emitido: IBM // Fecha: 10/04/2025</p><p><a href="https://coursera.org/verify/F046N23FJU08" target="_blank" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>
  <div id="modal-cert3" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[IBM] Mastering Git and GitHub</h3><p>Curso intensivo sobre control de versiones con Git y GitHub. Best practices para colaboración eficiente en proyectos.</p><p>Emitido: IBM // Fecha: 15/04/2025</p><p><a href="https://www.coursera.org/account/accomplishments/verify/CWRQOJ19Z102" target="_blank" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>
  <div id="modal-cert4" class="modal"><div class="modal-content content-box"><span class="close-modal">&times;</span><h3>[Google] Foundations of Cybersecurity</h3><p>Curso especializado en fundamentos de ciberseguridad. Estrategias y herramientas para protección de datos digitales.</p><p>Emitido: Google // Fecha: 28/03/2025</p><p><a href="https://www.coursera.org/account/accomplishments/verify/F046JNZ3FUO9" target="_blank" class="hud-link">Verificar Credencial [Ext]</a></p></div></div>


  <!-- ============================================================
       ELEMENTOS DE AUDIO (IDs específicas para control JS)
       ------------------------------------------------------------
       Organizados aquí para fácil referencia y precarga.
  ============================================================ -->

  <!-- Sonido de "terminal" o proceso en curso durante la pantalla de carga inicial. -->
  <audio id="loadingAudio" loop preload="auto">
    <source src="Evidencias/Audio/Sound-mp3/terminal.mp3" type="audio/mpeg">
  </audio>

  <!-- Sonido corto de "aviso" o "sistema listo" que suena al finalizar la carga (100%). -->
  <audio id="loadCompleteAudio" preload="auto">
    <source src="Evidencias/Audio/Sound-mp3/aviso.mp3" type="audio/mpeg">
  </audio>

  <!-- Música de fondo principal que se reproduce en bucle una vez cargada la página. -->
  <audio id="backgroundAudio" loop preload="auto">
    <source src="Audio/Hybrid & Dark.mp3" type="audio/mpeg">
  </audio>

  <!-- Sonido genérico para clics en botones, enlaces y otros elementos interactivos de la UI. -->
  <audio id="uiClickAudio" preload="auto">
    <source src="Audio/ui_click.mp3" type="audio/mpeg">
  </audio>

  <!-- Sonido genérico para el efecto hover sobre elementos interactivos (botones, cards, etc.). -->
  <!-- NOTA: La fuente actual 'Hybrid & Dark.mp3' parece incorrecta para un hover, considera cambiarla por un sonido corto. -->
  <audio id="uiHoverAudio" preload="auto">
    <source src="Audio/botones/botón UI haga clic en 1.mp3" type="audio/mpeg">
  </audio>

  <!-- Sonido específico que se reproduce al pasar el cursor sobre los enlaces dentro del menú de navegación/filtrado. -->
  <audio id="filterHoverAudio" preload="auto">
    <source src="Evidencias/Audio/Sound-mp3/click 2.mp3" type="audio/mpeg">
  </audio>


  <!-- ============================================================ -->
  <!-- JavaScript Logic (Unificado dentro de <script>)             -->
  <!-- ============================================================ -->
  <script>
    "use strict"; // Modo estricto para buenas prácticas

    document.addEventListener('DOMContentLoaded', () => {

        // ============================================================
        // SELECTORES DE ELEMENTOS FRECUENTES
        // ============================================================
        const loaderOverlayEl = document.getElementById('loaderOverlay');
        const loaderBar = document.getElementById('loaderBar');
        const loaderPercentage = document.getElementById('loaderPercentage');
        const loaderText = document.getElementById('loaderText'); // NUEVO: Texto de carga
        const loaderSubtext = document.getElementById('loaderSubtext'); // NUEVO: Subtexto
        const mainHeader = document.getElementById('mainHeader');
        const mainContent = document.getElementById('mainContent');
        const hudOverlay = document.querySelector('.hud-overlay');
        const hudClock = document.getElementById('hudClock');
        const hudScrollIndicator = document.getElementById('hudScrollIndicator');
        const filterBtn = document.getElementById('filter-btn');
        const filterPanel = document.getElementById('filter-panel');
        const filterOverlay = document.getElementById('filterOverlay');
        const themeToggle = document.getElementById('themeToggle');
        const langToggle = document.getElementById('langToggle');
        const muteButton = document.getElementById('muteButton');
        const htmlEl = document.documentElement;

        // ============================================================
        // MANEJO DE SONIDOS
        // NUEVO: Centralizado y con Mute
        // ============================================================
        const sounds = {
            loading: document.getElementById('loadingAudio'),
            complete: document.getElementById('loadCompleteAudio'),
            background: document.getElementById('backgroundAudio'),
            click: document.getElementById('uiClickAudio'),
            hover: document.getElementById('uiHoverAudio'),
            filterHover: document.getElementById('filterHoverAudio')
        };

        let isMuted = localStorage.getItem('portfolioMuted') === 'true'; // Recuperar estado de mute

        function updateMuteButton() {
            if (!muteButton) return; // Verificar si el botón existe
            if (isMuted) {
                muteButton.classList.add('muted');
                muteButton.setAttribute('aria-label', 'Activar Sonidos');
            } else {
                muteButton.classList.remove('muted');
                muteButton.setAttribute('aria-label', 'Silenciar Sonidos');
            }
        }

        function playSound(soundName, volume = 0.5) {
            if (isMuted || !sounds[soundName]) return;
            try {
                sounds[soundName].volume = volume;
                sounds[soundName].currentTime = 0; // Reiniciar si ya sonaba
                // Pequeño delay antes de play para evitar errores en algunos navegadores
                setTimeout(() => {
                    sounds[soundName].play().catch(e => console.warn(`Error al reproducir sonido (${soundName}):`, e));
                }, 10);
            } catch (e) {
                console.warn(`Error al manejar sonido (${soundName}):`, e);
            }
        }


        function stopSound(soundName) {
            if (sounds[soundName]) {
                try {
                    sounds[soundName].pause();
                    sounds[soundName].currentTime = 0;
                } catch(e) {
                     console.warn("Error al detener sonido:", e);
                }
            }
        }

        // Inicializar botón mute y sonidos base
        updateMuteButton();
        sounds.background.volume = 0.2; // Volumen bajo para música de fondo
        sounds.loading.volume = 0.4;

        if (muteButton) {
            muteButton.addEventListener('click', () => {
                isMuted = !isMuted;
                localStorage.setItem('portfolioMuted', isMuted); // Guardar preferencia
                updateMuteButton();
                // Detener/reanudar música de fondo según estado
                if (isMuted) {
                    stopSound('background');
                    stopSound('loading'); // También detener sonido de carga si está activo
                } else if (loaderOverlayEl && loaderOverlayEl.classList.contains('active')) {
                     playSound('loading', 0.4); // Reanudar sonido de carga si aún está cargando
                } else {
                     playSound('background', 0.2); // Reanudar música de fondo si ya terminó de cargar
                }
                playSound('click', 0.6); // Sonido de clic para el propio botón
            });
        }


        // ============================================================
        // PANTALLA DE CARGA AVANZADA
        // NUEVO: Textos dinámicos, sonido, transición mejorada.
        // ============================================================
        if (loaderOverlayEl) { // Solo ejecutar si el loader existe
            let progress = 0;
            const loadingSteps = [ // Pasos de carga simulados
                { percent: 15, text: "Booting Kernal...", subtext: "Memory check..." },
                { percent: 30, text: "Loading UI Modules...", subtext: "Initializing HUD..." },
                { percent: 55, text: "Establishing Comms Link...", subtext: "Verifying connection..." },
                { percent: 75, text: "Decrypting Asset Data...", subtext: "Processing portfolio..." },
                { percent: 90, text: "Final System Checks...", subtext: "Almost there..." },
                { percent: 100, text: "SYSTEM ONLINE", subtext: "Welcome." }
            ];
            let currentStep = 0;

            playSound('loading', 0.4); // Iniciar sonido de carga

            const simulateLoading = setInterval(() => {
                progress += Math.random() * 2 + 0.5; // Progreso un poco aleatorio
                progress = Math.min(progress, 100); // No pasar de 100

                if(loaderBar) loaderBar.style.width = progress + '%';
                if(loaderPercentage) loaderPercentage.textContent = Math.floor(progress) + '%';

                // Actualizar textos de carga
                if (currentStep < loadingSteps.length && progress >= loadingSteps[currentStep].percent) {
                    if(loaderText) loaderText.textContent = loadingSteps[currentStep].text;
                    if(loaderSubtext) loaderSubtext.textContent = loadingSteps[currentStep].subtext;
                    currentStep++;
                }

                if (progress >= 100) {
                    clearInterval(simulateLoading);
                    stopSound('loading');
                    playSound('complete', 0.6);

                    // Esperar un poco después del 100% para leer "SYSTEM ONLINE"
                    setTimeout(() => {
                        loaderOverlayEl.classList.remove('active'); // Inicia la transición de salida

                        // Después de la transición del loader, mostrar contenido
                        setTimeout(() => {
                            loaderOverlayEl.style.display = 'none'; // Ocultar completamente
                            if(mainHeader) mainHeader.classList.add('visible');
                            if(mainContent) mainContent.classList.add('visible');
                            if(hudOverlay) hudOverlay.classList.add('visible');
                            playSound('background', 0.2); // Iniciar música de fondo
                            // Disparar las animaciones de reveal iniciales que sean visibles
                            triggerVisibleReveals();
                            startClock(); // Iniciar reloj del HUD
                        }, 700); // Debe coincidir con la duración de transition en .loader-overlay
                    }, 500); // Pequeña pausa en 100%
                }
            }, 50); // Intervalo de actualización
        } else {
            // Si no hay loader, mostrar contenido directamente
            if(mainHeader) mainHeader.classList.add('visible');
            if(mainContent) mainContent.classList.add('visible');
            if(hudOverlay) hudOverlay.classList.add('visible');
            playSound('background', 0.2);
            triggerVisibleReveals();
            startClock();
        }


        // ============================================================
        // FUNCIONALIDAD DEL MENÚ FILTRO (Overlay Centrado)
        // ============================================================
        if (filterBtn && filterPanel && filterOverlay) { // Verificar existencia
            filterBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                playSound('click');
                filterPanel.classList.toggle('open');
                filterOverlay.classList.toggle('open');
            });

            filterOverlay.addEventListener('click', () => {
                playSound('click', 0.4);
                filterPanel.classList.remove('open');
                filterOverlay.classList.remove('open');
            });

            document.addEventListener('click', (e) => {
                if (filterPanel.classList.contains('open') && !filterPanel.contains(e.target) && !filterBtn.contains(e.target)) {
                    filterPanel.classList.remove('open');
                    filterOverlay.classList.remove('open');
                }
            });

            // Cerrar menú al hacer clic en un enlace del menú
            const filterLinks = filterPanel.querySelectorAll('.nav-link');
            filterLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    playSound('click');
                    const targetHref = link.getAttribute('href');
                    filterPanel.classList.remove('open'); // Siempre cerrar el panel
                    filterOverlay.classList.remove('open'); // Siempre cerrar el overlay

                    // Evitar scroll suave si es enlace externo
                    if (targetHref && targetHref.startsWith('#')) {
                        e.preventDefault();
                        smoothScrollTo(targetHref);
                    }
                    // Si es externo (ej: Evidencias/Menu.html), permite la navegación normal
                });
                // Sonido de hover específico para el menú
                link.addEventListener('mouseenter', () => {
                    playSound('filterHover', 0.5);
                });
            });
        }


        // ============================================================
        // SCROLL SUAVE PARA ENLACES INTERNOS
        // ============================================================
        function smoothScrollTo(targetSelector) {
            const targetElement = document.querySelector(targetSelector);
            if (targetElement && mainHeader) { // Verificar si existen
                const headerOffset = mainHeader.offsetHeight + 20;
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            } else if (targetElement) {
                 // Si no hay header, scroll directo
                 targetElement.scrollIntoView({ behavior: 'smooth'});
            }
        }

        // Aplicar a enlaces fuera del menú filtro (ej: scroll-down-indicator)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            // Excluir botones de carrusel, modales, y el panel de filtro en sí
            if (!anchor.closest('.carousel-controls') && !anchor.closest('.modal-content') && !anchor.closest('.filter-panel')) {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    playSound('click');
                    smoothScrollTo(this.getAttribute('href'));
                });
            }
        });


        // ============================================================
        // ANIMACIONES AL HACER SCROLL (REVEAL)
        // ============================================================
        const revealElements = document.querySelectorAll('.reveal');
        if (typeof IntersectionObserver !== 'undefined') { // Verificar soporte del navegador
            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        // observer.unobserve(entry.target); // Descomentar para animar solo una vez
                    } else {
                        // entry.target.classList.remove('visible'); // Descomentar para animar cada vez
                    }
                });
            }, {
                root: null,
                threshold: 0.15,
                rootMargin: '0px 0px -50px 0px'
            });

            revealElements.forEach(el => revealObserver.observe(el));
        } else {
            // Fallback si IntersectionObserver no es soportado (mostrar todo)
            revealElements.forEach(el => el.classList.add('visible'));
        }

        // Función para disparar manualmente reveals (útil después de la carga)
        function triggerVisibleReveals() {
             revealElements.forEach(el => {
                 const rect = el.getBoundingClientRect();
                 if (rect.top < window.innerHeight && rect.bottom >= 0 && rect.left < window.innerWidth && rect.right >= 0) {
                     el.classList.add('visible');
                 }
             });
             triggerVisibleSkillBars(); // Mover llamada aquí para asegurar que se ejecute después de revelar
        }


        // ============================================================
        // CARRUSEL DE TESTIMONIOS
        // ============================================================
        const testimonials = document.querySelectorAll('.testimonial');
        const carouselButtons = document.querySelectorAll('.carousel-controls button');
        let currentTestimonialIndex = 0;

        function changeTestimonial(index) {
            if (index === currentTestimonialIndex || testimonials.length === 0) return;
            playSound('click', 0.4);
            testimonials[currentTestimonialIndex].classList.remove('active');
            if(carouselButtons[currentTestimonialIndex]) carouselButtons[currentTestimonialIndex].classList.remove('active');
            currentTestimonialIndex = index;
            testimonials[currentTestimonialIndex].classList.add('active');
            if(carouselButtons[currentTestimonialIndex]) carouselButtons[currentTestimonialIndex].classList.add('active');
        }

        carouselButtons.forEach((btn, i) => {
            btn.addEventListener('click', () => changeTestimonial(i));
        });
        // Inicializar
        if(testimonials.length > 0 && carouselButtons.length > 0) {
            testimonials[0].classList.add('active');
            carouselButtons[0].classList.add('active');
        }


        // ============================================================
        // LIGHT/DARK MODE TOGGLE
        // ============================================================
        const translationsForThemeToggle = { // Textos específicos para el botón de tema
             '#themeToggle': {
                 es: { light: 'DRK', dark: 'LGT' },
                 en: { light: 'DRK', dark: 'LGT' }
             }
         };

        function applyTheme(theme) {
            htmlEl.setAttribute('data-theme', theme);
            // Actualizar texto del botón de tema según el idioma y tema actual
            const currentLang = localStorage.getItem('portfolioLang') || 'es';
             if (themeToggle && translationsForThemeToggle['#themeToggle']?.[currentLang]?.[theme]) {
                 themeToggle.textContent = translationsForThemeToggle['#themeToggle'][currentLang][theme];
             }
            localStorage.setItem('portfolioTheme', theme);
        }

        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                playSound('click');
                const currentTheme = htmlEl.getAttribute('data-theme') || 'dark';
                applyTheme(currentTheme === 'dark' ? 'light' : 'dark');
            });
        }

        // Aplicar tema guardado al cargar
        const savedTheme = localStorage.getItem('portfolioTheme');
        applyTheme(savedTheme || 'dark'); // Default a dark


        // ============================================================
        // INTERNACIONALIZACIÓN BÁSICA (i18n)
        // ============================================================
         const translations = {
            // IDs / Selectores y sus textos en ES y EN
            'heroTitle': { es: 'PORTAFOLIO DE INMORTAL', en: 'IMMORTAL PORTFOLIO [SYS]' },
            'heroSubtitle': { es: 'Creando experiencias digitales imposibles, fusionando estética, tecnología y efectos glitch que desafían la lógica, con auroras danzantes y partículas interactivas.', en: 'Crafting impossible digital experiences, merging aesthetics, technology, and reality-defying glitch effects, with dancing auroras and interactive particles.' },
            '#about .section-title': { es: 'Sobre Mí /// User_Profile', en: 'About Me /// User_Profile' },
            'aboutText': { // Asegúrate que el HTML interno sea correcto aquí
                es: `<p>Soy un desarrollador apasionado por la creación de experiencias digitales innovadoras. Con una sólida formación en diseño y programación, me especializo en fusionar estética y funcionalidad para ofrecer soluciones que no solo son visualmente atractivas sino también altamente eficientes.</p><p>Mi enfoque se centra en entender las necesidades de mis clientes y usuarios para desarrollar proyectos que superen sus expectativas. Siempre busco estar al día con las últimas tendencias y tecnologías para asegurar que cada proyecto sea relevante y de vanguardia.</p>`,
                en: `<p>I am a developer passionate about creating innovative digital experiences. With a solid background in design and programming, I specialize in merging aesthetics and functionality to provide solutions that are not only visually appealing but also highly efficient.</p><p>My approach focuses on understanding clients’ and users’ needs to develop projects that exceed their expectations. I always seek to stay up-to-date with the latest trends and technologies to ensure each project is relevant and cutting-edge.</p>`
            },
            '#skills .section-title': { es: 'Habilidades /// Skill_Matrix', en: 'Skills /// Skill_Matrix'},
            '#proyectos .section-title': { es: 'Proyectos Destacados /// Portfolio_Data', en: 'Featured Projects /// Portfolio_Data'},
            '#searchProjectInput::placeholder': { es: 'Filtrar proyectos por nombre/descripción...', en: 'Filter projects by name/description...' },
            '#searchProjectBtn': { es: 'Buscar', en: 'Search' },
             '#timeline .section-title': { es: 'Cronología /// Career_Log', en: 'Timeline /// Career_Log' },
             '#achievements .section-title': { es: 'Reconocimientos y Logros /// Accolade_Registry', en: 'Awards & Achievements /// Accolade_Registry' },
             '#certificados .section-title': { es: 'Certificados Digitales /// Credential_Vault', en: 'Digital Certificates /// Credential_Vault' },
             '#process .section-title': { es: 'Proceso de Trabajo /// Workflow_Protocol', en: 'Work Process /// Workflow_Protocol' },
             '#blog .section-title': { es: 'Blog /// Knowledge_Base', en: 'Blog /// Knowledge_Base' },
             '#testimonialsTitle': { es: 'Testimonios /// Client_Feedback_Log', en: 'Testimonials /// Client_Feedback_Log' },
             '#services .section-title': { es: 'Servicios /// Service_Matrix', en: 'Services /// Service_Matrix' },
             '#downloads .section-title': { es: 'Descargas /// Data_Repository', en: 'Downloads /// Data_Repository' },
             '#faqs .section-title': { es: 'Preguntas Frecuentes /// FAQ_Database', en: 'Frequently Asked Questions /// FAQ_Database' },
            '#contactTitle': { es: 'Contacto /// Comms_Link', en: 'Contact /// Comms_Link' },
            'contactIntro': { es: 'Estableciendo conexión... ¿Listo para iniciar tu próximo proyecto digital? Fusionamos tecnología, arte e interacción. Abre un canal de comunicación.', en: 'Establishing connection... Ready to initiate your next digital project? We merge technology, art, and interaction. Open a communication channel.' },
            'contactBtn': { es: 'Iniciar Transmisión', en: 'Initiate Transmission' },
            'footerCopy': { es: '© 2025 Ing. Espinosa Martínez José Armando. /// System Integrity Verified.', en: '© 2025 Ing. Espinosa Martínez José Armando. /// System Integrity Verified.' },
            '.filter-btn': { es: 'NAV_MENU', en: 'NAV_MENU' },
             // Links del menú filtro
             '.filter-panel a[href="#hero"]': { es: 'Inicio', en: 'Home' },
             '.filter-panel a[href="#about"]': { es: 'Sobre Mí', en: 'About Me' },
             '.filter-panel a[href="#skills"]': { es: 'Habilidades', en: 'Skills' },
             '.filter-panel a[href="#proyectos"]': { es: 'Proyectos', en: 'Projects' },
             '.filter-panel a[href="#timeline"]': { es: 'Cronología', en: 'Timeline' },
             '.filter-panel a[href="#achievements"]': { es: 'Logros', en: 'Achievements' },
             '.filter-panel a[href="#certificados"]': { es: 'Certificados', en: 'Certificates' },
             '.filter-panel a[href="#process"]': { es: 'Proceso', en: 'Process' },
             '.filter-panel a[href="#blog"]': { es: 'Blog', en: 'Blog' },
             '.filter-panel a[href="#testimonials"]': { es: 'Testimonios', en: 'Testimonials' },
             '.filter-panel a[href="#services"]': { es: 'Servicios', en: 'Services' },
             '.filter-panel a[href="#downloads"]': { es: 'Descargas', en: 'Downloads' },
             '.filter-panel a[href="#faqs"]': { es: 'FAQs', en: 'FAQs' },
             '.filter-panel a[href="#contact"]': { es: 'Contacto', en: 'Contact' },
             '.filter-panel a[href="Evidencias/Menu.html"]': { es: 'Evidencias', en: 'Evidence' },
             // Añadir más traducciones según sea necesario...
        };


        let currentLang = localStorage.getItem('portfolioLang') || 'es';

        function applyLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('portfolioLang', lang);
            if (langToggle) langToggle.textContent = lang === 'es' ? 'EN' : 'ES';

            for (const selector in translations) {
                let mainSelector = selector;
                let attribute = null;

                if (selector.includes('::placeholder')) {
                     mainSelector = selector.split('::')[0];
                     attribute = 'placeholder';
                }

                const elements = document.querySelectorAll(mainSelector);
                if (elements.length > 0) {
                    elements.forEach(element => {
                        const translationText = translations[selector]?.[lang];
                        if (translationText !== undefined) {
                            if (attribute === 'placeholder') {
                                element.placeholder = translationText;
                            } else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                                element.value = translationText;
                            } else {
                                // Usar innerHTML cuidadosamente, asumiendo que el contenido es seguro
                                element.innerHTML = translationText;
                            }
                        }
                    });
                }
            }
            applyTheme(htmlEl.getAttribute('data-theme') || 'dark'); // Re-aplicar tema para actualizar texto del botón
        }

        if (langToggle) {
            langToggle.addEventListener('click', () => {
                playSound('click');
                applyLanguage(currentLang === 'es' ? 'en' : 'es');
            });
        }

        applyLanguage(currentLang); // Aplicar idioma al inicio


        // ============================================================
        // BARRAS DE PROGRESO DINÁMICAS (SKILLS)
        // ============================================================
        const skillFills = document.querySelectorAll('.progress-bar-fill');
         if (typeof IntersectionObserver !== 'undefined') { // Check browser support
             const skillsObserver = new IntersectionObserver((entries) => {
                 entries.forEach(entry => {
                     if (entry.isIntersecting) {
                         const fillEl = entry.target;
                         const level = fillEl.getAttribute('data-skill-level');
                         setTimeout(() => { // Delay for effect
                             fillEl.style.width = level + '%';
                         }, 100);
                         // skillsObserver.unobserve(fillEl); // Uncomment for one-time animation
                     } else {
                         // Optional: Reset on exit
                         // entry.target.style.width = '0%';
                     }
                 });
             }, { threshold: 0.5 });

             function triggerVisibleSkillBars() {
                 skillFills.forEach(el => {
                     const rect = el.getBoundingClientRect();
                     if (rect.top < window.innerHeight && rect.bottom >= 0 && rect.width >= 0 && rect.height >= 0) {
                         const level = el.getAttribute('data-skill-level');
                         setTimeout(() => {
                             el.style.width = level + '%';
                         }, 150);
                         // skillsObserver.unobserve(el); // Uncomment for one-time animation
                     }
                     skillsObserver.observe(el); // Always observe
                 });
             }
         } else {
             // Fallback if IntersectionObserver not supported
             function triggerVisibleSkillBars() {
                 skillFills.forEach(el => {
                     const level = el.getAttribute('data-skill-level');
                     el.style.width = level + '%';
                 });
             }
         }


        // ============================================================
        // FAQ INTERACTIVO
        // ============================================================
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            if(question) {
                question.addEventListener('click', () => {
                    playSound('click', 0.4);
                    item.classList.toggle('open');
                });
            }
        });

        // ============================================================
        // LAZY LOADING PARA IMÁGENES (data-src)
        // ============================================================
        const lazyImages = document.querySelectorAll('img[data-src]');
         if (typeof IntersectionObserver !== 'undefined') {
             const lazyObserver = new IntersectionObserver((entries, observer) => {
                 entries.forEach(entry => {
                     if (entry.isIntersecting) {
                         const lazyEl = entry.target;
                         // CORREGIDO: Añadir el handler onload ANTES de cambiar el src
                         lazyEl.onload = () => {
                             lazyEl.classList.add('loaded');
                             lazyEl.removeAttribute('loading'); // Quitar atributo nativo si se usó
                         };
                         lazyEl.onerror = () => { // Manejo de error simple
                             console.error("Error cargando imagen:", lazyEl.dataset.src);
                             lazyEl.classList.add('error'); // Clase opcional para indicar error
                         };
                         lazyEl.src = lazyEl.dataset.src;
                         lazyEl.removeAttribute('data-src');
                         lazyObserver.unobserve(lazyEl);
                     }
                 });
             }, { rootMargin: "0px 0px 200px 0px" });

             lazyImages.forEach(img => lazyObserver.observe(img));
         } else {
              // Fallback: Cargar todas las imágenes directamente
              lazyImages.forEach(img => {
                  img.src = img.dataset.src;
                  img.removeAttribute('data-src');
                  img.classList.add('loaded');
              });
         }

        // ============================================================
        // FILTRO/BÚSQUEDA INTERNA PROYECTOS
        // ============================================================
        const searchProjectInput = document.getElementById('searchProjectInput');
        const searchProjectBtn = document.getElementById('searchProjectBtn');
        const projectGrid = document.getElementById('projectGrid');
        const allProjectItems = projectGrid ? Array.from(projectGrid.querySelectorAll('.project-item')) : [];

        function filterProjects() {
            if (!searchProjectInput || allProjectItems.length === 0) return;
            const term = searchProjectInput.value.toLowerCase().trim();
            allProjectItems.forEach(item => {
                const title = item.querySelector('h3')?.textContent.toLowerCase() || '';
                const description = item.querySelector('p')?.textContent.toLowerCase() || '';
                const tags = Array.from(item.querySelectorAll('.tech-tags span')).map(span => span.textContent.toLowerCase()).join(' ');
                const itemText = `${title} ${description} ${tags}`;
                item.style.display = itemText.includes(term) ? '' : 'none';
            });
        }

        if (searchProjectBtn) searchProjectBtn.addEventListener('click', () => { playSound('click'); filterProjects(); });
        if (searchProjectInput) {
             searchProjectInput.addEventListener('keyup', (e) => { if (e.key === 'Enter' || searchProjectInput.value.trim() === '') { filterProjects(); if(e.key === 'Enter') playSound('click'); } });
             searchProjectInput.addEventListener('input', () => { if (searchProjectInput.value.trim() === '') filterProjects(); });
        }

        // ============================================================
        // DESCARGAS
        // ============================================================
        const downloadButtons = document.querySelectorAll('.download-trigger');
        downloadButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                playSound('click');
                const file = btn.getAttribute('data-file');
                if (file) {
                    const link = document.createElement('a');
                    link.href = file;
                    link.download = file.split('/').pop();
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } else { console.error("No data-file attribute found on download button:", btn); }
            });
        });

        // ============================================================
        // MODALES DE CERTIFICADOS
        // ============================================================
        const modalTriggers = document.querySelectorAll('.modal-trigger');
        const modals = document.querySelectorAll('.modal');
        const closeModals = document.querySelectorAll('.close-modal');

        modalTriggers.forEach(button => {
            button.addEventListener('click', () => {
                playSound('click');
                const modalId = button.dataset.modalId;
                const modal = document.getElementById(modalId);
                if (modal) modal.classList.add('open');
                else console.error("Modal not found with ID:", modalId);
            });
        });

        function closeModal(modal) { if (modal) { playSound('click', 0.4); modal.classList.remove('open'); } }
        closeModals.forEach(button => button.addEventListener('click', () => closeModal(button.closest('.modal'))));
        modals.forEach(modal => modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(modal); }));
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { const openModal = document.querySelector('.modal.open'); if (openModal) closeModal(openModal); } });

        // ============================================================
        // ACTUALIZACIONES DEL HUD
        // ============================================================
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            if (hudClock) hudClock.textContent = `${hours}:${minutes}:${seconds}`;
        }

        function startClock() { if (hudClock) { updateClock(); setInterval(updateClock, 1000); } }

        function updateScrollIndicator() {
            const bodyHeight = document.body.scrollHeight;
            const windowHeight = window.innerHeight;
             if (!hudScrollIndicator) return; // Salir si no existe el elemento

            if (bodyHeight <= windowHeight) {
                hudScrollIndicator.querySelector('span:last-child').textContent = '100%';
                return;
            }
            const scrollableHeight = bodyHeight - windowHeight;
            const scrollPercent = Math.min(100, Math.max(0, (window.scrollY / scrollableHeight) * 100));
             hudScrollIndicator.querySelector('span:last-child').textContent = `${scrollPercent.toFixed(0)}%`;
        }

        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) window.cancelAnimationFrame(scrollTimeout);
            scrollTimeout = window.requestAnimationFrame(updateScrollIndicator);
        }, { passive: true });
        updateScrollIndicator(); // Llamar al inicio

        console.log("System Interface Initialized.");
    });
  </script>

</body>
</html>